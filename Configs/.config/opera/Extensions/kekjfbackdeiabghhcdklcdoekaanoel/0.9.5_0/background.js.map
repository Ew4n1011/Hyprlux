{"version":3,"file":"background.js","mappings":"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","sources":["webpack://MALSync/./node_modules/dompurify/dist/purify.js","webpack://MALSync/./node_modules/eventemitter2/lib/eventemitter2.js","webpack://MALSync/./node_modules/semver/classes/semver.js","webpack://MALSync/./node_modules/semver/functions/compare.js","webpack://MALSync/./node_modules/semver/functions/gt.js","webpack://MALSync/./node_modules/semver/internal/constants.js","webpack://MALSync/./node_modules/semver/internal/debug.js","webpack://MALSync/./node_modules/semver/internal/identifiers.js","webpack://MALSync/./node_modules/semver/internal/parse-options.js","webpack://MALSync/./node_modules/semver/internal/re.js","webpack://MALSync/./src/api/storage/webextension.ts","webpack://MALSync/./src/api/request/requestWebextension.ts","webpack://MALSync/./node_modules/@vue/shared/dist/shared.esm-bundler.js","webpack://MALSync/./node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js","webpack://MALSync/./src/api/settings.ts","webpack://MALSync/./src/api/webextension.ts","webpack://MALSync/./src/utils/consoleBG.ts","webpack://MALSync/./src/utils/general.ts","webpack://MALSync/./src/utils/j.ts","webpack://MALSync/webpack/bootstrap","webpack://MALSync/webpack/runtime/compat get default export","webpack://MALSync/webpack/runtime/define property getters","webpack://MALSync/webpack/runtime/global","webpack://MALSync/webpack/runtime/hasOwnProperty shorthand","webpack://MALSync/webpack/runtime/make namespace object","webpack://MALSync/./src/_provider/definitions.ts","webpack://MALSync/./src/utils/localStore.ts","webpack://MALSync/./src/utils/Cache.ts","webpack://MALSync/./src/_provider/helper.ts","webpack://MALSync/./src/utils/emitter.ts","webpack://MALSync/./src/_provider/Errors.ts","webpack://MALSync/./src/_provider/listAbstract.ts","webpack://MALSync/./src/_provider/MyAnimeList_api/helper.ts","webpack://MALSync/./src/_provider/MyAnimeList_api/list.ts","webpack://MALSync/./src/_provider/MyAnimeList_hybrid/list.ts","webpack://MALSync/./src/_provider/AniList/helper.ts","webpack://MALSync/./src/_provider/AniList/list.ts","webpack://MALSync/./src/_provider/Kitsu/helper.ts","webpack://MALSync/./src/_provider/Kitsu/list.ts","webpack://MALSync/./src/_provider/Simkl/helper.ts","webpack://MALSync/./src/_provider/Simkl/list.ts","webpack://MALSync/./src/_provider/Shikimori/helper.ts","webpack://MALSync/./src/_provider/Shikimori/list.ts","webpack://MALSync/./src/_provider/Local/helper.ts","webpack://MALSync/./src/_provider/Local/list.ts","webpack://MALSync/./src/_provider/listFactory.ts","webpack://MALSync/./src/background/releaseProgress.ts","webpack://MALSync/./src/utils/time.ts","webpack://MALSync/./src/utils/progress.ts","webpack://MALSync/./src/utils/errors.ts","webpack://MALSync/./src/_provider/ScoreMode/point10.ts","webpack://MALSync/./src/_provider/singleAbstract.ts","webpack://MALSync/./src/_provider/MyAnimeList_hybrid/single.ts","webpack://MALSync/./src/_provider/MyAnimeList_api/single.ts","webpack://MALSync/./src/_provider/ScoreMode/point100.ts","webpack://MALSync/./src/_provider/ScoreMode/smiley3.ts","webpack://MALSync/./src/_provider/ScoreMode/stars5.ts","webpack://MALSync/./src/_provider/ScoreMode/point100decimal.ts","webpack://MALSync/./src/_provider/AniList/single.ts","webpack://MALSync/./src/_provider/ScoreMode/point20decimal.ts","webpack://MALSync/./src/_provider/ScoreMode/smiley4.ts","webpack://MALSync/./src/_provider/ScoreMode/point10decimal.ts","webpack://MALSync/./src/_provider/Kitsu/single.ts","webpack://MALSync/./src/_provider/Simkl/single.ts","webpack://MALSync/./src/utils/syncHandler.ts","webpack://MALSync/./src/background/syncTags.ts","webpack://MALSync/./node_modules/webext-patterns/index.js","webpack://MALSync/./src/background/customDomain.ts","webpack://MALSync/./src/utils/manifest.ts","webpack://MALSync/./src/background/notifications.ts","webpack://MALSync/./node_modules/dexie/dist/modern/dexie.min.mjs","webpack://MALSync/./src/background/database.ts","webpack://MALSync/./src/background.ts","webpack://MALSync/./src/background/upgradeWizzards.ts","webpack://MALSync/./src/background/listSync.ts"],"sourcesContent":["/*! @license DOMPurify 3.0.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.3/LICENSE */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.DOMPurify = factory());\n})(this, (function () { 'use strict';\n\n  const {\n    entries,\n    setPrototypeOf,\n    isFrozen,\n    getPrototypeOf,\n    getOwnPropertyDescriptor\n  } = Object;\n  let {\n    freeze,\n    seal,\n    create\n  } = Object; // eslint-disable-line import/no-mutable-exports\n\n  let {\n    apply,\n    construct\n  } = typeof Reflect !== 'undefined' && Reflect;\n\n  if (!apply) {\n    apply = function apply(fun, thisValue, args) {\n      return fun.apply(thisValue, args);\n    };\n  }\n\n  if (!freeze) {\n    freeze = function freeze(x) {\n      return x;\n    };\n  }\n\n  if (!seal) {\n    seal = function seal(x) {\n      return x;\n    };\n  }\n\n  if (!construct) {\n    construct = function construct(Func, args) {\n      return new Func(...args);\n    };\n  }\n\n  const arrayForEach = unapply(Array.prototype.forEach);\n  const arrayPop = unapply(Array.prototype.pop);\n  const arrayPush = unapply(Array.prototype.push);\n  const stringToLowerCase = unapply(String.prototype.toLowerCase);\n  const stringToString = unapply(String.prototype.toString);\n  const stringMatch = unapply(String.prototype.match);\n  const stringReplace = unapply(String.prototype.replace);\n  const stringIndexOf = unapply(String.prototype.indexOf);\n  const stringTrim = unapply(String.prototype.trim);\n  const regExpTest = unapply(RegExp.prototype.test);\n  const typeErrorCreate = unconstruct(TypeError);\n  function unapply(func) {\n    return function (thisArg) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return apply(func, thisArg, args);\n    };\n  }\n  function unconstruct(func) {\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return construct(func, args);\n    };\n  }\n  /* Add properties to a lookup table */\n\n  function addToSet(set, array, transformCaseFunc) {\n    var _transformCaseFunc;\n\n    transformCaseFunc = (_transformCaseFunc = transformCaseFunc) !== null && _transformCaseFunc !== void 0 ? _transformCaseFunc : stringToLowerCase;\n\n    if (setPrototypeOf) {\n      // Make 'in' and truthy checks like Boolean(set.constructor)\n      // independent of any properties defined on Object.prototype.\n      // Prevent prototype setters from intercepting set as a this value.\n      setPrototypeOf(set, null);\n    }\n\n    let l = array.length;\n\n    while (l--) {\n      let element = array[l];\n\n      if (typeof element === 'string') {\n        const lcElement = transformCaseFunc(element);\n\n        if (lcElement !== element) {\n          // Config presets (e.g. tags.js, attrs.js) are immutable.\n          if (!isFrozen(array)) {\n            array[l] = lcElement;\n          }\n\n          element = lcElement;\n        }\n      }\n\n      set[element] = true;\n    }\n\n    return set;\n  }\n  /* Shallow clone an object */\n\n  function clone(object) {\n    const newObject = create(null);\n\n    for (const [property, value] of entries(object)) {\n      newObject[property] = value;\n    }\n\n    return newObject;\n  }\n  /* This method automatically checks if the prop is function\n   * or getter and behaves accordingly. */\n\n  function lookupGetter(object, prop) {\n    while (object !== null) {\n      const desc = getOwnPropertyDescriptor(object, prop);\n\n      if (desc) {\n        if (desc.get) {\n          return unapply(desc.get);\n        }\n\n        if (typeof desc.value === 'function') {\n          return unapply(desc.value);\n        }\n      }\n\n      object = getPrototypeOf(object);\n    }\n\n    function fallbackValue(element) {\n      console.warn('fallback value for', element);\n      return null;\n    }\n\n    return fallbackValue;\n  }\n\n  const html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']); // SVG\n\n  const svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\n  const svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']); // List of SVG elements that are disallowed by default.\n  // We still need to know them so that we can do namespace\n  // checks properly in case one wants to add them to\n  // allow-list.\n\n  const svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\n  const mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']); // Similarly to SVG, we want to know all MathML elements,\n  // even those that we disallow by default.\n\n  const mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\n  const text = freeze(['#text']);\n\n  const html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'xmlns', 'slot']);\n  const svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\n  const mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\n  const xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n  const MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\n\n  const ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n  const TMPLIT_EXPR = seal(/\\${[\\w\\W]*}/gm);\n  const DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\n\n  const ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\n\n  const IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n  );\n  const IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n  const ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n  );\n  const DOCTYPE_NAME = seal(/^html$/i);\n\n  var EXPRESSIONS = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    MUSTACHE_EXPR: MUSTACHE_EXPR,\n    ERB_EXPR: ERB_EXPR,\n    TMPLIT_EXPR: TMPLIT_EXPR,\n    DATA_ATTR: DATA_ATTR,\n    ARIA_ATTR: ARIA_ATTR,\n    IS_ALLOWED_URI: IS_ALLOWED_URI,\n    IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE: ATTR_WHITESPACE,\n    DOCTYPE_NAME: DOCTYPE_NAME\n  });\n\n  const getGlobal = () => typeof window === 'undefined' ? null : window;\n  /**\n   * Creates a no-op policy for internal use only.\n   * Don't export this function outside this module!\n   * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n   * @param {HTMLScriptElement} purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n   * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n   * are not supported or creating the policy failed).\n   */\n\n\n  const _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n    if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n      return null;\n    } // Allow the callers to control the unique policy name\n    // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n    // Policy creation with duplicate names throws in Trusted Types.\n\n\n    let suffix = null;\n    const ATTR_NAME = 'data-tt-policy-suffix';\n\n    if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n      suffix = purifyHostElement.getAttribute(ATTR_NAME);\n    }\n\n    const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n    try {\n      return trustedTypes.createPolicy(policyName, {\n        createHTML(html) {\n          return html;\n        },\n\n        createScriptURL(scriptUrl) {\n          return scriptUrl;\n        }\n\n      });\n    } catch (_) {\n      // Policy creation failed (most likely another DOMPurify script has\n      // already run). Skip creating the policy, as this will only cause errors\n      // if TT are enforced.\n      console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n      return null;\n    }\n  };\n\n  function createDOMPurify() {\n    let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n\n    const DOMPurify = root => createDOMPurify(root);\n    /**\n     * Version label, exposed for easier checks\n     * if DOMPurify is up to date or not\n     */\n\n\n    DOMPurify.version = '3.0.3';\n    /**\n     * Array of elements that DOMPurify removed during sanitation.\n     * Empty if nothing was removed.\n     */\n\n    DOMPurify.removed = [];\n\n    if (!window || !window.document || window.document.nodeType !== 9) {\n      // Not running in a browser, provide a factory function\n      // so that you can pass your own Window\n      DOMPurify.isSupported = false;\n      return DOMPurify;\n    }\n\n    const originalDocument = window.document;\n    const currentScript = originalDocument.currentScript;\n    let {\n      document\n    } = window;\n    const {\n      DocumentFragment,\n      HTMLTemplateElement,\n      Node,\n      Element,\n      NodeFilter,\n      NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n      HTMLFormElement,\n      DOMParser,\n      trustedTypes\n    } = window;\n    const ElementPrototype = Element.prototype;\n    const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n    const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n    const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n    const getParentNode = lookupGetter(ElementPrototype, 'parentNode'); // As per issue #47, the web-components registry is inherited by a\n    // new document created via createHTMLDocument. As per the spec\n    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n    // a new empty registry is used when creating a template contents owner\n    // document, so we use that as our parent document to ensure nothing\n    // is inherited.\n\n    if (typeof HTMLTemplateElement === 'function') {\n      const template = document.createElement('template');\n\n      if (template.content && template.content.ownerDocument) {\n        document = template.content.ownerDocument;\n      }\n    }\n\n    let trustedTypesPolicy;\n    let emptyHTML = '';\n    const {\n      implementation,\n      createNodeIterator,\n      createDocumentFragment,\n      getElementsByTagName\n    } = document;\n    const {\n      importNode\n    } = originalDocument;\n    let hooks = {};\n    /**\n     * Expose whether this browser supports running the full DOMPurify.\n     */\n\n    DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n    const {\n      MUSTACHE_EXPR,\n      ERB_EXPR,\n      TMPLIT_EXPR,\n      DATA_ATTR,\n      ARIA_ATTR,\n      IS_SCRIPT_OR_DATA,\n      ATTR_WHITESPACE\n    } = EXPRESSIONS;\n    let {\n      IS_ALLOWED_URI: IS_ALLOWED_URI$1\n    } = EXPRESSIONS;\n    /**\n     * We consider the elements and attributes below to be safe. Ideally\n     * don't add any new ones but feel free to remove unwanted ones.\n     */\n\n    /* allowed element names */\n\n    let ALLOWED_TAGS = null;\n    const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n    /* Allowed attribute names */\n\n    let ALLOWED_ATTR = null;\n    const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n    /*\n     * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n     * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n     * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n     * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n     */\n\n    let CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false\n      }\n    }));\n    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n\n    let FORBID_TAGS = null;\n    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n\n    let FORBID_ATTR = null;\n    /* Decide if ARIA attributes are okay */\n\n    let ALLOW_ARIA_ATTR = true;\n    /* Decide if custom data attributes are okay */\n\n    let ALLOW_DATA_ATTR = true;\n    /* Decide if unknown protocols are okay */\n\n    let ALLOW_UNKNOWN_PROTOCOLS = false;\n    /* Decide if self-closing tags in attributes are allowed.\n     * Usually removed due to a mXSS issue in jQuery 3.0 */\n\n    let ALLOW_SELF_CLOSE_IN_ATTR = true;\n    /* Output should be safe for common template engines.\n     * This means, DOMPurify removes data attributes, mustaches and ERB\n     */\n\n    let SAFE_FOR_TEMPLATES = false;\n    /* Decide if document with <html>... should be returned */\n\n    let WHOLE_DOCUMENT = false;\n    /* Track whether config is already set on this instance of DOMPurify. */\n\n    let SET_CONFIG = false;\n    /* Decide if all elements (e.g. style, script) must be children of\n     * document.body. By default, browsers might move them to document.head */\n\n    let FORCE_BODY = false;\n    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n     * string (or a TrustedHTML object if Trusted Types are supported).\n     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n     */\n\n    let RETURN_DOM = false;\n    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n     * string  (or a TrustedHTML object if Trusted Types are supported) */\n\n    let RETURN_DOM_FRAGMENT = false;\n    /* Try to return a Trusted Type object instead of a string, return a string in\n     * case Trusted Types are not supported  */\n\n    let RETURN_TRUSTED_TYPE = false;\n    /* Output should be free from DOM clobbering attacks?\n     * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n     */\n\n    let SANITIZE_DOM = true;\n    /* Achieve full DOM Clobbering protection by isolating the namespace of named\n     * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n     *\n     * HTML/DOM spec rules that enable DOM Clobbering:\n     *   - Named Access on Window (§7.3.3)\n     *   - DOM Tree Accessors (§3.1.5)\n     *   - Form Element Parent-Child Relations (§4.10.3)\n     *   - Iframe srcdoc / Nested WindowProxies (§4.8.5)\n     *   - HTMLCollection (§4.2.10.2)\n     *\n     * Namespace isolation is implemented by prefixing `id` and `name` attributes\n     * with a constant string, i.e., `user-content-`\n     */\n\n    let SANITIZE_NAMED_PROPS = false;\n    const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n    /* Keep element content when removing element? */\n\n    let KEEP_CONTENT = true;\n    /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n     * of importing it into a new Document and returning a sanitized copy */\n\n    let IN_PLACE = false;\n    /* Allow usage of profiles like html, svg and mathMl */\n\n    let USE_PROFILES = {};\n    /* Tags to ignore content of when KEEP_CONTENT is true */\n\n    let FORBID_CONTENTS = null;\n    const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n    /* Tags that are safe for data: URIs */\n\n    let DATA_URI_TAGS = null;\n    const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n    /* Attributes safe for values like \"javascript:\" */\n\n    let URI_SAFE_ATTRIBUTES = null;\n    const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n    const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n    const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n    const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n    /* Document namespace */\n\n    let NAMESPACE = HTML_NAMESPACE;\n    let IS_EMPTY_INPUT = false;\n    /* Allowed XHTML+XML namespaces */\n\n    let ALLOWED_NAMESPACES = null;\n    const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n    /* Parsing of strict XHTML documents */\n\n    let PARSER_MEDIA_TYPE;\n    const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n    const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n    let transformCaseFunc;\n    /* Keep a reference to config to pass to hooks */\n\n    let CONFIG = null;\n    /* Ideally, do not touch anything below this line */\n\n    /* ______________________________________________ */\n\n    const formElement = document.createElement('form');\n\n    const isRegexOrFunction = function isRegexOrFunction(testValue) {\n      return testValue instanceof RegExp || testValue instanceof Function;\n    };\n    /**\n     * _parseConfig\n     *\n     * @param  {Object} cfg optional config literal\n     */\n    // eslint-disable-next-line complexity\n\n\n    const _parseConfig = function _parseConfig(cfg) {\n      if (CONFIG && CONFIG === cfg) {\n        return;\n      }\n      /* Shield configuration object from tampering */\n\n\n      if (!cfg || typeof cfg !== 'object') {\n        cfg = {};\n      }\n      /* Shield configuration object from prototype pollution */\n\n\n      cfg = clone(cfg);\n      PARSER_MEDIA_TYPE = // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE; // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n\n      transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n      /* Set configuration parameters */\n\n      ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n      ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n      ALLOWED_NAMESPACES = 'ALLOWED_NAMESPACES' in cfg ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n      URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), // eslint-disable-line indent\n      cfg.ADD_URI_SAFE_ATTR, // eslint-disable-line indent\n      transformCaseFunc // eslint-disable-line indent\n      ) // eslint-disable-line indent\n      : DEFAULT_URI_SAFE_ATTRIBUTES;\n      DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), // eslint-disable-line indent\n      cfg.ADD_DATA_URI_TAGS, // eslint-disable-line indent\n      transformCaseFunc // eslint-disable-line indent\n      ) // eslint-disable-line indent\n      : DEFAULT_DATA_URI_TAGS;\n      FORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n      FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n      FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n      USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n      ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n\n      ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n\n      ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n\n      ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n\n      SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n\n      WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n\n      RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n\n      RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n\n      RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n\n      FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n\n      SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n\n      SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n\n      KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n\n      IN_PLACE = cfg.IN_PLACE || false; // Default false\n\n      IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n      NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n      CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n      }\n\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n      }\n\n      if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n        CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n      }\n\n      if (SAFE_FOR_TEMPLATES) {\n        ALLOW_DATA_ATTR = false;\n      }\n\n      if (RETURN_DOM_FRAGMENT) {\n        RETURN_DOM = true;\n      }\n      /* Parse profile info */\n\n\n      if (USE_PROFILES) {\n        ALLOWED_TAGS = addToSet({}, [...text]);\n        ALLOWED_ATTR = [];\n\n        if (USE_PROFILES.html === true) {\n          addToSet(ALLOWED_TAGS, html$1);\n          addToSet(ALLOWED_ATTR, html);\n        }\n\n        if (USE_PROFILES.svg === true) {\n          addToSet(ALLOWED_TAGS, svg$1);\n          addToSet(ALLOWED_ATTR, svg);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.svgFilters === true) {\n          addToSet(ALLOWED_TAGS, svgFilters);\n          addToSet(ALLOWED_ATTR, svg);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.mathMl === true) {\n          addToSet(ALLOWED_TAGS, mathMl$1);\n          addToSet(ALLOWED_ATTR, mathMl);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n      }\n      /* Merge configuration parameters */\n\n\n      if (cfg.ADD_TAGS) {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n      }\n\n      if (cfg.ADD_ATTR) {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n      }\n\n      if (cfg.ADD_URI_SAFE_ATTR) {\n        addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n      }\n\n      if (cfg.FORBID_CONTENTS) {\n        if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n          FORBID_CONTENTS = clone(FORBID_CONTENTS);\n        }\n\n        addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n      }\n      /* Add #text in case KEEP_CONTENT is set to true */\n\n\n      if (KEEP_CONTENT) {\n        ALLOWED_TAGS['#text'] = true;\n      }\n      /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n\n\n      if (WHOLE_DOCUMENT) {\n        addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n      }\n      /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n\n\n      if (ALLOWED_TAGS.table) {\n        addToSet(ALLOWED_TAGS, ['tbody']);\n        delete FORBID_TAGS.tbody;\n      }\n\n      if (cfg.TRUSTED_TYPES_POLICY) {\n        if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n          throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n        }\n\n        if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n          throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n        } // Overwrite existing TrustedTypes policy.\n\n\n        trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY; // Sign local variables required by `sanitize`.\n\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      } else {\n        // Uninitialized policy, attempt to initialize the internal dompurify policy.\n        if (trustedTypesPolicy === undefined) {\n          trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n        } // If creating the internal policy succeeded sign internal variables.\n\n\n        if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n          emptyHTML = trustedTypesPolicy.createHTML('');\n        }\n      } // Prevent further manipulation of configuration.\n      // Not available in IE8, Safari 5, etc.\n\n\n      if (freeze) {\n        freeze(cfg);\n      }\n\n      CONFIG = cfg;\n    };\n\n    const MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n    const HTML_INTEGRATION_POINTS = addToSet({}, ['foreignobject', 'desc', 'title', 'annotation-xml']); // Certain elements are allowed in both SVG and HTML\n    // namespace. We need to specify them explicitly\n    // so that they don't get erroneously deleted from\n    // HTML namespace.\n\n    const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n    /* Keep track of all possible SVG and MathML tags\n     * so that we can perform the namespace checks\n     * correctly. */\n\n    const ALL_SVG_TAGS = addToSet({}, svg$1);\n    addToSet(ALL_SVG_TAGS, svgFilters);\n    addToSet(ALL_SVG_TAGS, svgDisallowed);\n    const ALL_MATHML_TAGS = addToSet({}, mathMl$1);\n    addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n    /**\n     *\n     *\n     * @param  {Element} element a DOM element whose namespace is being checked\n     * @returns {boolean} Return false if the element has a\n     *  namespace that a spec-compliant parser would never\n     *  return. Return true otherwise.\n     */\n\n    const _checkValidNamespace = function _checkValidNamespace(element) {\n      let parent = getParentNode(element); // In JSDOM, if we're inside shadow DOM, then parentNode\n      // can be null. We just simulate parent in this case.\n\n      if (!parent || !parent.tagName) {\n        parent = {\n          namespaceURI: NAMESPACE,\n          tagName: 'template'\n        };\n      }\n\n      const tagName = stringToLowerCase(element.tagName);\n      const parentTagName = stringToLowerCase(parent.tagName);\n\n      if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n        return false;\n      }\n\n      if (element.namespaceURI === SVG_NAMESPACE) {\n        // The only way to switch from HTML namespace to SVG\n        // is via <svg>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'svg';\n        } // The only way to switch from MathML to SVG is via`\n        // svg if parent is either <annotation-xml> or MathML\n        // text integration points.\n\n\n        if (parent.namespaceURI === MATHML_NAMESPACE) {\n          return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n        } // We only allow elements that are defined in SVG\n        // spec. All others are disallowed in SVG namespace.\n\n\n        return Boolean(ALL_SVG_TAGS[tagName]);\n      }\n\n      if (element.namespaceURI === MATHML_NAMESPACE) {\n        // The only way to switch from HTML namespace to MathML\n        // is via <math>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'math';\n        } // The only way to switch from SVG to MathML is via\n        // <math> and HTML integration points\n\n\n        if (parent.namespaceURI === SVG_NAMESPACE) {\n          return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n        } // We only allow elements that are defined in MathML\n        // spec. All others are disallowed in MathML namespace.\n\n\n        return Boolean(ALL_MATHML_TAGS[tagName]);\n      }\n\n      if (element.namespaceURI === HTML_NAMESPACE) {\n        // The only way to switch from SVG to HTML is via\n        // HTML integration points, and from MathML to HTML\n        // is via MathML text integration points\n        if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        }\n\n        if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        } // We disallow tags that are specific for MathML\n        // or SVG and should never appear in HTML namespace\n\n\n        return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n      } // For XHTML and XML documents that support custom namespaces\n\n\n      if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n        return true;\n      } // The code should never reach this place (this means\n      // that the element somehow got namespace that is not\n      // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n      // Return false just in case.\n\n\n      return false;\n    };\n    /**\n     * _forceRemove\n     *\n     * @param  {Node} node a DOM node\n     */\n\n\n    const _forceRemove = function _forceRemove(node) {\n      arrayPush(DOMPurify.removed, {\n        element: node\n      });\n\n      try {\n        // eslint-disable-next-line unicorn/prefer-dom-node-remove\n        node.parentNode.removeChild(node);\n      } catch (_) {\n        node.remove();\n      }\n    };\n    /**\n     * _removeAttribute\n     *\n     * @param  {String} name an Attribute name\n     * @param  {Node} node a DOM node\n     */\n\n\n    const _removeAttribute = function _removeAttribute(name, node) {\n      try {\n        arrayPush(DOMPurify.removed, {\n          attribute: node.getAttributeNode(name),\n          from: node\n        });\n      } catch (_) {\n        arrayPush(DOMPurify.removed, {\n          attribute: null,\n          from: node\n        });\n      }\n\n      node.removeAttribute(name); // We void attribute values for unremovable \"is\"\" attributes\n\n      if (name === 'is' && !ALLOWED_ATTR[name]) {\n        if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n          try {\n            _forceRemove(node);\n          } catch (_) {}\n        } else {\n          try {\n            node.setAttribute(name, '');\n          } catch (_) {}\n        }\n      }\n    };\n    /**\n     * _initDocument\n     *\n     * @param  {String} dirty a string of dirty markup\n     * @return {Document} a DOM, filled with the dirty markup\n     */\n\n\n    const _initDocument = function _initDocument(dirty) {\n      /* Create a HTML document */\n      let doc;\n      let leadingWhitespace;\n\n      if (FORCE_BODY) {\n        dirty = '<remove></remove>' + dirty;\n      } else {\n        /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n        const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n        leadingWhitespace = matches && matches[0];\n      }\n\n      if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n        // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n        dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n      }\n\n      const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      /*\n       * Use the DOMParser API by default, fallback later if needs be\n       * DOMParser not work for svg when has multiple root element.\n       */\n\n      if (NAMESPACE === HTML_NAMESPACE) {\n        try {\n          doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n        } catch (_) {}\n      }\n      /* Use createHTMLDocument in case DOMParser is not available */\n\n\n      if (!doc || !doc.documentElement) {\n        doc = implementation.createDocument(NAMESPACE, 'template', null);\n\n        try {\n          doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n        } catch (_) {// Syntax error if dirtyPayload is invalid xml\n        }\n      }\n\n      const body = doc.body || doc.documentElement;\n\n      if (dirty && leadingWhitespace) {\n        body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n      }\n      /* Work on whole document or just its body */\n\n\n      if (NAMESPACE === HTML_NAMESPACE) {\n        return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n      }\n\n      return WHOLE_DOCUMENT ? doc.documentElement : body;\n    };\n    /**\n     * _createIterator\n     *\n     * @param  {Document} root document/fragment to create iterator for\n     * @return {Iterator} iterator instance\n     */\n\n\n    const _createIterator = function _createIterator(root) {\n      return createNodeIterator.call(root.ownerDocument || root, root, // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n    };\n    /**\n     * _isClobbered\n     *\n     * @param  {Node} elm element to check for clobbering attacks\n     * @return {Boolean} true if clobbered, false if safe\n     */\n\n\n    const _isClobbered = function _isClobbered(elm) {\n      return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function' || typeof elm.hasChildNodes !== 'function');\n    };\n    /**\n     * _isNode\n     *\n     * @param  {Node} obj object to check whether it's a DOM node\n     * @return {Boolean} true is object is a DOM node\n     */\n\n\n    const _isNode = function _isNode(object) {\n      return typeof Node === 'object' ? object instanceof Node : object && typeof object === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n    };\n    /**\n     * _executeHook\n     * Execute user configurable hooks\n     *\n     * @param  {String} entryPoint  Name of the hook's entry point\n     * @param  {Node} currentNode node to work on with the hook\n     * @param  {Object} data additional hook parameters\n     */\n\n\n    const _executeHook = function _executeHook(entryPoint, currentNode, data) {\n      if (!hooks[entryPoint]) {\n        return;\n      }\n\n      arrayForEach(hooks[entryPoint], hook => {\n        hook.call(DOMPurify, currentNode, data, CONFIG);\n      });\n    };\n    /**\n     * _sanitizeElements\n     *\n     * @protect nodeName\n     * @protect textContent\n     * @protect removeChild\n     *\n     * @param   {Node} currentNode to check for permission to exist\n     * @return  {Boolean} true if node was killed, false if left alive\n     */\n\n\n    const _sanitizeElements = function _sanitizeElements(currentNode) {\n      let content;\n      /* Execute a hook if present */\n\n      _executeHook('beforeSanitizeElements', currentNode, null);\n      /* Check if element is clobbered or can clobber */\n\n\n      if (_isClobbered(currentNode)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Now let's check the element's type and name */\n\n\n      const tagName = transformCaseFunc(currentNode.nodeName);\n      /* Execute a hook if present */\n\n      _executeHook('uponSanitizeElement', currentNode, {\n        tagName,\n        allowedTags: ALLOWED_TAGS\n      });\n      /* Detect mXSS attempts abusing namespace confusion */\n\n\n      if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Remove element if anything forbids its presence */\n\n\n      if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n        /* Check if we have a custom element to handle */\n        if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) return false;\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) return false;\n        }\n        /* Keep content except for bad-listed elements */\n\n\n        if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n          const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n          const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n          if (childNodes && parentNode) {\n            const childCount = childNodes.length;\n\n            for (let i = childCount - 1; i >= 0; --i) {\n              parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n            }\n          }\n        }\n\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Check whether element has a valid namespace */\n\n\n      if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Make sure that older browsers don't get noscript mXSS */\n\n\n      if ((tagName === 'noscript' || tagName === 'noembed') && regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Sanitize element content to be template-safe */\n\n\n      if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n        /* Get the element's text content */\n        content = currentNode.textContent;\n        content = stringReplace(content, MUSTACHE_EXPR, ' ');\n        content = stringReplace(content, ERB_EXPR, ' ');\n        content = stringReplace(content, TMPLIT_EXPR, ' ');\n\n        if (currentNode.textContent !== content) {\n          arrayPush(DOMPurify.removed, {\n            element: currentNode.cloneNode()\n          });\n          currentNode.textContent = content;\n        }\n      }\n      /* Execute a hook if present */\n\n\n      _executeHook('afterSanitizeElements', currentNode, null);\n\n      return false;\n    };\n    /**\n     * _isValidAttribute\n     *\n     * @param  {string} lcTag Lowercase tag name of containing element.\n     * @param  {string} lcName Lowercase attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid, otherwise false.\n     */\n    // eslint-disable-next-line complexity\n\n\n    const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n      /* Make sure attribute cannot clobber */\n      if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n        return false;\n      }\n      /* Allow valid data-* attributes: At least one character after \"-\"\n          (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n          XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n          We don't need to check the value; it's always URI safe. */\n\n\n      if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n        if ( // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        _basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) || // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n          return false;\n        }\n        /* Check value is safe. First, is attr inert? If so, is safe */\n\n      } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {\n        return false;\n      } else ;\n\n      return true;\n    };\n    /**\n     * _basicCustomElementCheck\n     * checks if at least one dash is included in tagName, and it's not the first char\n     * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n     * @param {string} tagName name of the tag of the node to sanitize\n     */\n\n\n    const _basicCustomElementTest = function _basicCustomElementTest(tagName) {\n      return tagName.indexOf('-') > 0;\n    };\n    /**\n     * _sanitizeAttributes\n     *\n     * @protect attributes\n     * @protect nodeName\n     * @protect removeAttribute\n     * @protect setAttribute\n     *\n     * @param  {Node} currentNode to sanitize\n     */\n\n\n    const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n      let attr;\n      let value;\n      let lcName;\n      let l;\n      /* Execute a hook if present */\n\n      _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n      const {\n        attributes\n      } = currentNode;\n      /* Check if we have attributes; if not we might have a text node */\n\n      if (!attributes) {\n        return;\n      }\n\n      const hookEvent = {\n        attrName: '',\n        attrValue: '',\n        keepAttr: true,\n        allowedAttributes: ALLOWED_ATTR\n      };\n      l = attributes.length;\n      /* Go backwards over all attributes; safely remove bad ones */\n\n      while (l--) {\n        attr = attributes[l];\n        const {\n          name,\n          namespaceURI\n        } = attr;\n        value = name === 'value' ? attr.value : stringTrim(attr.value);\n        lcName = transformCaseFunc(name);\n        /* Execute a hook if present */\n\n        hookEvent.attrName = lcName;\n        hookEvent.attrValue = value;\n        hookEvent.keepAttr = true;\n        hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n\n        _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n\n        value = hookEvent.attrValue;\n        /* Did the hooks approve of the attribute? */\n\n        if (hookEvent.forceKeepAttr) {\n          continue;\n        }\n        /* Remove attribute */\n\n\n        _removeAttribute(name, currentNode);\n        /* Did the hooks approve of the attribute? */\n\n\n        if (!hookEvent.keepAttr) {\n          continue;\n        }\n        /* Work around a security issue in jQuery 3.0 */\n\n\n        if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n          _removeAttribute(name, currentNode);\n\n          continue;\n        }\n        /* Sanitize attribute content to be template-safe */\n\n\n        if (SAFE_FOR_TEMPLATES) {\n          value = stringReplace(value, MUSTACHE_EXPR, ' ');\n          value = stringReplace(value, ERB_EXPR, ' ');\n          value = stringReplace(value, TMPLIT_EXPR, ' ');\n        }\n        /* Is `value` valid for this attribute? */\n\n\n        const lcTag = transformCaseFunc(currentNode.nodeName);\n\n        if (!_isValidAttribute(lcTag, lcName, value)) {\n          continue;\n        }\n        /* Full DOM Clobbering protection via namespace isolation,\n         * Prefix id and name attributes with `user-content-`\n         */\n\n\n        if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n          // Remove the attribute with this value\n          _removeAttribute(name, currentNode); // Prefix the value and later re-create the attribute with the sanitized value\n\n\n          value = SANITIZE_NAMED_PROPS_PREFIX + value;\n        }\n        /* Handle attributes that require Trusted Types */\n\n\n        if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n          if (namespaceURI) ; else {\n            switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n              case 'TrustedHTML':\n                {\n                  value = trustedTypesPolicy.createHTML(value);\n                  break;\n                }\n\n              case 'TrustedScriptURL':\n                {\n                  value = trustedTypesPolicy.createScriptURL(value);\n                  break;\n                }\n            }\n          }\n        }\n        /* Handle invalid data-* attribute set by try-catching it */\n\n\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n\n          arrayPop(DOMPurify.removed);\n        } catch (_) {}\n      }\n      /* Execute a hook if present */\n\n\n      _executeHook('afterSanitizeAttributes', currentNode, null);\n    };\n    /**\n     * _sanitizeShadowDOM\n     *\n     * @param  {DocumentFragment} fragment to iterate over recursively\n     */\n\n\n    const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n      let shadowNode;\n\n      const shadowIterator = _createIterator(fragment);\n      /* Execute a hook if present */\n\n\n      _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n      while (shadowNode = shadowIterator.nextNode()) {\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeShadowNode', shadowNode, null);\n        /* Sanitize tags and elements */\n\n\n        if (_sanitizeElements(shadowNode)) {\n          continue;\n        }\n        /* Deep shadow DOM detected */\n\n\n        if (shadowNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(shadowNode.content);\n        }\n        /* Check attributes, sanitize if necessary */\n\n\n        _sanitizeAttributes(shadowNode);\n      }\n      /* Execute a hook if present */\n\n\n      _executeHook('afterSanitizeShadowDOM', fragment, null);\n    };\n    /**\n     * Sanitize\n     * Public method providing core sanitation functionality\n     *\n     * @param {String|Node} dirty string or DOM node\n     * @param {Object} configuration object\n     */\n    // eslint-disable-next-line complexity\n\n\n    DOMPurify.sanitize = function (dirty) {\n      let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      let body;\n      let importedNode;\n      let currentNode;\n      let returnNode;\n      /* Make sure we have a string to sanitize.\n        DO NOT return early, as this will return the wrong type if\n        the user has requested a DOM object rather than a string */\n\n      IS_EMPTY_INPUT = !dirty;\n\n      if (IS_EMPTY_INPUT) {\n        dirty = '<!-->';\n      }\n      /* Stringify, in case dirty is an object */\n\n\n      if (typeof dirty !== 'string' && !_isNode(dirty)) {\n        if (typeof dirty.toString === 'function') {\n          dirty = dirty.toString();\n\n          if (typeof dirty !== 'string') {\n            throw typeErrorCreate('dirty is not a string, aborting');\n          }\n        } else {\n          throw typeErrorCreate('toString is not a function');\n        }\n      }\n      /* Return dirty HTML if DOMPurify cannot run */\n\n\n      if (!DOMPurify.isSupported) {\n        return dirty;\n      }\n      /* Assign config vars */\n\n\n      if (!SET_CONFIG) {\n        _parseConfig(cfg);\n      }\n      /* Clean up removed elements */\n\n\n      DOMPurify.removed = [];\n      /* Check if dirty is correctly typed for IN_PLACE */\n\n      if (typeof dirty === 'string') {\n        IN_PLACE = false;\n      }\n\n      if (IN_PLACE) {\n        /* Do some early pre-sanitization to avoid unsafe root nodes */\n        if (dirty.nodeName) {\n          const tagName = transformCaseFunc(dirty.nodeName);\n\n          if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n            throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n          }\n        }\n      } else if (dirty instanceof Node) {\n        /* If dirty is a DOM element, append to an empty document to avoid\n           elements being stripped by the parser */\n        body = _initDocument('<!---->');\n        importedNode = body.ownerDocument.importNode(dirty, true);\n\n        if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n          /* Node is already a body, use as is */\n          body = importedNode;\n        } else if (importedNode.nodeName === 'HTML') {\n          body = importedNode;\n        } else {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          body.appendChild(importedNode);\n        }\n      } else {\n        /* Exit directly if we have nothing to do */\n        if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1) {\n          return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        }\n        /* Initialize the document to work on */\n\n\n        body = _initDocument(dirty);\n        /* Check we have a DOM node from the data */\n\n        if (!body) {\n          return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n        }\n      }\n      /* Remove first element node (ours) if FORCE_BODY is set */\n\n\n      if (body && FORCE_BODY) {\n        _forceRemove(body.firstChild);\n      }\n      /* Get node iterator */\n\n\n      const nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n      /* Now start iterating over the created document */\n\n\n      while (currentNode = nodeIterator.nextNode()) {\n        /* Sanitize tags and elements */\n        if (_sanitizeElements(currentNode)) {\n          continue;\n        }\n        /* Shadow DOM detected, sanitize it */\n\n\n        if (currentNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(currentNode.content);\n        }\n        /* Check attributes, sanitize if necessary */\n\n\n        _sanitizeAttributes(currentNode);\n      }\n      /* If we sanitized `dirty` in-place, return it. */\n\n\n      if (IN_PLACE) {\n        return dirty;\n      }\n      /* Return sanitized string or DOM */\n\n\n      if (RETURN_DOM) {\n        if (RETURN_DOM_FRAGMENT) {\n          returnNode = createDocumentFragment.call(body.ownerDocument);\n\n          while (body.firstChild) {\n            // eslint-disable-next-line unicorn/prefer-dom-node-append\n            returnNode.appendChild(body.firstChild);\n          }\n        } else {\n          returnNode = body;\n        }\n\n        if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmod) {\n          /*\n            AdoptNode() is not used because internal state is not reset\n            (e.g. the past names map of a HTMLFormElement), this is safe\n            in theory but we would rather not risk another attack vector.\n            The state that is cloned by importNode() is explicitly defined\n            by the specs.\n          */\n          returnNode = importNode.call(originalDocument, returnNode, true);\n        }\n\n        return returnNode;\n      }\n\n      let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n      /* Serialize doctype if allowed */\n\n      if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n        serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n      }\n      /* Sanitize final string template-safe */\n\n\n      if (SAFE_FOR_TEMPLATES) {\n        serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR, ' ');\n        serializedHTML = stringReplace(serializedHTML, ERB_EXPR, ' ');\n        serializedHTML = stringReplace(serializedHTML, TMPLIT_EXPR, ' ');\n      }\n\n      return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n    };\n    /**\n     * Public method to set the configuration once\n     * setConfig\n     *\n     * @param {Object} cfg configuration object\n     */\n\n\n    DOMPurify.setConfig = function (cfg) {\n      _parseConfig(cfg);\n\n      SET_CONFIG = true;\n    };\n    /**\n     * Public method to remove the configuration\n     * clearConfig\n     *\n     */\n\n\n    DOMPurify.clearConfig = function () {\n      CONFIG = null;\n      SET_CONFIG = false;\n    };\n    /**\n     * Public method to check if an attribute value is valid.\n     * Uses last set config, if any. Otherwise, uses config defaults.\n     * isValidAttribute\n     *\n     * @param  {string} tag Tag name of containing element.\n     * @param  {string} attr Attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n     */\n\n\n    DOMPurify.isValidAttribute = function (tag, attr, value) {\n      /* Initialize shared config vars if necessary. */\n      if (!CONFIG) {\n        _parseConfig({});\n      }\n\n      const lcTag = transformCaseFunc(tag);\n      const lcName = transformCaseFunc(attr);\n      return _isValidAttribute(lcTag, lcName, value);\n    };\n    /**\n     * AddHook\n     * Public method to add DOMPurify hooks\n     *\n     * @param {String} entryPoint entry point for the hook to add\n     * @param {Function} hookFunction function to execute\n     */\n\n\n    DOMPurify.addHook = function (entryPoint, hookFunction) {\n      if (typeof hookFunction !== 'function') {\n        return;\n      }\n\n      hooks[entryPoint] = hooks[entryPoint] || [];\n      arrayPush(hooks[entryPoint], hookFunction);\n    };\n    /**\n     * RemoveHook\n     * Public method to remove a DOMPurify hook at a given entryPoint\n     * (pops it from the stack of hooks if more are present)\n     *\n     * @param {String} entryPoint entry point for the hook to remove\n     * @return {Function} removed(popped) hook\n     */\n\n\n    DOMPurify.removeHook = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        return arrayPop(hooks[entryPoint]);\n      }\n    };\n    /**\n     * RemoveHooks\n     * Public method to remove all DOMPurify hooks at a given entryPoint\n     *\n     * @param  {String} entryPoint entry point for the hooks to remove\n     */\n\n\n    DOMPurify.removeHooks = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        hooks[entryPoint] = [];\n      }\n    };\n    /**\n     * RemoveAllHooks\n     * Public method to remove all DOMPurify hooks\n     *\n     */\n\n\n    DOMPurify.removeAllHooks = function () {\n      hooks = {};\n    };\n\n    return DOMPurify;\n  }\n\n  var purify = createDOMPurify();\n\n  return purify;\n\n}));\n//# sourceMappingURL=purify.js.map\n","/*!\n * EventEmitter2\n * https://github.com/hij1nx/EventEmitter2\n *\n * Copyright (c) 2013 hij1nx\n * Licensed under the MIT license.\n */\n;!function(undefined) {\n  var hasOwnProperty= Object.hasOwnProperty;\n  var isArray = Array.isArray ? Array.isArray : function _isArray(obj) {\n    return Object.prototype.toString.call(obj) === \"[object Array]\";\n  };\n  var defaultMaxListeners = 10;\n  var nextTickSupported= typeof process=='object' && typeof process.nextTick=='function';\n  var symbolsSupported= typeof Symbol==='function';\n  var reflectSupported= typeof Reflect === 'object';\n  var setImmediateSupported= typeof setImmediate === 'function';\n  var _setImmediate= setImmediateSupported ? setImmediate : setTimeout;\n  var ownKeys= symbolsSupported? (reflectSupported && typeof Reflect.ownKeys==='function'? Reflect.ownKeys : function(obj){\n    var arr= Object.getOwnPropertyNames(obj);\n    arr.push.apply(arr, Object.getOwnPropertySymbols(obj));\n    return arr;\n  }) : Object.keys;\n\n  function init() {\n    this._events = {};\n    if (this._conf) {\n      configure.call(this, this._conf);\n    }\n  }\n\n  function configure(conf) {\n    if (conf) {\n      this._conf = conf;\n\n      conf.delimiter && (this.delimiter = conf.delimiter);\n\n      if(conf.maxListeners!==undefined){\n          this._maxListeners= conf.maxListeners;\n      }\n\n      conf.wildcard && (this.wildcard = conf.wildcard);\n      conf.newListener && (this._newListener = conf.newListener);\n      conf.removeListener && (this._removeListener = conf.removeListener);\n      conf.verboseMemoryLeak && (this.verboseMemoryLeak = conf.verboseMemoryLeak);\n      conf.ignoreErrors && (this.ignoreErrors = conf.ignoreErrors);\n\n      if (this.wildcard) {\n        this.listenerTree = {};\n      }\n    }\n  }\n\n  function logPossibleMemoryLeak(count, eventName) {\n    var errorMsg = '(node) warning: possible EventEmitter memory ' +\n        'leak detected. ' + count + ' listeners added. ' +\n        'Use emitter.setMaxListeners() to increase limit.';\n\n    if(this.verboseMemoryLeak){\n      errorMsg += ' Event name: ' + eventName + '.';\n    }\n\n    if(typeof process !== 'undefined' && process.emitWarning){\n      var e = new Error(errorMsg);\n      e.name = 'MaxListenersExceededWarning';\n      e.emitter = this;\n      e.count = count;\n      process.emitWarning(e);\n    } else {\n      console.error(errorMsg);\n\n      if (console.trace){\n        console.trace();\n      }\n    }\n  }\n\n  var toArray = function (a, b, c) {\n    var n = arguments.length;\n    switch (n) {\n      case 0:\n        return [];\n      case 1:\n        return [a];\n      case 2:\n        return [a, b];\n      case 3:\n        return [a, b, c];\n      default:\n        var arr = new Array(n);\n        while (n--) {\n          arr[n] = arguments[n];\n        }\n        return arr;\n    }\n  };\n\n  function toObject(keys, values) {\n    var obj = {};\n    var key;\n    var len = keys.length;\n    var valuesCount = values ? value.length : 0;\n    for (var i = 0; i < len; i++) {\n      key = keys[i];\n      obj[key] = i < valuesCount ? values[i] : undefined;\n    }\n    return obj;\n  }\n\n  function TargetObserver(emitter, target, options) {\n    this._emitter = emitter;\n    this._target = target;\n    this._listeners = {};\n    this._listenersCount = 0;\n\n    var on, off;\n\n    if (options.on || options.off) {\n      on = options.on;\n      off = options.off;\n    }\n\n    if (target.addEventListener) {\n      on = target.addEventListener;\n      off = target.removeEventListener;\n    } else if (target.addListener) {\n      on = target.addListener;\n      off = target.removeListener;\n    } else if (target.on) {\n      on = target.on;\n      off = target.off;\n    }\n\n    if (!on && !off) {\n      throw Error('target does not implement any known event API');\n    }\n\n    if (typeof on !== 'function') {\n      throw TypeError('on method must be a function');\n    }\n\n    if (typeof off !== 'function') {\n      throw TypeError('off method must be a function');\n    }\n\n    this._on = on;\n    this._off = off;\n\n    var _observers= emitter._observers;\n    if(_observers){\n      _observers.push(this);\n    }else{\n      emitter._observers= [this];\n    }\n  }\n\n  Object.assign(TargetObserver.prototype, {\n    subscribe: function(event, localEvent, reducer){\n      var observer= this;\n      var target= this._target;\n      var emitter= this._emitter;\n      var listeners= this._listeners;\n      var handler= function(){\n        var args= toArray.apply(null, arguments);\n        var eventObj= {\n          data: args,\n          name: localEvent,\n          original: event\n        };\n        if(reducer){\n          var result= reducer.call(target, eventObj);\n          if(result!==false){\n            emitter.emit.apply(emitter, [eventObj.name].concat(args))\n          }\n          return;\n        }\n        emitter.emit.apply(emitter, [localEvent].concat(args));\n      };\n\n\n      if(listeners[event]){\n        throw Error('Event \\'' + event + '\\' is already listening');\n      }\n\n      this._listenersCount++;\n\n      if(emitter._newListener && emitter._removeListener && !observer._onNewListener){\n\n        this._onNewListener = function (_event) {\n          if (_event === localEvent && listeners[event] === null) {\n            listeners[event] = handler;\n            observer._on.call(target, event, handler);\n          }\n        };\n\n        emitter.on('newListener', this._onNewListener);\n\n        this._onRemoveListener= function(_event){\n          if(_event === localEvent && !emitter.hasListeners(_event) && listeners[event]){\n            listeners[event]= null;\n            observer._off.call(target, event, handler);\n          }\n        };\n\n        listeners[event]= null;\n\n        emitter.on('removeListener', this._onRemoveListener);\n      }else{\n        listeners[event]= handler;\n        observer._on.call(target, event, handler);\n      }\n    },\n\n    unsubscribe: function(event){\n      var observer= this;\n      var listeners= this._listeners;\n      var emitter= this._emitter;\n      var handler;\n      var events;\n      var off= this._off;\n      var target= this._target;\n      var i;\n\n      if(event && typeof event!=='string'){\n        throw TypeError('event must be a string');\n      }\n\n      function clearRefs(){\n        if(observer._onNewListener){\n          emitter.off('newListener', observer._onNewListener);\n          emitter.off('removeListener', observer._onRemoveListener);\n          observer._onNewListener= null;\n          observer._onRemoveListener= null;\n        }\n        var index= findTargetIndex.call(emitter, observer);\n        emitter._observers.splice(index, 1);\n      }\n\n      if(event){\n        handler= listeners[event];\n        if(!handler) return;\n        off.call(target, event, handler);\n        delete listeners[event];\n        if(!--this._listenersCount){\n          clearRefs();\n        }\n      }else{\n        events= ownKeys(listeners);\n        i= events.length;\n        while(i-->0){\n          event= events[i];\n          off.call(target, event, listeners[event]);\n        }\n        this._listeners= {};\n        this._listenersCount= 0;\n        clearRefs();\n      }\n    }\n  });\n\n  function resolveOptions(options, schema, reducers, allowUnknown) {\n    var computedOptions = Object.assign({}, schema);\n\n    if (!options) return computedOptions;\n\n    if (typeof options !== 'object') {\n      throw TypeError('options must be an object')\n    }\n\n    var keys = Object.keys(options);\n    var length = keys.length;\n    var option, value;\n    var reducer;\n\n    function reject(reason) {\n      throw Error('Invalid \"' + option + '\" option value' + (reason ? '. Reason: ' + reason : ''))\n    }\n\n    for (var i = 0; i < length; i++) {\n      option = keys[i];\n      if (!allowUnknown && !hasOwnProperty.call(schema, option)) {\n        throw Error('Unknown \"' + option + '\" option');\n      }\n      value = options[option];\n      if (value !== undefined) {\n        reducer = reducers[option];\n        computedOptions[option] = reducer ? reducer(value, reject) : value;\n      }\n    }\n    return computedOptions;\n  }\n\n  function constructorReducer(value, reject) {\n    if (typeof value !== 'function' || !value.hasOwnProperty('prototype')) {\n      reject('value must be a constructor');\n    }\n    return value;\n  }\n\n  function makeTypeReducer(types) {\n    var message= 'value must be type of ' + types.join('|');\n    var len= types.length;\n    var firstType= types[0];\n    var secondType= types[1];\n\n    if (len === 1) {\n      return function (v, reject) {\n        if (typeof v === firstType) {\n          return v;\n        }\n        reject(message);\n      }\n    }\n\n    if (len === 2) {\n      return function (v, reject) {\n        var kind= typeof v;\n        if (kind === firstType || kind === secondType) return v;\n        reject(message);\n      }\n    }\n\n    return function (v, reject) {\n      var kind = typeof v;\n      var i = len;\n      while (i-- > 0) {\n        if (kind === types[i]) return v;\n      }\n      reject(message);\n    }\n  }\n\n  var functionReducer= makeTypeReducer(['function']);\n\n  var objectFunctionReducer= makeTypeReducer(['object', 'function']);\n\n  function makeCancelablePromise(Promise, executor, options) {\n    var isCancelable;\n    var callbacks;\n    var timer= 0;\n    var subscriptionClosed;\n\n    var promise = new Promise(function (resolve, reject, onCancel) {\n      options= resolveOptions(options, {\n        timeout: 0,\n        overload: false\n      }, {\n        timeout: function(value, reject){\n          value*= 1;\n          if (typeof value !== 'number' || value < 0 || !Number.isFinite(value)) {\n            reject('timeout must be a positive number');\n          }\n          return value;\n        }\n      });\n\n      isCancelable = !options.overload && typeof Promise.prototype.cancel === 'function' && typeof onCancel === 'function';\n\n      function cleanup() {\n        if (callbacks) {\n          callbacks = null;\n        }\n        if (timer) {\n          clearTimeout(timer);\n          timer = 0;\n        }\n      }\n\n      var _resolve= function(value){\n        cleanup();\n        resolve(value);\n      };\n\n      var _reject= function(err){\n        cleanup();\n        reject(err);\n      };\n\n      if (isCancelable) {\n        executor(_resolve, _reject, onCancel);\n      } else {\n        callbacks = [function(reason){\n          _reject(reason || Error('canceled'));\n        }];\n        executor(_resolve, _reject, function (cb) {\n          if (subscriptionClosed) {\n            throw Error('Unable to subscribe on cancel event asynchronously')\n          }\n          if (typeof cb !== 'function') {\n            throw TypeError('onCancel callback must be a function');\n          }\n          callbacks.push(cb);\n        });\n        subscriptionClosed= true;\n      }\n\n      if (options.timeout > 0) {\n        timer= setTimeout(function(){\n          var reason= Error('timeout');\n          reason.code = 'ETIMEDOUT'\n          timer= 0;\n          promise.cancel(reason);\n          reject(reason);\n        }, options.timeout);\n      }\n    });\n\n    if (!isCancelable) {\n      promise.cancel = function (reason) {\n        if (!callbacks) {\n          return;\n        }\n        var length = callbacks.length;\n        for (var i = 1; i < length; i++) {\n          callbacks[i](reason);\n        }\n        // internal callback to reject the promise\n        callbacks[0](reason);\n        callbacks = null;\n      };\n    }\n\n    return promise;\n  }\n\n  function findTargetIndex(observer) {\n    var observers = this._observers;\n    if(!observers){\n      return -1;\n    }\n    var len = observers.length;\n    for (var i = 0; i < len; i++) {\n      if (observers[i]._target === observer) return i;\n    }\n    return -1;\n  }\n\n  // Attention, function return type now is array, always !\n  // It has zero elements if no any matches found and one or more\n  // elements (leafs) if there are matches\n  //\n  function searchListenerTree(handlers, type, tree, i, typeLength) {\n    if (!tree) {\n      return null;\n    }\n\n    if (i === 0) {\n      var kind = typeof type;\n      if (kind === 'string') {\n        var ns, n, l = 0, j = 0, delimiter = this.delimiter, dl = delimiter.length;\n        if ((n = type.indexOf(delimiter)) !== -1) {\n          ns = new Array(5);\n          do {\n            ns[l++] = type.slice(j, n);\n            j = n + dl;\n          } while ((n = type.indexOf(delimiter, j)) !== -1);\n\n          ns[l++] = type.slice(j);\n          type = ns;\n          typeLength = l;\n        } else {\n          type = [type];\n          typeLength = 1;\n        }\n      } else if (kind === 'object') {\n        typeLength = type.length;\n      } else {\n        type = [type];\n        typeLength = 1;\n      }\n    }\n\n    var listeners= null, branch, xTree, xxTree, isolatedBranch, endReached, currentType = type[i],\n        nextType = type[i + 1], branches, _listeners;\n\n    if (i === typeLength) {\n      //\n      // If at the end of the event(s) list and the tree has listeners\n      // invoke those listeners.\n      //\n\n      if(tree._listeners) {\n        if (typeof tree._listeners === 'function') {\n          handlers && handlers.push(tree._listeners);\n          listeners = [tree];\n        } else {\n          handlers && handlers.push.apply(handlers, tree._listeners);\n          listeners = [tree];\n        }\n      }\n    } else {\n\n      if (currentType === '*') {\n        //\n        // If the event emitted is '*' at this part\n        // or there is a concrete match at this patch\n        //\n        branches = ownKeys(tree);\n        n = branches.length;\n        while (n-- > 0) {\n          branch = branches[n];\n          if (branch !== '_listeners') {\n            _listeners = searchListenerTree(handlers, type, tree[branch], i + 1, typeLength);\n            if (_listeners) {\n              if (listeners) {\n                listeners.push.apply(listeners, _listeners);\n              } else {\n                listeners = _listeners;\n              }\n            }\n          }\n        }\n        return listeners;\n      } else if (currentType === '**') {\n        endReached = (i + 1 === typeLength || (i + 2 === typeLength && nextType === '*'));\n        if (endReached && tree._listeners) {\n          // The next element has a _listeners, add it to the handlers.\n          listeners = searchListenerTree(handlers, type, tree, typeLength, typeLength);\n        }\n\n        branches = ownKeys(tree);\n        n = branches.length;\n        while (n-- > 0) {\n          branch = branches[n];\n          if (branch !== '_listeners') {\n            if (branch === '*' || branch === '**') {\n              if (tree[branch]._listeners && !endReached) {\n                _listeners = searchListenerTree(handlers, type, tree[branch], typeLength, typeLength);\n                if (_listeners) {\n                  if (listeners) {\n                    listeners.push.apply(listeners, _listeners);\n                  } else {\n                    listeners = _listeners;\n                  }\n                }\n              }\n              _listeners = searchListenerTree(handlers, type, tree[branch], i, typeLength);\n            } else if (branch === nextType) {\n              _listeners = searchListenerTree(handlers, type, tree[branch], i + 2, typeLength);\n            } else {\n              // No match on this one, shift into the tree but not in the type array.\n              _listeners = searchListenerTree(handlers, type, tree[branch], i, typeLength);\n            }\n            if (_listeners) {\n              if (listeners) {\n                listeners.push.apply(listeners, _listeners);\n              } else {\n                listeners = _listeners;\n              }\n            }\n          }\n        }\n        return listeners;\n      } else if (tree[currentType]) {\n        listeners = searchListenerTree(handlers, type, tree[currentType], i + 1, typeLength);\n      }\n    }\n\n      xTree = tree['*'];\n    if (xTree) {\n      //\n      // If the listener tree will allow any match for this part,\n      // then recursively explore all branches of the tree\n      //\n      searchListenerTree(handlers, type, xTree, i + 1, typeLength);\n    }\n\n    xxTree = tree['**'];\n    if (xxTree) {\n      if (i < typeLength) {\n        if (xxTree._listeners) {\n          // If we have a listener on a '**', it will catch all, so add its handler.\n          searchListenerTree(handlers, type, xxTree, typeLength, typeLength);\n        }\n\n        // Build arrays of matching next branches and others.\n        branches= ownKeys(xxTree);\n        n= branches.length;\n        while(n-->0){\n          branch= branches[n];\n          if (branch !== '_listeners') {\n            if (branch === nextType) {\n              // We know the next element will match, so jump twice.\n              searchListenerTree(handlers, type, xxTree[branch], i + 2, typeLength);\n            } else if (branch === currentType) {\n              // Current node matches, move into the tree.\n              searchListenerTree(handlers, type, xxTree[branch], i + 1, typeLength);\n            } else {\n              isolatedBranch = {};\n              isolatedBranch[branch] = xxTree[branch];\n              searchListenerTree(handlers, type, {'**': isolatedBranch}, i + 1, typeLength);\n            }\n          }\n        }\n      } else if (xxTree._listeners) {\n        // We have reached the end and still on a '**'\n        searchListenerTree(handlers, type, xxTree, typeLength, typeLength);\n      } else if (xxTree['*'] && xxTree['*']._listeners) {\n        searchListenerTree(handlers, type, xxTree['*'], typeLength, typeLength);\n      }\n    }\n\n    return listeners;\n  }\n\n  function growListenerTree(type, listener, prepend) {\n    var len = 0, j = 0, i, delimiter = this.delimiter, dl= delimiter.length, ns;\n\n    if(typeof type==='string') {\n      if ((i = type.indexOf(delimiter)) !== -1) {\n        ns = new Array(5);\n        do {\n          ns[len++] = type.slice(j, i);\n          j = i + dl;\n        } while ((i = type.indexOf(delimiter, j)) !== -1);\n\n        ns[len++] = type.slice(j);\n      }else{\n        ns= [type];\n        len= 1;\n      }\n    }else{\n      ns= type;\n      len= type.length;\n    }\n\n    //\n    // Looks for two consecutive '**', if so, don't add the event at all.\n    //\n    if (len > 1) {\n      for (i = 0; i + 1 < len; i++) {\n        if (ns[i] === '**' && ns[i + 1] === '**') {\n          return;\n        }\n      }\n    }\n\n\n\n    var tree = this.listenerTree, name;\n\n    for (i = 0; i < len; i++) {\n      name = ns[i];\n\n      tree = tree[name] || (tree[name] = {});\n\n      if (i === len - 1) {\n        if (!tree._listeners) {\n          tree._listeners = listener;\n        } else {\n          if (typeof tree._listeners === 'function') {\n            tree._listeners = [tree._listeners];\n          }\n\n          if (prepend) {\n            tree._listeners.unshift(listener);\n          } else {\n            tree._listeners.push(listener);\n          }\n\n          if (\n              !tree._listeners.warned &&\n              this._maxListeners > 0 &&\n              tree._listeners.length > this._maxListeners\n          ) {\n            tree._listeners.warned = true;\n            logPossibleMemoryLeak.call(this, tree._listeners.length, name);\n          }\n        }\n        return true;\n      }\n    }\n\n    return true;\n  }\n\n  function collectTreeEvents(tree, events, root, asArray){\n     var branches= ownKeys(tree);\n     var i= branches.length;\n     var branch, branchName, path;\n     var hasListeners= tree['_listeners'];\n     var isArrayPath;\n\n     while(i-->0){\n         branchName= branches[i];\n\n         branch= tree[branchName];\n\n         if(branchName==='_listeners'){\n             path= root;\n         }else {\n             path = root ? root.concat(branchName) : [branchName];\n         }\n\n         isArrayPath= asArray || typeof branchName==='symbol';\n\n         hasListeners && events.push(isArrayPath? path : path.join(this.delimiter));\n\n         if(typeof branch==='object'){\n             collectTreeEvents.call(this, branch, events, path, isArrayPath);\n         }\n     }\n\n     return events;\n  }\n\n  function recursivelyGarbageCollect(root) {\n    var keys = ownKeys(root);\n    var i= keys.length;\n    var obj, key, flag;\n    while(i-->0){\n      key = keys[i];\n      obj = root[key];\n\n      if(obj){\n          flag= true;\n          if(key !== '_listeners' && !recursivelyGarbageCollect(obj)){\n             delete root[key];\n          }\n      }\n    }\n\n    return flag;\n  }\n\n  function Listener(emitter, event, listener){\n    this.emitter= emitter;\n    this.event= event;\n    this.listener= listener;\n  }\n\n  Listener.prototype.off= function(){\n    this.emitter.off(this.event, this.listener);\n    return this;\n  };\n\n  function setupListener(event, listener, options){\n      if (options === true) {\n        promisify = true;\n      } else if (options === false) {\n        async = true;\n      } else {\n        if (!options || typeof options !== 'object') {\n          throw TypeError('options should be an object or true');\n        }\n        var async = options.async;\n        var promisify = options.promisify;\n        var nextTick = options.nextTick;\n        var objectify = options.objectify;\n      }\n\n      if (async || nextTick || promisify) {\n        var _listener = listener;\n        var _origin = listener._origin || listener;\n\n        if (nextTick && !nextTickSupported) {\n          throw Error('process.nextTick is not supported');\n        }\n\n        if (promisify === undefined) {\n          promisify = listener.constructor.name === 'AsyncFunction';\n        }\n\n        listener = function () {\n          var args = arguments;\n          var context = this;\n          var event = this.event;\n\n          return promisify ? (nextTick ? Promise.resolve() : new Promise(function (resolve) {\n            _setImmediate(resolve);\n          }).then(function () {\n            context.event = event;\n            return _listener.apply(context, args)\n          })) : (nextTick ? process.nextTick : _setImmediate)(function () {\n            context.event = event;\n            _listener.apply(context, args)\n          });\n        };\n\n        listener._async = true;\n        listener._origin = _origin;\n      }\n\n    return [listener, objectify? new Listener(this, event, listener): this];\n  }\n\n  function EventEmitter(conf) {\n    this._events = {};\n    this._newListener = false;\n    this._removeListener = false;\n    this.verboseMemoryLeak = false;\n    configure.call(this, conf);\n  }\n\n  EventEmitter.EventEmitter2 = EventEmitter; // backwards compatibility for exporting EventEmitter property\n\n  EventEmitter.prototype.listenTo= function(target, events, options){\n    if(typeof target!=='object'){\n      throw TypeError('target musts be an object');\n    }\n\n    var emitter= this;\n\n    options = resolveOptions(options, {\n      on: undefined,\n      off: undefined,\n      reducers: undefined\n    }, {\n      on: functionReducer,\n      off: functionReducer,\n      reducers: objectFunctionReducer\n    });\n\n    function listen(events){\n      if(typeof events!=='object'){\n        throw TypeError('events must be an object');\n      }\n\n      var reducers= options.reducers;\n      var index= findTargetIndex.call(emitter, target);\n      var observer;\n\n      if(index===-1){\n        observer= new TargetObserver(emitter, target, options);\n      }else{\n        observer= emitter._observers[index];\n      }\n\n      var keys= ownKeys(events);\n      var len= keys.length;\n      var event;\n      var isSingleReducer= typeof reducers==='function';\n\n      for(var i=0; i<len; i++){\n        event= keys[i];\n        observer.subscribe(\n            event,\n            events[event] || event,\n            isSingleReducer ? reducers : reducers && reducers[event]\n        );\n      }\n    }\n\n    isArray(events)?\n        listen(toObject(events)) :\n        (typeof events==='string'? listen(toObject(events.split(/\\s+/))): listen(events));\n\n    return this;\n  };\n\n  EventEmitter.prototype.stopListeningTo = function (target, event) {\n    var observers = this._observers;\n\n    if(!observers){\n      return false;\n    }\n\n    var i = observers.length;\n    var observer;\n    var matched= false;\n\n    if(target && typeof target!=='object'){\n      throw TypeError('target should be an object');\n    }\n\n    while (i-- > 0) {\n      observer = observers[i];\n      if (!target || observer._target === target) {\n        observer.unsubscribe(event);\n        matched= true;\n      }\n    }\n\n    return matched;\n  };\n\n  // By default EventEmitters will print a warning if more than\n  // 10 listeners are added to it. This is a useful default which\n  // helps finding memory leaks.\n  //\n  // Obviously not all Emitters should be limited to 10. This function allows\n  // that to be increased. Set to zero for unlimited.\n\n  EventEmitter.prototype.delimiter = '.';\n\n  EventEmitter.prototype.setMaxListeners = function(n) {\n    if (n !== undefined) {\n      this._maxListeners = n;\n      if (!this._conf) this._conf = {};\n      this._conf.maxListeners = n;\n    }\n  };\n\n  EventEmitter.prototype.getMaxListeners = function() {\n    return this._maxListeners;\n  };\n\n  EventEmitter.prototype.event = '';\n\n  EventEmitter.prototype.once = function(event, fn, options) {\n    return this._once(event, fn, false, options);\n  };\n\n  EventEmitter.prototype.prependOnceListener = function(event, fn, options) {\n    return this._once(event, fn, true, options);\n  };\n\n  EventEmitter.prototype._once = function(event, fn, prepend, options) {\n    return this._many(event, 1, fn, prepend, options);\n  };\n\n  EventEmitter.prototype.many = function(event, ttl, fn, options) {\n    return this._many(event, ttl, fn, false, options);\n  };\n\n  EventEmitter.prototype.prependMany = function(event, ttl, fn, options) {\n    return this._many(event, ttl, fn, true, options);\n  };\n\n  EventEmitter.prototype._many = function(event, ttl, fn, prepend, options) {\n    var self = this;\n\n    if (typeof fn !== 'function') {\n      throw new Error('many only accepts instances of Function');\n    }\n\n    function listener() {\n      if (--ttl === 0) {\n        self.off(event, listener);\n      }\n      return fn.apply(this, arguments);\n    }\n\n    listener._origin = fn;\n\n    return this._on(event, listener, prepend, options);\n  };\n\n  EventEmitter.prototype.emit = function() {\n    if (!this._events && !this._all) {\n      return false;\n    }\n\n    this._events || init.call(this);\n\n    var type = arguments[0], ns, wildcard= this.wildcard;\n    var args,l,i,j, containsSymbol;\n\n    if (type === 'newListener' && !this._newListener) {\n      if (!this._events.newListener) {\n        return false;\n      }\n    }\n\n    if (wildcard) {\n      ns= type;\n      if(type!=='newListener' && type!=='removeListener'){\n        if (typeof type === 'object') {\n          l = type.length;\n          if (symbolsSupported) {\n            for (i = 0; i < l; i++) {\n              if (typeof type[i] === 'symbol') {\n                containsSymbol = true;\n                break;\n              }\n            }\n          }\n          if (!containsSymbol) {\n            type = type.join(this.delimiter);\n          }\n        }\n      }\n    }\n\n    var al = arguments.length;\n    var handler;\n\n    if (this._all && this._all.length) {\n      handler = this._all.slice();\n\n      for (i = 0, l = handler.length; i < l; i++) {\n        this.event = type;\n        switch (al) {\n        case 1:\n          handler[i].call(this, type);\n          break;\n        case 2:\n          handler[i].call(this, type, arguments[1]);\n          break;\n        case 3:\n          handler[i].call(this, type, arguments[1], arguments[2]);\n          break;\n        default:\n          handler[i].apply(this, arguments);\n        }\n      }\n    }\n\n    if (wildcard) {\n      handler = [];\n      searchListenerTree.call(this, handler, ns, this.listenerTree, 0, l);\n    } else {\n      handler = this._events[type];\n      if (typeof handler === 'function') {\n        this.event = type;\n        switch (al) {\n        case 1:\n          handler.call(this);\n          break;\n        case 2:\n          handler.call(this, arguments[1]);\n          break;\n        case 3:\n          handler.call(this, arguments[1], arguments[2]);\n          break;\n        default:\n          args = new Array(al - 1);\n          for (j = 1; j < al; j++) args[j - 1] = arguments[j];\n          handler.apply(this, args);\n        }\n        return true;\n      } else if (handler) {\n        // need to make copy of handlers because list can change in the middle\n        // of emit call\n        handler = handler.slice();\n      }\n    }\n\n    if (handler && handler.length) {\n      if (al > 3) {\n        args = new Array(al - 1);\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\n      }\n      for (i = 0, l = handler.length; i < l; i++) {\n        this.event = type;\n        switch (al) {\n        case 1:\n          handler[i].call(this);\n          break;\n        case 2:\n          handler[i].call(this, arguments[1]);\n          break;\n        case 3:\n          handler[i].call(this, arguments[1], arguments[2]);\n          break;\n        default:\n          handler[i].apply(this, args);\n        }\n      }\n      return true;\n    } else if (!this.ignoreErrors && !this._all && type === 'error') {\n      if (arguments[1] instanceof Error) {\n        throw arguments[1]; // Unhandled 'error' event\n      } else {\n        throw new Error(\"Uncaught, unspecified 'error' event.\");\n      }\n    }\n\n    return !!this._all;\n  };\n\n  EventEmitter.prototype.emitAsync = function() {\n    if (!this._events && !this._all) {\n      return false;\n    }\n\n    this._events || init.call(this);\n\n    var type = arguments[0], wildcard= this.wildcard, ns, containsSymbol;\n    var args,l,i,j;\n\n    if (type === 'newListener' && !this._newListener) {\n        if (!this._events.newListener) { return Promise.resolve([false]); }\n    }\n\n    if (wildcard) {\n      ns= type;\n      if(type!=='newListener' && type!=='removeListener'){\n        if (typeof type === 'object') {\n          l = type.length;\n          if (symbolsSupported) {\n            for (i = 0; i < l; i++) {\n              if (typeof type[i] === 'symbol') {\n                containsSymbol = true;\n                break;\n              }\n            }\n          }\n          if (!containsSymbol) {\n            type = type.join(this.delimiter);\n          }\n        }\n      }\n    }\n\n    var promises= [];\n\n    var al = arguments.length;\n    var handler;\n\n    if (this._all) {\n      for (i = 0, l = this._all.length; i < l; i++) {\n        this.event = type;\n        switch (al) {\n        case 1:\n          promises.push(this._all[i].call(this, type));\n          break;\n        case 2:\n          promises.push(this._all[i].call(this, type, arguments[1]));\n          break;\n        case 3:\n          promises.push(this._all[i].call(this, type, arguments[1], arguments[2]));\n          break;\n        default:\n          promises.push(this._all[i].apply(this, arguments));\n        }\n      }\n    }\n\n    if (wildcard) {\n      handler = [];\n      searchListenerTree.call(this, handler, ns, this.listenerTree, 0);\n    } else {\n      handler = this._events[type];\n    }\n\n    if (typeof handler === 'function') {\n      this.event = type;\n      switch (al) {\n      case 1:\n        promises.push(handler.call(this));\n        break;\n      case 2:\n        promises.push(handler.call(this, arguments[1]));\n        break;\n      case 3:\n        promises.push(handler.call(this, arguments[1], arguments[2]));\n        break;\n      default:\n        args = new Array(al - 1);\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\n        promises.push(handler.apply(this, args));\n      }\n    } else if (handler && handler.length) {\n      handler = handler.slice();\n      if (al > 3) {\n        args = new Array(al - 1);\n        for (j = 1; j < al; j++) args[j - 1] = arguments[j];\n      }\n      for (i = 0, l = handler.length; i < l; i++) {\n        this.event = type;\n        switch (al) {\n        case 1:\n          promises.push(handler[i].call(this));\n          break;\n        case 2:\n          promises.push(handler[i].call(this, arguments[1]));\n          break;\n        case 3:\n          promises.push(handler[i].call(this, arguments[1], arguments[2]));\n          break;\n        default:\n          promises.push(handler[i].apply(this, args));\n        }\n      }\n    } else if (!this.ignoreErrors && !this._all && type === 'error') {\n      if (arguments[1] instanceof Error) {\n        return Promise.reject(arguments[1]); // Unhandled 'error' event\n      } else {\n        return Promise.reject(\"Uncaught, unspecified 'error' event.\");\n      }\n    }\n\n    return Promise.all(promises);\n  };\n\n  EventEmitter.prototype.on = function(type, listener, options) {\n    return this._on(type, listener, false, options);\n  };\n\n  EventEmitter.prototype.prependListener = function(type, listener, options) {\n    return this._on(type, listener, true, options);\n  };\n\n  EventEmitter.prototype.onAny = function(fn) {\n    return this._onAny(fn, false);\n  };\n\n  EventEmitter.prototype.prependAny = function(fn) {\n    return this._onAny(fn, true);\n  };\n\n  EventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n  EventEmitter.prototype._onAny = function(fn, prepend){\n    if (typeof fn !== 'function') {\n      throw new Error('onAny only accepts instances of Function');\n    }\n\n    if (!this._all) {\n      this._all = [];\n    }\n\n    // Add the function to the event listener collection.\n    if(prepend){\n      this._all.unshift(fn);\n    }else{\n      this._all.push(fn);\n    }\n\n    return this;\n  };\n\n  EventEmitter.prototype._on = function(type, listener, prepend, options) {\n    if (typeof type === 'function') {\n      this._onAny(type, listener);\n      return this;\n    }\n\n    if (typeof listener !== 'function') {\n      throw new Error('on only accepts instances of Function');\n    }\n    this._events || init.call(this);\n\n    var returnValue= this, temp;\n\n    if (options !== undefined) {\n      temp = setupListener.call(this, type, listener, options);\n      listener = temp[0];\n      returnValue = temp[1];\n    }\n\n    // To avoid recursion in the case that type == \"newListeners\"! Before\n    // adding it to the listeners, first emit \"newListeners\".\n    if (this._newListener) {\n      this.emit('newListener', type, listener);\n    }\n\n    if (this.wildcard) {\n      growListenerTree.call(this, type, listener, prepend);\n      return returnValue;\n    }\n\n    if (!this._events[type]) {\n      // Optimize the case of one listener. Don't need the extra array object.\n      this._events[type] = listener;\n    } else {\n      if (typeof this._events[type] === 'function') {\n        // Change to array.\n        this._events[type] = [this._events[type]];\n      }\n\n      // If we've already got an array, just add\n      if(prepend){\n        this._events[type].unshift(listener);\n      }else{\n        this._events[type].push(listener);\n      }\n\n      // Check for listener leak\n      if (\n        !this._events[type].warned &&\n        this._maxListeners > 0 &&\n        this._events[type].length > this._maxListeners\n      ) {\n        this._events[type].warned = true;\n        logPossibleMemoryLeak.call(this, this._events[type].length, type);\n      }\n    }\n\n    return returnValue;\n  };\n\n  EventEmitter.prototype.off = function(type, listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('removeListener only takes instances of Function');\n    }\n\n    var handlers,leafs=[];\n\n    if(this.wildcard) {\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\n      leafs = searchListenerTree.call(this, null, ns, this.listenerTree, 0);\n      if(!leafs) return this;\n    } else {\n      // does not use listeners(), so no side effect of creating _events[type]\n      if (!this._events[type]) return this;\n      handlers = this._events[type];\n      leafs.push({_listeners:handlers});\n    }\n\n    for (var iLeaf=0; iLeaf<leafs.length; iLeaf++) {\n      var leaf = leafs[iLeaf];\n      handlers = leaf._listeners;\n      if (isArray(handlers)) {\n\n        var position = -1;\n\n        for (var i = 0, length = handlers.length; i < length; i++) {\n          if (handlers[i] === listener ||\n            (handlers[i].listener && handlers[i].listener === listener) ||\n            (handlers[i]._origin && handlers[i]._origin === listener)) {\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0) {\n          continue;\n        }\n\n        if(this.wildcard) {\n          leaf._listeners.splice(position, 1);\n        }\n        else {\n          this._events[type].splice(position, 1);\n        }\n\n        if (handlers.length === 0) {\n          if(this.wildcard) {\n            delete leaf._listeners;\n          }\n          else {\n            delete this._events[type];\n          }\n        }\n        if (this._removeListener)\n          this.emit(\"removeListener\", type, listener);\n\n        return this;\n      }\n      else if (handlers === listener ||\n        (handlers.listener && handlers.listener === listener) ||\n        (handlers._origin && handlers._origin === listener)) {\n        if(this.wildcard) {\n          delete leaf._listeners;\n        }\n        else {\n          delete this._events[type];\n        }\n        if (this._removeListener)\n          this.emit(\"removeListener\", type, listener);\n      }\n    }\n\n    this.listenerTree && recursivelyGarbageCollect(this.listenerTree);\n\n    return this;\n  };\n\n  EventEmitter.prototype.offAny = function(fn) {\n    var i = 0, l = 0, fns;\n    if (fn && this._all && this._all.length > 0) {\n      fns = this._all;\n      for(i = 0, l = fns.length; i < l; i++) {\n        if(fn === fns[i]) {\n          fns.splice(i, 1);\n          if (this._removeListener)\n            this.emit(\"removeListenerAny\", fn);\n          return this;\n        }\n      }\n    } else {\n      fns = this._all;\n      if (this._removeListener) {\n        for(i = 0, l = fns.length; i < l; i++)\n          this.emit(\"removeListenerAny\", fns[i]);\n      }\n      this._all = [];\n    }\n    return this;\n  };\n\n  EventEmitter.prototype.removeListener = EventEmitter.prototype.off;\n\n  EventEmitter.prototype.removeAllListeners = function (type) {\n    if (type === undefined) {\n      !this._events || init.call(this);\n      return this;\n    }\n\n    if (this.wildcard) {\n      var leafs = searchListenerTree.call(this, null, type, this.listenerTree, 0), leaf, i;\n      if (!leafs) return this;\n      for (i = 0; i < leafs.length; i++) {\n        leaf = leafs[i];\n        leaf._listeners = null;\n      }\n      this.listenerTree && recursivelyGarbageCollect(this.listenerTree);\n    } else if (this._events) {\n      this._events[type] = null;\n    }\n    return this;\n  };\n\n  EventEmitter.prototype.listeners = function (type) {\n    var _events = this._events;\n    var keys, listeners, allListeners;\n    var i;\n    var listenerTree;\n\n    if (type === undefined) {\n      if (this.wildcard) {\n        throw Error('event name required for wildcard emitter');\n      }\n\n      if (!_events) {\n        return [];\n      }\n\n      keys = ownKeys(_events);\n      i = keys.length;\n      allListeners = [];\n      while (i-- > 0) {\n        listeners = _events[keys[i]];\n        if (typeof listeners === 'function') {\n          allListeners.push(listeners);\n        } else {\n          allListeners.push.apply(allListeners, listeners);\n        }\n      }\n      return allListeners;\n    } else {\n      if (this.wildcard) {\n        listenerTree= this.listenerTree;\n        if(!listenerTree) return [];\n        var handlers = [];\n        var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\n        searchListenerTree.call(this, handlers, ns, listenerTree, 0);\n        return handlers;\n      }\n\n      if (!_events) {\n        return [];\n      }\n\n      listeners = _events[type];\n\n      if (!listeners) {\n        return [];\n      }\n      return typeof listeners === 'function' ? [listeners] : listeners;\n    }\n  };\n\n  EventEmitter.prototype.eventNames = function(nsAsArray){\n    var _events= this._events;\n    return this.wildcard? collectTreeEvents.call(this, this.listenerTree, [], null, nsAsArray) : (_events? ownKeys(_events) : []);\n  };\n\n  EventEmitter.prototype.listenerCount = function(type) {\n    return this.listeners(type).length;\n  };\n\n  EventEmitter.prototype.hasListeners = function (type) {\n    if (this.wildcard) {\n      var handlers = [];\n      var ns = typeof type === 'string' ? type.split(this.delimiter) : type.slice();\n      searchListenerTree.call(this, handlers, ns, this.listenerTree, 0);\n      return handlers.length > 0;\n    }\n\n    var _events = this._events;\n    var _all = this._all;\n\n    return !!(_all && _all.length || _events && (type === undefined ? ownKeys(_events).length : _events[type]));\n  };\n\n  EventEmitter.prototype.listenersAny = function() {\n\n    if(this._all) {\n      return this._all;\n    }\n    else {\n      return [];\n    }\n\n  };\n\n  EventEmitter.prototype.waitFor = function (event, options) {\n    var self = this;\n    var type = typeof options;\n    if (type === 'number') {\n      options = {timeout: options};\n    } else if (type === 'function') {\n      options = {filter: options};\n    }\n\n    options= resolveOptions(options, {\n      timeout: 0,\n      filter: undefined,\n      handleError: false,\n      Promise: Promise,\n      overload: false\n    }, {\n      filter: functionReducer,\n      Promise: constructorReducer\n    });\n\n    return makeCancelablePromise(options.Promise, function (resolve, reject, onCancel) {\n      function listener() {\n        var filter= options.filter;\n        if (filter && !filter.apply(self, arguments)) {\n          return;\n        }\n        self.off(event, listener);\n        if (options.handleError) {\n          var err = arguments[0];\n          err ? reject(err) : resolve(toArray.apply(null, arguments).slice(1));\n        } else {\n          resolve(toArray.apply(null, arguments));\n        }\n      }\n\n      onCancel(function(){\n        self.off(event, listener);\n      });\n\n      self._on(event, listener, false);\n    }, {\n      timeout: options.timeout,\n      overload: options.overload\n    })\n  };\n\n  function once(emitter, name, options) {\n    options= resolveOptions(options, {\n      Promise: Promise,\n      timeout: 0,\n      overload: false\n    }, {\n      Promise: constructorReducer\n    });\n\n    var _Promise= options.Promise;\n\n    return makeCancelablePromise(_Promise, function(resolve, reject, onCancel){\n      var handler;\n      if (typeof emitter.addEventListener === 'function') {\n        handler=  function () {\n          resolve(toArray.apply(null, arguments));\n        };\n\n        onCancel(function(){\n          emitter.removeEventListener(name, handler);\n        });\n\n        emitter.addEventListener(\n            name,\n            handler,\n            {once: true}\n        );\n        return;\n      }\n\n      var eventListener = function(){\n        errorListener && emitter.removeListener('error', errorListener);\n        resolve(toArray.apply(null, arguments));\n      };\n\n      var errorListener;\n\n      if (name !== 'error') {\n        errorListener = function (err){\n          emitter.removeListener(name, eventListener);\n          reject(err);\n        };\n\n        emitter.once('error', errorListener);\n      }\n\n      onCancel(function(){\n        errorListener && emitter.removeListener('error', errorListener);\n        emitter.removeListener(name, eventListener);\n      });\n\n      emitter.once(name, eventListener);\n    }, {\n      timeout: options.timeout,\n      overload: options.overload\n    });\n  }\n\n  var prototype= EventEmitter.prototype;\n\n  Object.defineProperties(EventEmitter, {\n    defaultMaxListeners: {\n      get: function () {\n        return prototype._maxListeners;\n      },\n      set: function (n) {\n        if (typeof n !== 'number' || n < 0 || Number.isNaN(n)) {\n          throw TypeError('n must be a non-negative number')\n        }\n        prototype._maxListeners = n;\n      },\n      enumerable: true\n    },\n    once: {\n      value: once,\n      writable: true,\n      configurable: true\n    }\n  });\n\n  Object.defineProperties(prototype, {\n      _maxListeners: {\n          value: defaultMaxListeners,\n          writable: true,\n          configurable: true\n      },\n      _observers: {value: null, writable: true, configurable: true}\n  });\n\n  if (typeof define === 'function' && define.amd) {\n     // AMD. Register as an anonymous module.\n    define(function() {\n      return EventEmitter;\n    });\n  } else if (typeof exports === 'object') {\n    // CommonJS\n    module.exports = EventEmitter;\n  }\n  else {\n    // global for any kind of environment.\n    var _global= new Function('','return this')();\n    _global.EventEmitter2 = EventEmitter;\n  }\n}();\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (!identifier && identifierBase === false) {\n          throw new Error('invalid increment argument: identifier is empty')\n        }\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n","const { MAX_SAFE_COMPONENT_LENGTH, MAX_SAFE_BUILD_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_SAFE_COMPONENT_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","import { storageInterface } from './storageInterface';\n\ndeclare let i18n: string[];\n\nexport const webextension: storageInterface = {\n  async set(key: string, value: string): Promise<void> {\n    const obj = {} as any;\n    obj[key] = value;\n    return new Promise((resolve, reject) => {\n      getStorage(key).set(obj, function () {\n        if (chrome.runtime.lastError) {\n          reject(chrome.runtime.lastError);\n          return;\n        }\n        resolve();\n      });\n    });\n  },\n\n  async get(key: string): Promise<any> {\n    return new Promise((resolve, reject) => {\n      getStorage(key).get(key, function (results) {\n        if (chrome.runtime.lastError) {\n          reject(chrome.runtime.lastError);\n          return;\n        }\n        resolve(results[key]);\n      });\n    });\n  },\n\n  async remove(key: string): Promise<void> {\n    return new Promise((resolve, reject) => {\n      getStorage(key).remove(key, function () {\n        if (chrome.runtime.lastError) {\n          reject(chrome.runtime.lastError);\n          return;\n        }\n        resolve();\n      });\n    });\n  },\n\n  async list(type = 'local'): Promise<any> {\n    return new Promise((resolve, reject) => {\n      if (type === 'local') {\n        chrome.storage.local.get(null, function (results) {\n          resolve(results);\n        });\n      } else {\n        chrome.storage.sync.get(null, function (results) {\n          resolve(results);\n        });\n      }\n    });\n  },\n\n  async addStyle(css) {\n    try {\n      const style = document.createElement('style');\n      style.textContent = css;\n      (document.head || document.body || document.documentElement || document).appendChild(style);\n    } catch (e) {\n      console.log(`Could not add css:${e}`);\n    }\n  },\n\n  version() {\n    return chrome.runtime.getManifest().version;\n  },\n\n  lang(selector, args) {\n    if (api.settings.get('forceEn') && typeof i18n !== 'undefined') {\n      let message = i18n[selector];\n      if (typeof args !== 'undefined') {\n        for (let argIndex = 0; argIndex < args.length; argIndex++) {\n          message = message.replace(`$${argIndex + 1}`, args[argIndex]);\n        }\n      }\n      return message;\n    }\n    // @ts-ignore\n    return chrome.i18n.getMessage(selector, args);\n  },\n\n  assetUrl(filename) {\n    return chrome.extension.getURL(`assets/${filename}`);\n  },\n\n  injectCssResource(res, head) {\n    alert('injectCssResource not supported in webextension');\n  },\n\n  injectjsResource(res, head) {\n    const s = document.createElement('script');\n    s.src = chrome.extension.getURL(`vendor/${res}`);\n    s.onload = function () {\n      // @ts-ignore\n      this.remove();\n    };\n    head.get(0).appendChild(s);\n  },\n\n  updateDom(head) {\n    const s = document.createElement('script');\n    s.text = `\n        document.getElementsByTagName('head')[0].onclick = function(e){\n          try{\n            componentHandler.upgradeDom();\n          }catch(e){\n            console.log(e);\n            setTimeout(function(){\n              componentHandler.upgradeDom();\n            },500);\n          }\n        }`;\n    s.onload = function () {\n      // @ts-ignore\n      this.remove();\n    };\n    head.get(0).appendChild(s);\n  },\n\n  storageOnChanged(cb) {\n    chrome.storage.onChanged.addListener(cb);\n  },\n};\n\nfunction getStorage(key: string) {\n  if (utils.syncRegex.test(key)) {\n    return chrome.storage.sync;\n  }\n  return chrome.storage.local;\n}\n","import { sendMessageI, responseMessageI } from '../messageInterface';\nimport { requestInterface } from './requestInterface';\n\nexport const requestApi: requestInterface = {\n  async xhr(method, url) {\n    if (typeof requestApi.sendMessage !== 'undefined') {\n      return requestApi.sendMessage({ name: 'xhr', method, url }).then(xhr => {\n        if (xhr.status === 429) throw 'Rate limit Timeout';\n        return xhr;\n      });\n    }\n    throw 'Could not send xhr';\n  },\n\n  async sendMessage(message: sendMessageI): Promise<any> {\n    return new Promise((resolve, reject) => {\n      chrome.runtime.sendMessage(message, function (response: responseMessageI) {\n        resolve(response);\n      });\n    });\n  },\n\n  notification(options) {\n    this.sendMessage({\n      name: 'notification',\n      options,\n    });\n  },\n  database(call, param) {\n    return this.sendMessage({\n      name: 'database',\n      options: {\n        call,\n        param,\n      },\n    });\n  },\n};\n","function makeMap(str, expectsLowerCase) {\n  const map = /* @__PURE__ */ Object.create(null);\n  const list = str.split(\",\");\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n  return expectsLowerCase ? (val) => !!map[val.toLowerCase()] : (val) => !!map[val];\n}\n\nconst EMPTY_OBJ = !!(process.env.NODE_ENV !== \"production\") ? Object.freeze({}) : {};\nconst EMPTY_ARR = !!(process.env.NODE_ENV !== \"production\") ? Object.freeze([]) : [];\nconst NOOP = () => {\n};\nconst NO = () => false;\nconst onRE = /^on[^a-z]/;\nconst isOn = (key) => onRE.test(key);\nconst isModelListener = (key) => key.startsWith(\"onUpdate:\");\nconst extend = Object.assign;\nconst remove = (arr, el) => {\n  const i = arr.indexOf(el);\n  if (i > -1) {\n    arr.splice(i, 1);\n  }\n};\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\nconst isArray = Array.isArray;\nconst isMap = (val) => toTypeString(val) === \"[object Map]\";\nconst isSet = (val) => toTypeString(val) === \"[object Set]\";\nconst isDate = (val) => toTypeString(val) === \"[object Date]\";\nconst isRegExp = (val) => toTypeString(val) === \"[object RegExp]\";\nconst isFunction = (val) => typeof val === \"function\";\nconst isString = (val) => typeof val === \"string\";\nconst isSymbol = (val) => typeof val === \"symbol\";\nconst isObject = (val) => val !== null && typeof val === \"object\";\nconst isPromise = (val) => {\n  return isObject(val) && isFunction(val.then) && isFunction(val.catch);\n};\nconst objectToString = Object.prototype.toString;\nconst toTypeString = (value) => objectToString.call(value);\nconst toRawType = (value) => {\n  return toTypeString(value).slice(8, -1);\n};\nconst isPlainObject = (val) => toTypeString(val) === \"[object Object]\";\nconst isIntegerKey = (key) => isString(key) && key !== \"NaN\" && key[0] !== \"-\" && \"\" + parseInt(key, 10) === key;\nconst isReservedProp = /* @__PURE__ */ makeMap(\n  // the leading comma is intentional so empty string \"\" is also included\n  \",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted\"\n);\nconst isBuiltInDirective = /* @__PURE__ */ makeMap(\n  \"bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo\"\n);\nconst cacheStringFunction = (fn) => {\n  const cache = /* @__PURE__ */ Object.create(null);\n  return (str) => {\n    const hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  };\n};\nconst camelizeRE = /-(\\w)/g;\nconst camelize = cacheStringFunction((str) => {\n  return str.replace(camelizeRE, (_, c) => c ? c.toUpperCase() : \"\");\n});\nconst hyphenateRE = /\\B([A-Z])/g;\nconst hyphenate = cacheStringFunction(\n  (str) => str.replace(hyphenateRE, \"-$1\").toLowerCase()\n);\nconst capitalize = cacheStringFunction(\n  (str) => str.charAt(0).toUpperCase() + str.slice(1)\n);\nconst toHandlerKey = cacheStringFunction(\n  (str) => str ? `on${capitalize(str)}` : ``\n);\nconst hasChanged = (value, oldValue) => !Object.is(value, oldValue);\nconst invokeArrayFns = (fns, arg) => {\n  for (let i = 0; i < fns.length; i++) {\n    fns[i](arg);\n  }\n};\nconst def = (obj, key, value) => {\n  Object.defineProperty(obj, key, {\n    configurable: true,\n    enumerable: false,\n    value\n  });\n};\nconst looseToNumber = (val) => {\n  const n = parseFloat(val);\n  return isNaN(n) ? val : n;\n};\nconst toNumber = (val) => {\n  const n = isString(val) ? Number(val) : NaN;\n  return isNaN(n) ? val : n;\n};\nlet _globalThis;\nconst getGlobalThis = () => {\n  return _globalThis || (_globalThis = typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : {});\n};\nconst identRE = /^[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*$/;\nfunction genPropsAccessExp(name) {\n  return identRE.test(name) ? `__props.${name}` : `__props[${JSON.stringify(name)}]`;\n}\n\nconst PatchFlagNames = {\n  [1]: `TEXT`,\n  [2]: `CLASS`,\n  [4]: `STYLE`,\n  [8]: `PROPS`,\n  [16]: `FULL_PROPS`,\n  [32]: `HYDRATE_EVENTS`,\n  [64]: `STABLE_FRAGMENT`,\n  [128]: `KEYED_FRAGMENT`,\n  [256]: `UNKEYED_FRAGMENT`,\n  [512]: `NEED_PATCH`,\n  [1024]: `DYNAMIC_SLOTS`,\n  [2048]: `DEV_ROOT_FRAGMENT`,\n  [-1]: `HOISTED`,\n  [-2]: `BAIL`\n};\n\nconst slotFlagsText = {\n  [1]: \"STABLE\",\n  [2]: \"DYNAMIC\",\n  [3]: \"FORWARDED\"\n};\n\nconst GLOBALS_WHITE_LISTED = \"Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console\";\nconst isGloballyWhitelisted = /* @__PURE__ */ makeMap(GLOBALS_WHITE_LISTED);\n\nconst range = 2;\nfunction generateCodeFrame(source, start = 0, end = source.length) {\n  let lines = source.split(/(\\r?\\n)/);\n  const newlineSequences = lines.filter((_, idx) => idx % 2 === 1);\n  lines = lines.filter((_, idx) => idx % 2 === 0);\n  let count = 0;\n  const res = [];\n  for (let i = 0; i < lines.length; i++) {\n    count += lines[i].length + (newlineSequences[i] && newlineSequences[i].length || 0);\n    if (count >= start) {\n      for (let j = i - range; j <= i + range || end > count; j++) {\n        if (j < 0 || j >= lines.length)\n          continue;\n        const line = j + 1;\n        res.push(\n          `${line}${\" \".repeat(Math.max(3 - String(line).length, 0))}|  ${lines[j]}`\n        );\n        const lineLength = lines[j].length;\n        const newLineSeqLength = newlineSequences[j] && newlineSequences[j].length || 0;\n        if (j === i) {\n          const pad = start - (count - (lineLength + newLineSeqLength));\n          const length = Math.max(\n            1,\n            end > count ? lineLength - pad : end - start\n          );\n          res.push(`   |  ` + \" \".repeat(pad) + \"^\".repeat(length));\n        } else if (j > i) {\n          if (end > count) {\n            const length = Math.max(Math.min(end - count, lineLength), 1);\n            res.push(`   |  ` + \"^\".repeat(length));\n          }\n          count += lineLength + newLineSeqLength;\n        }\n      }\n      break;\n    }\n  }\n  return res.join(\"\\n\");\n}\n\nfunction normalizeStyle(value) {\n  if (isArray(value)) {\n    const res = {};\n    for (let i = 0; i < value.length; i++) {\n      const item = value[i];\n      const normalized = isString(item) ? parseStringStyle(item) : normalizeStyle(item);\n      if (normalized) {\n        for (const key in normalized) {\n          res[key] = normalized[key];\n        }\n      }\n    }\n    return res;\n  } else if (isString(value)) {\n    return value;\n  } else if (isObject(value)) {\n    return value;\n  }\n}\nconst listDelimiterRE = /;(?![^(]*\\))/g;\nconst propertyDelimiterRE = /:([^]+)/;\nconst styleCommentRE = /\\/\\*[^]*?\\*\\//g;\nfunction parseStringStyle(cssText) {\n  const ret = {};\n  cssText.replace(styleCommentRE, \"\").split(listDelimiterRE).forEach((item) => {\n    if (item) {\n      const tmp = item.split(propertyDelimiterRE);\n      tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());\n    }\n  });\n  return ret;\n}\nfunction stringifyStyle(styles) {\n  let ret = \"\";\n  if (!styles || isString(styles)) {\n    return ret;\n  }\n  for (const key in styles) {\n    const value = styles[key];\n    const normalizedKey = key.startsWith(`--`) ? key : hyphenate(key);\n    if (isString(value) || typeof value === \"number\") {\n      ret += `${normalizedKey}:${value};`;\n    }\n  }\n  return ret;\n}\nfunction normalizeClass(value) {\n  let res = \"\";\n  if (isString(value)) {\n    res = value;\n  } else if (isArray(value)) {\n    for (let i = 0; i < value.length; i++) {\n      const normalized = normalizeClass(value[i]);\n      if (normalized) {\n        res += normalized + \" \";\n      }\n    }\n  } else if (isObject(value)) {\n    for (const name in value) {\n      if (value[name]) {\n        res += name + \" \";\n      }\n    }\n  }\n  return res.trim();\n}\nfunction normalizeProps(props) {\n  if (!props)\n    return null;\n  let { class: klass, style } = props;\n  if (klass && !isString(klass)) {\n    props.class = normalizeClass(klass);\n  }\n  if (style) {\n    props.style = normalizeStyle(style);\n  }\n  return props;\n}\n\nconst HTML_TAGS = \"html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot\";\nconst SVG_TAGS = \"svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view\";\nconst VOID_TAGS = \"area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr\";\nconst isHTMLTag = /* @__PURE__ */ makeMap(HTML_TAGS);\nconst isSVGTag = /* @__PURE__ */ makeMap(SVG_TAGS);\nconst isVoidTag = /* @__PURE__ */ makeMap(VOID_TAGS);\n\nconst specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;\nconst isSpecialBooleanAttr = /* @__PURE__ */ makeMap(specialBooleanAttrs);\nconst isBooleanAttr = /* @__PURE__ */ makeMap(\n  specialBooleanAttrs + `,async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected`\n);\nfunction includeBooleanAttr(value) {\n  return !!value || value === \"\";\n}\nconst unsafeAttrCharRE = /[>/=\"'\\u0009\\u000a\\u000c\\u0020]/;\nconst attrValidationCache = {};\nfunction isSSRSafeAttrName(name) {\n  if (attrValidationCache.hasOwnProperty(name)) {\n    return attrValidationCache[name];\n  }\n  const isUnsafe = unsafeAttrCharRE.test(name);\n  if (isUnsafe) {\n    console.error(`unsafe attribute name: ${name}`);\n  }\n  return attrValidationCache[name] = !isUnsafe;\n}\nconst propsToAttrMap = {\n  acceptCharset: \"accept-charset\",\n  className: \"class\",\n  htmlFor: \"for\",\n  httpEquiv: \"http-equiv\"\n};\nconst isKnownHtmlAttr = /* @__PURE__ */ makeMap(\n  `accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap`\n);\nconst isKnownSvgAttr = /* @__PURE__ */ makeMap(\n  `xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan`\n);\n\nconst escapeRE = /[\"'&<>]/;\nfunction escapeHtml(string) {\n  const str = \"\" + string;\n  const match = escapeRE.exec(str);\n  if (!match) {\n    return str;\n  }\n  let html = \"\";\n  let escaped;\n  let index;\n  let lastIndex = 0;\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34:\n        escaped = \"&quot;\";\n        break;\n      case 38:\n        escaped = \"&amp;\";\n        break;\n      case 39:\n        escaped = \"&#39;\";\n        break;\n      case 60:\n        escaped = \"&lt;\";\n        break;\n      case 62:\n        escaped = \"&gt;\";\n        break;\n      default:\n        continue;\n    }\n    if (lastIndex !== index) {\n      html += str.slice(lastIndex, index);\n    }\n    lastIndex = index + 1;\n    html += escaped;\n  }\n  return lastIndex !== index ? html + str.slice(lastIndex, index) : html;\n}\nconst commentStripRE = /^-?>|<!--|-->|--!>|<!-$/g;\nfunction escapeHtmlComment(src) {\n  return src.replace(commentStripRE, \"\");\n}\n\nfunction looseCompareArrays(a, b) {\n  if (a.length !== b.length)\n    return false;\n  let equal = true;\n  for (let i = 0; equal && i < a.length; i++) {\n    equal = looseEqual(a[i], b[i]);\n  }\n  return equal;\n}\nfunction looseEqual(a, b) {\n  if (a === b)\n    return true;\n  let aValidType = isDate(a);\n  let bValidType = isDate(b);\n  if (aValidType || bValidType) {\n    return aValidType && bValidType ? a.getTime() === b.getTime() : false;\n  }\n  aValidType = isSymbol(a);\n  bValidType = isSymbol(b);\n  if (aValidType || bValidType) {\n    return a === b;\n  }\n  aValidType = isArray(a);\n  bValidType = isArray(b);\n  if (aValidType || bValidType) {\n    return aValidType && bValidType ? looseCompareArrays(a, b) : false;\n  }\n  aValidType = isObject(a);\n  bValidType = isObject(b);\n  if (aValidType || bValidType) {\n    if (!aValidType || !bValidType) {\n      return false;\n    }\n    const aKeysCount = Object.keys(a).length;\n    const bKeysCount = Object.keys(b).length;\n    if (aKeysCount !== bKeysCount) {\n      return false;\n    }\n    for (const key in a) {\n      const aHasKey = a.hasOwnProperty(key);\n      const bHasKey = b.hasOwnProperty(key);\n      if (aHasKey && !bHasKey || !aHasKey && bHasKey || !looseEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n  }\n  return String(a) === String(b);\n}\nfunction looseIndexOf(arr, val) {\n  return arr.findIndex((item) => looseEqual(item, val));\n}\n\nconst toDisplayString = (val) => {\n  return isString(val) ? val : val == null ? \"\" : isArray(val) || isObject(val) && (val.toString === objectToString || !isFunction(val.toString)) ? JSON.stringify(val, replacer, 2) : String(val);\n};\nconst replacer = (_key, val) => {\n  if (val && val.__v_isRef) {\n    return replacer(_key, val.value);\n  } else if (isMap(val)) {\n    return {\n      [`Map(${val.size})`]: [...val.entries()].reduce((entries, [key, val2]) => {\n        entries[`${key} =>`] = val2;\n        return entries;\n      }, {})\n    };\n  } else if (isSet(val)) {\n    return {\n      [`Set(${val.size})`]: [...val.values()]\n    };\n  } else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {\n    return String(val);\n  }\n  return val;\n};\n\nexport { EMPTY_ARR, EMPTY_OBJ, NO, NOOP, PatchFlagNames, camelize, capitalize, def, escapeHtml, escapeHtmlComment, extend, genPropsAccessExp, generateCodeFrame, getGlobalThis, hasChanged, hasOwn, hyphenate, includeBooleanAttr, invokeArrayFns, isArray, isBooleanAttr, isBuiltInDirective, isDate, isFunction, isGloballyWhitelisted, isHTMLTag, isIntegerKey, isKnownHtmlAttr, isKnownSvgAttr, isMap, isModelListener, isObject, isOn, isPlainObject, isPromise, isRegExp, isReservedProp, isSSRSafeAttrName, isSVGTag, isSet, isSpecialBooleanAttr, isString, isSymbol, isVoidTag, looseEqual, looseIndexOf, looseToNumber, makeMap, normalizeClass, normalizeProps, normalizeStyle, objectToString, parseStringStyle, propsToAttrMap, remove, slotFlagsText, stringifyStyle, toDisplayString, toHandlerKey, toNumber, toRawType, toTypeString };\n","import { extend, isArray, isMap, isIntegerKey, hasOwn, isSymbol, isObject, hasChanged, makeMap, capitalize, toRawType, def, isFunction, NOOP } from '@vue/shared';\n\nfunction warn(msg, ...args) {\n  console.warn(`[Vue warn] ${msg}`, ...args);\n}\n\nlet activeEffectScope;\nclass EffectScope {\n  constructor(detached = false) {\n    this.detached = detached;\n    /**\n     * @internal\n     */\n    this._active = true;\n    /**\n     * @internal\n     */\n    this.effects = [];\n    /**\n     * @internal\n     */\n    this.cleanups = [];\n    this.parent = activeEffectScope;\n    if (!detached && activeEffectScope) {\n      this.index = (activeEffectScope.scopes || (activeEffectScope.scopes = [])).push(\n        this\n      ) - 1;\n    }\n  }\n  get active() {\n    return this._active;\n  }\n  run(fn) {\n    if (this._active) {\n      const currentEffectScope = activeEffectScope;\n      try {\n        activeEffectScope = this;\n        return fn();\n      } finally {\n        activeEffectScope = currentEffectScope;\n      }\n    } else if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(`cannot run an inactive effect scope.`);\n    }\n  }\n  /**\n   * This should only be called on non-detached scopes\n   * @internal\n   */\n  on() {\n    activeEffectScope = this;\n  }\n  /**\n   * This should only be called on non-detached scopes\n   * @internal\n   */\n  off() {\n    activeEffectScope = this.parent;\n  }\n  stop(fromParent) {\n    if (this._active) {\n      let i, l;\n      for (i = 0, l = this.effects.length; i < l; i++) {\n        this.effects[i].stop();\n      }\n      for (i = 0, l = this.cleanups.length; i < l; i++) {\n        this.cleanups[i]();\n      }\n      if (this.scopes) {\n        for (i = 0, l = this.scopes.length; i < l; i++) {\n          this.scopes[i].stop(true);\n        }\n      }\n      if (!this.detached && this.parent && !fromParent) {\n        const last = this.parent.scopes.pop();\n        if (last && last !== this) {\n          this.parent.scopes[this.index] = last;\n          last.index = this.index;\n        }\n      }\n      this.parent = void 0;\n      this._active = false;\n    }\n  }\n}\nfunction effectScope(detached) {\n  return new EffectScope(detached);\n}\nfunction recordEffectScope(effect, scope = activeEffectScope) {\n  if (scope && scope.active) {\n    scope.effects.push(effect);\n  }\n}\nfunction getCurrentScope() {\n  return activeEffectScope;\n}\nfunction onScopeDispose(fn) {\n  if (activeEffectScope) {\n    activeEffectScope.cleanups.push(fn);\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    warn(\n      `onScopeDispose() is called when there is no active effect scope to be associated with.`\n    );\n  }\n}\n\nconst createDep = (effects) => {\n  const dep = new Set(effects);\n  dep.w = 0;\n  dep.n = 0;\n  return dep;\n};\nconst wasTracked = (dep) => (dep.w & trackOpBit) > 0;\nconst newTracked = (dep) => (dep.n & trackOpBit) > 0;\nconst initDepMarkers = ({ deps }) => {\n  if (deps.length) {\n    for (let i = 0; i < deps.length; i++) {\n      deps[i].w |= trackOpBit;\n    }\n  }\n};\nconst finalizeDepMarkers = (effect) => {\n  const { deps } = effect;\n  if (deps.length) {\n    let ptr = 0;\n    for (let i = 0; i < deps.length; i++) {\n      const dep = deps[i];\n      if (wasTracked(dep) && !newTracked(dep)) {\n        dep.delete(effect);\n      } else {\n        deps[ptr++] = dep;\n      }\n      dep.w &= ~trackOpBit;\n      dep.n &= ~trackOpBit;\n    }\n    deps.length = ptr;\n  }\n};\n\nconst targetMap = /* @__PURE__ */ new WeakMap();\nlet effectTrackDepth = 0;\nlet trackOpBit = 1;\nconst maxMarkerBits = 30;\nlet activeEffect;\nconst ITERATE_KEY = Symbol(!!(process.env.NODE_ENV !== \"production\") ? \"iterate\" : \"\");\nconst MAP_KEY_ITERATE_KEY = Symbol(!!(process.env.NODE_ENV !== \"production\") ? \"Map key iterate\" : \"\");\nclass ReactiveEffect {\n  constructor(fn, scheduler = null, scope) {\n    this.fn = fn;\n    this.scheduler = scheduler;\n    this.active = true;\n    this.deps = [];\n    this.parent = void 0;\n    recordEffectScope(this, scope);\n  }\n  run() {\n    if (!this.active) {\n      return this.fn();\n    }\n    let parent = activeEffect;\n    let lastShouldTrack = shouldTrack;\n    while (parent) {\n      if (parent === this) {\n        return;\n      }\n      parent = parent.parent;\n    }\n    try {\n      this.parent = activeEffect;\n      activeEffect = this;\n      shouldTrack = true;\n      trackOpBit = 1 << ++effectTrackDepth;\n      if (effectTrackDepth <= maxMarkerBits) {\n        initDepMarkers(this);\n      } else {\n        cleanupEffect(this);\n      }\n      return this.fn();\n    } finally {\n      if (effectTrackDepth <= maxMarkerBits) {\n        finalizeDepMarkers(this);\n      }\n      trackOpBit = 1 << --effectTrackDepth;\n      activeEffect = this.parent;\n      shouldTrack = lastShouldTrack;\n      this.parent = void 0;\n      if (this.deferStop) {\n        this.stop();\n      }\n    }\n  }\n  stop() {\n    if (activeEffect === this) {\n      this.deferStop = true;\n    } else if (this.active) {\n      cleanupEffect(this);\n      if (this.onStop) {\n        this.onStop();\n      }\n      this.active = false;\n    }\n  }\n}\nfunction cleanupEffect(effect2) {\n  const { deps } = effect2;\n  if (deps.length) {\n    for (let i = 0; i < deps.length; i++) {\n      deps[i].delete(effect2);\n    }\n    deps.length = 0;\n  }\n}\nfunction effect(fn, options) {\n  if (fn.effect) {\n    fn = fn.effect.fn;\n  }\n  const _effect = new ReactiveEffect(fn);\n  if (options) {\n    extend(_effect, options);\n    if (options.scope)\n      recordEffectScope(_effect, options.scope);\n  }\n  if (!options || !options.lazy) {\n    _effect.run();\n  }\n  const runner = _effect.run.bind(_effect);\n  runner.effect = _effect;\n  return runner;\n}\nfunction stop(runner) {\n  runner.effect.stop();\n}\nlet shouldTrack = true;\nconst trackStack = [];\nfunction pauseTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = false;\n}\nfunction enableTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = true;\n}\nfunction resetTracking() {\n  const last = trackStack.pop();\n  shouldTrack = last === void 0 ? true : last;\n}\nfunction track(target, type, key) {\n  if (shouldTrack && activeEffect) {\n    let depsMap = targetMap.get(target);\n    if (!depsMap) {\n      targetMap.set(target, depsMap = /* @__PURE__ */ new Map());\n    }\n    let dep = depsMap.get(key);\n    if (!dep) {\n      depsMap.set(key, dep = createDep());\n    }\n    const eventInfo = !!(process.env.NODE_ENV !== \"production\") ? { effect: activeEffect, target, type, key } : void 0;\n    trackEffects(dep, eventInfo);\n  }\n}\nfunction trackEffects(dep, debuggerEventExtraInfo) {\n  let shouldTrack2 = false;\n  if (effectTrackDepth <= maxMarkerBits) {\n    if (!newTracked(dep)) {\n      dep.n |= trackOpBit;\n      shouldTrack2 = !wasTracked(dep);\n    }\n  } else {\n    shouldTrack2 = !dep.has(activeEffect);\n  }\n  if (shouldTrack2) {\n    dep.add(activeEffect);\n    activeEffect.deps.push(dep);\n    if (!!(process.env.NODE_ENV !== \"production\") && activeEffect.onTrack) {\n      activeEffect.onTrack(\n        extend(\n          {\n            effect: activeEffect\n          },\n          debuggerEventExtraInfo\n        )\n      );\n    }\n  }\n}\nfunction trigger(target, type, key, newValue, oldValue, oldTarget) {\n  const depsMap = targetMap.get(target);\n  if (!depsMap) {\n    return;\n  }\n  let deps = [];\n  if (type === \"clear\") {\n    deps = [...depsMap.values()];\n  } else if (key === \"length\" && isArray(target)) {\n    const newLength = Number(newValue);\n    depsMap.forEach((dep, key2) => {\n      if (key2 === \"length\" || key2 >= newLength) {\n        deps.push(dep);\n      }\n    });\n  } else {\n    if (key !== void 0) {\n      deps.push(depsMap.get(key));\n    }\n    switch (type) {\n      case \"add\":\n        if (!isArray(target)) {\n          deps.push(depsMap.get(ITERATE_KEY));\n          if (isMap(target)) {\n            deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\n          }\n        } else if (isIntegerKey(key)) {\n          deps.push(depsMap.get(\"length\"));\n        }\n        break;\n      case \"delete\":\n        if (!isArray(target)) {\n          deps.push(depsMap.get(ITERATE_KEY));\n          if (isMap(target)) {\n            deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\n          }\n        }\n        break;\n      case \"set\":\n        if (isMap(target)) {\n          deps.push(depsMap.get(ITERATE_KEY));\n        }\n        break;\n    }\n  }\n  const eventInfo = !!(process.env.NODE_ENV !== \"production\") ? { target, type, key, newValue, oldValue, oldTarget } : void 0;\n  if (deps.length === 1) {\n    if (deps[0]) {\n      if (!!(process.env.NODE_ENV !== \"production\")) {\n        triggerEffects(deps[0], eventInfo);\n      } else {\n        triggerEffects(deps[0]);\n      }\n    }\n  } else {\n    const effects = [];\n    for (const dep of deps) {\n      if (dep) {\n        effects.push(...dep);\n      }\n    }\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      triggerEffects(createDep(effects), eventInfo);\n    } else {\n      triggerEffects(createDep(effects));\n    }\n  }\n}\nfunction triggerEffects(dep, debuggerEventExtraInfo) {\n  const effects = isArray(dep) ? dep : [...dep];\n  for (const effect2 of effects) {\n    if (effect2.computed) {\n      triggerEffect(effect2, debuggerEventExtraInfo);\n    }\n  }\n  for (const effect2 of effects) {\n    if (!effect2.computed) {\n      triggerEffect(effect2, debuggerEventExtraInfo);\n    }\n  }\n}\nfunction triggerEffect(effect2, debuggerEventExtraInfo) {\n  if (effect2 !== activeEffect || effect2.allowRecurse) {\n    if (!!(process.env.NODE_ENV !== \"production\") && effect2.onTrigger) {\n      effect2.onTrigger(extend({ effect: effect2 }, debuggerEventExtraInfo));\n    }\n    if (effect2.scheduler) {\n      effect2.scheduler();\n    } else {\n      effect2.run();\n    }\n  }\n}\nfunction getDepFromReactive(object, key) {\n  var _a;\n  return (_a = targetMap.get(object)) == null ? void 0 : _a.get(key);\n}\n\nconst isNonTrackableKeys = /* @__PURE__ */ makeMap(`__proto__,__v_isRef,__isVue`);\nconst builtInSymbols = new Set(\n  /* @__PURE__ */ Object.getOwnPropertyNames(Symbol).filter((key) => key !== \"arguments\" && key !== \"caller\").map((key) => Symbol[key]).filter(isSymbol)\n);\nconst get$1 = /* @__PURE__ */ createGetter();\nconst shallowGet = /* @__PURE__ */ createGetter(false, true);\nconst readonlyGet = /* @__PURE__ */ createGetter(true);\nconst shallowReadonlyGet = /* @__PURE__ */ createGetter(true, true);\nconst arrayInstrumentations = /* @__PURE__ */ createArrayInstrumentations();\nfunction createArrayInstrumentations() {\n  const instrumentations = {};\n  [\"includes\", \"indexOf\", \"lastIndexOf\"].forEach((key) => {\n    instrumentations[key] = function(...args) {\n      const arr = toRaw(this);\n      for (let i = 0, l = this.length; i < l; i++) {\n        track(arr, \"get\", i + \"\");\n      }\n      const res = arr[key](...args);\n      if (res === -1 || res === false) {\n        return arr[key](...args.map(toRaw));\n      } else {\n        return res;\n      }\n    };\n  });\n  [\"push\", \"pop\", \"shift\", \"unshift\", \"splice\"].forEach((key) => {\n    instrumentations[key] = function(...args) {\n      pauseTracking();\n      const res = toRaw(this)[key].apply(this, args);\n      resetTracking();\n      return res;\n    };\n  });\n  return instrumentations;\n}\nfunction hasOwnProperty(key) {\n  const obj = toRaw(this);\n  track(obj, \"has\", key);\n  return obj.hasOwnProperty(key);\n}\nfunction createGetter(isReadonly2 = false, shallow = false) {\n  return function get2(target, key, receiver) {\n    if (key === \"__v_isReactive\") {\n      return !isReadonly2;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly2;\n    } else if (key === \"__v_isShallow\") {\n      return shallow;\n    } else if (key === \"__v_raw\" && receiver === (isReadonly2 ? shallow ? shallowReadonlyMap : readonlyMap : shallow ? shallowReactiveMap : reactiveMap).get(target)) {\n      return target;\n    }\n    const targetIsArray = isArray(target);\n    if (!isReadonly2) {\n      if (targetIsArray && hasOwn(arrayInstrumentations, key)) {\n        return Reflect.get(arrayInstrumentations, key, receiver);\n      }\n      if (key === \"hasOwnProperty\") {\n        return hasOwnProperty;\n      }\n    }\n    const res = Reflect.get(target, key, receiver);\n    if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {\n      return res;\n    }\n    if (!isReadonly2) {\n      track(target, \"get\", key);\n    }\n    if (shallow) {\n      return res;\n    }\n    if (isRef(res)) {\n      return targetIsArray && isIntegerKey(key) ? res : res.value;\n    }\n    if (isObject(res)) {\n      return isReadonly2 ? readonly(res) : reactive(res);\n    }\n    return res;\n  };\n}\nconst set$1 = /* @__PURE__ */ createSetter();\nconst shallowSet = /* @__PURE__ */ createSetter(true);\nfunction createSetter(shallow = false) {\n  return function set2(target, key, value, receiver) {\n    let oldValue = target[key];\n    if (isReadonly(oldValue) && isRef(oldValue) && !isRef(value)) {\n      return false;\n    }\n    if (!shallow) {\n      if (!isShallow(value) && !isReadonly(value)) {\n        oldValue = toRaw(oldValue);\n        value = toRaw(value);\n      }\n      if (!isArray(target) && isRef(oldValue) && !isRef(value)) {\n        oldValue.value = value;\n        return true;\n      }\n    }\n    const hadKey = isArray(target) && isIntegerKey(key) ? Number(key) < target.length : hasOwn(target, key);\n    const result = Reflect.set(target, key, value, receiver);\n    if (target === toRaw(receiver)) {\n      if (!hadKey) {\n        trigger(target, \"add\", key, value);\n      } else if (hasChanged(value, oldValue)) {\n        trigger(target, \"set\", key, value, oldValue);\n      }\n    }\n    return result;\n  };\n}\nfunction deleteProperty(target, key) {\n  const hadKey = hasOwn(target, key);\n  const oldValue = target[key];\n  const result = Reflect.deleteProperty(target, key);\n  if (result && hadKey) {\n    trigger(target, \"delete\", key, void 0, oldValue);\n  }\n  return result;\n}\nfunction has$1(target, key) {\n  const result = Reflect.has(target, key);\n  if (!isSymbol(key) || !builtInSymbols.has(key)) {\n    track(target, \"has\", key);\n  }\n  return result;\n}\nfunction ownKeys(target) {\n  track(target, \"iterate\", isArray(target) ? \"length\" : ITERATE_KEY);\n  return Reflect.ownKeys(target);\n}\nconst mutableHandlers = {\n  get: get$1,\n  set: set$1,\n  deleteProperty,\n  has: has$1,\n  ownKeys\n};\nconst readonlyHandlers = {\n  get: readonlyGet,\n  set(target, key) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `Set operation on key \"${String(key)}\" failed: target is readonly.`,\n        target\n      );\n    }\n    return true;\n  },\n  deleteProperty(target, key) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      warn(\n        `Delete operation on key \"${String(key)}\" failed: target is readonly.`,\n        target\n      );\n    }\n    return true;\n  }\n};\nconst shallowReactiveHandlers = /* @__PURE__ */ extend(\n  {},\n  mutableHandlers,\n  {\n    get: shallowGet,\n    set: shallowSet\n  }\n);\nconst shallowReadonlyHandlers = /* @__PURE__ */ extend(\n  {},\n  readonlyHandlers,\n  {\n    get: shallowReadonlyGet\n  }\n);\n\nconst toShallow = (value) => value;\nconst getProto = (v) => Reflect.getPrototypeOf(v);\nfunction get(target, key, isReadonly = false, isShallow = false) {\n  target = target[\"__v_raw\"];\n  const rawTarget = toRaw(target);\n  const rawKey = toRaw(key);\n  if (!isReadonly) {\n    if (key !== rawKey) {\n      track(rawTarget, \"get\", key);\n    }\n    track(rawTarget, \"get\", rawKey);\n  }\n  const { has: has2 } = getProto(rawTarget);\n  const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\n  if (has2.call(rawTarget, key)) {\n    return wrap(target.get(key));\n  } else if (has2.call(rawTarget, rawKey)) {\n    return wrap(target.get(rawKey));\n  } else if (target !== rawTarget) {\n    target.get(key);\n  }\n}\nfunction has(key, isReadonly = false) {\n  const target = this[\"__v_raw\"];\n  const rawTarget = toRaw(target);\n  const rawKey = toRaw(key);\n  if (!isReadonly) {\n    if (key !== rawKey) {\n      track(rawTarget, \"has\", key);\n    }\n    track(rawTarget, \"has\", rawKey);\n  }\n  return key === rawKey ? target.has(key) : target.has(key) || target.has(rawKey);\n}\nfunction size(target, isReadonly = false) {\n  target = target[\"__v_raw\"];\n  !isReadonly && track(toRaw(target), \"iterate\", ITERATE_KEY);\n  return Reflect.get(target, \"size\", target);\n}\nfunction add(value) {\n  value = toRaw(value);\n  const target = toRaw(this);\n  const proto = getProto(target);\n  const hadKey = proto.has.call(target, value);\n  if (!hadKey) {\n    target.add(value);\n    trigger(target, \"add\", value, value);\n  }\n  return this;\n}\nfunction set(key, value) {\n  value = toRaw(value);\n  const target = toRaw(this);\n  const { has: has2, get: get2 } = getProto(target);\n  let hadKey = has2.call(target, key);\n  if (!hadKey) {\n    key = toRaw(key);\n    hadKey = has2.call(target, key);\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    checkIdentityKeys(target, has2, key);\n  }\n  const oldValue = get2.call(target, key);\n  target.set(key, value);\n  if (!hadKey) {\n    trigger(target, \"add\", key, value);\n  } else if (hasChanged(value, oldValue)) {\n    trigger(target, \"set\", key, value, oldValue);\n  }\n  return this;\n}\nfunction deleteEntry(key) {\n  const target = toRaw(this);\n  const { has: has2, get: get2 } = getProto(target);\n  let hadKey = has2.call(target, key);\n  if (!hadKey) {\n    key = toRaw(key);\n    hadKey = has2.call(target, key);\n  } else if (!!(process.env.NODE_ENV !== \"production\")) {\n    checkIdentityKeys(target, has2, key);\n  }\n  const oldValue = get2 ? get2.call(target, key) : void 0;\n  const result = target.delete(key);\n  if (hadKey) {\n    trigger(target, \"delete\", key, void 0, oldValue);\n  }\n  return result;\n}\nfunction clear() {\n  const target = toRaw(this);\n  const hadItems = target.size !== 0;\n  const oldTarget = !!(process.env.NODE_ENV !== \"production\") ? isMap(target) ? new Map(target) : new Set(target) : void 0;\n  const result = target.clear();\n  if (hadItems) {\n    trigger(target, \"clear\", void 0, void 0, oldTarget);\n  }\n  return result;\n}\nfunction createForEach(isReadonly, isShallow) {\n  return function forEach(callback, thisArg) {\n    const observed = this;\n    const target = observed[\"__v_raw\"];\n    const rawTarget = toRaw(target);\n    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\n    !isReadonly && track(rawTarget, \"iterate\", ITERATE_KEY);\n    return target.forEach((value, key) => {\n      return callback.call(thisArg, wrap(value), wrap(key), observed);\n    });\n  };\n}\nfunction createIterableMethod(method, isReadonly, isShallow) {\n  return function(...args) {\n    const target = this[\"__v_raw\"];\n    const rawTarget = toRaw(target);\n    const targetIsMap = isMap(rawTarget);\n    const isPair = method === \"entries\" || method === Symbol.iterator && targetIsMap;\n    const isKeyOnly = method === \"keys\" && targetIsMap;\n    const innerIterator = target[method](...args);\n    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\n    !isReadonly && track(\n      rawTarget,\n      \"iterate\",\n      isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY\n    );\n    return {\n      // iterator protocol\n      next() {\n        const { value, done } = innerIterator.next();\n        return done ? { value, done } : {\n          value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),\n          done\n        };\n      },\n      // iterable protocol\n      [Symbol.iterator]() {\n        return this;\n      }\n    };\n  };\n}\nfunction createReadonlyMethod(type) {\n  return function(...args) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      const key = args[0] ? `on key \"${args[0]}\" ` : ``;\n      console.warn(\n        `${capitalize(type)} operation ${key}failed: target is readonly.`,\n        toRaw(this)\n      );\n    }\n    return type === \"delete\" ? false : this;\n  };\n}\nfunction createInstrumentations() {\n  const mutableInstrumentations2 = {\n    get(key) {\n      return get(this, key);\n    },\n    get size() {\n      return size(this);\n    },\n    has,\n    add,\n    set,\n    delete: deleteEntry,\n    clear,\n    forEach: createForEach(false, false)\n  };\n  const shallowInstrumentations2 = {\n    get(key) {\n      return get(this, key, false, true);\n    },\n    get size() {\n      return size(this);\n    },\n    has,\n    add,\n    set,\n    delete: deleteEntry,\n    clear,\n    forEach: createForEach(false, true)\n  };\n  const readonlyInstrumentations2 = {\n    get(key) {\n      return get(this, key, true);\n    },\n    get size() {\n      return size(this, true);\n    },\n    has(key) {\n      return has.call(this, key, true);\n    },\n    add: createReadonlyMethod(\"add\"),\n    set: createReadonlyMethod(\"set\"),\n    delete: createReadonlyMethod(\"delete\"),\n    clear: createReadonlyMethod(\"clear\"),\n    forEach: createForEach(true, false)\n  };\n  const shallowReadonlyInstrumentations2 = {\n    get(key) {\n      return get(this, key, true, true);\n    },\n    get size() {\n      return size(this, true);\n    },\n    has(key) {\n      return has.call(this, key, true);\n    },\n    add: createReadonlyMethod(\"add\"),\n    set: createReadonlyMethod(\"set\"),\n    delete: createReadonlyMethod(\"delete\"),\n    clear: createReadonlyMethod(\"clear\"),\n    forEach: createForEach(true, true)\n  };\n  const iteratorMethods = [\"keys\", \"values\", \"entries\", Symbol.iterator];\n  iteratorMethods.forEach((method) => {\n    mutableInstrumentations2[method] = createIterableMethod(\n      method,\n      false,\n      false\n    );\n    readonlyInstrumentations2[method] = createIterableMethod(\n      method,\n      true,\n      false\n    );\n    shallowInstrumentations2[method] = createIterableMethod(\n      method,\n      false,\n      true\n    );\n    shallowReadonlyInstrumentations2[method] = createIterableMethod(\n      method,\n      true,\n      true\n    );\n  });\n  return [\n    mutableInstrumentations2,\n    readonlyInstrumentations2,\n    shallowInstrumentations2,\n    shallowReadonlyInstrumentations2\n  ];\n}\nconst [\n  mutableInstrumentations,\n  readonlyInstrumentations,\n  shallowInstrumentations,\n  shallowReadonlyInstrumentations\n] = /* @__PURE__ */ createInstrumentations();\nfunction createInstrumentationGetter(isReadonly, shallow) {\n  const instrumentations = shallow ? isReadonly ? shallowReadonlyInstrumentations : shallowInstrumentations : isReadonly ? readonlyInstrumentations : mutableInstrumentations;\n  return (target, key, receiver) => {\n    if (key === \"__v_isReactive\") {\n      return !isReadonly;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly;\n    } else if (key === \"__v_raw\") {\n      return target;\n    }\n    return Reflect.get(\n      hasOwn(instrumentations, key) && key in target ? instrumentations : target,\n      key,\n      receiver\n    );\n  };\n}\nconst mutableCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(false, false)\n};\nconst shallowCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(false, true)\n};\nconst readonlyCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(true, false)\n};\nconst shallowReadonlyCollectionHandlers = {\n  get: /* @__PURE__ */ createInstrumentationGetter(true, true)\n};\nfunction checkIdentityKeys(target, has2, key) {\n  const rawKey = toRaw(key);\n  if (rawKey !== key && has2.call(target, rawKey)) {\n    const type = toRawType(target);\n    console.warn(\n      `Reactive ${type} contains both the raw and reactive versions of the same object${type === `Map` ? ` as keys` : ``}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`\n    );\n  }\n}\n\nconst reactiveMap = /* @__PURE__ */ new WeakMap();\nconst shallowReactiveMap = /* @__PURE__ */ new WeakMap();\nconst readonlyMap = /* @__PURE__ */ new WeakMap();\nconst shallowReadonlyMap = /* @__PURE__ */ new WeakMap();\nfunction targetTypeMap(rawType) {\n  switch (rawType) {\n    case \"Object\":\n    case \"Array\":\n      return 1 /* COMMON */;\n    case \"Map\":\n    case \"Set\":\n    case \"WeakMap\":\n    case \"WeakSet\":\n      return 2 /* COLLECTION */;\n    default:\n      return 0 /* INVALID */;\n  }\n}\nfunction getTargetType(value) {\n  return value[\"__v_skip\"] || !Object.isExtensible(value) ? 0 /* INVALID */ : targetTypeMap(toRawType(value));\n}\nfunction reactive(target) {\n  if (isReadonly(target)) {\n    return target;\n  }\n  return createReactiveObject(\n    target,\n    false,\n    mutableHandlers,\n    mutableCollectionHandlers,\n    reactiveMap\n  );\n}\nfunction shallowReactive(target) {\n  return createReactiveObject(\n    target,\n    false,\n    shallowReactiveHandlers,\n    shallowCollectionHandlers,\n    shallowReactiveMap\n  );\n}\nfunction readonly(target) {\n  return createReactiveObject(\n    target,\n    true,\n    readonlyHandlers,\n    readonlyCollectionHandlers,\n    readonlyMap\n  );\n}\nfunction shallowReadonly(target) {\n  return createReactiveObject(\n    target,\n    true,\n    shallowReadonlyHandlers,\n    shallowReadonlyCollectionHandlers,\n    shallowReadonlyMap\n  );\n}\nfunction createReactiveObject(target, isReadonly2, baseHandlers, collectionHandlers, proxyMap) {\n  if (!isObject(target)) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      console.warn(`value cannot be made reactive: ${String(target)}`);\n    }\n    return target;\n  }\n  if (target[\"__v_raw\"] && !(isReadonly2 && target[\"__v_isReactive\"])) {\n    return target;\n  }\n  const existingProxy = proxyMap.get(target);\n  if (existingProxy) {\n    return existingProxy;\n  }\n  const targetType = getTargetType(target);\n  if (targetType === 0 /* INVALID */) {\n    return target;\n  }\n  const proxy = new Proxy(\n    target,\n    targetType === 2 /* COLLECTION */ ? collectionHandlers : baseHandlers\n  );\n  proxyMap.set(target, proxy);\n  return proxy;\n}\nfunction isReactive(value) {\n  if (isReadonly(value)) {\n    return isReactive(value[\"__v_raw\"]);\n  }\n  return !!(value && value[\"__v_isReactive\"]);\n}\nfunction isReadonly(value) {\n  return !!(value && value[\"__v_isReadonly\"]);\n}\nfunction isShallow(value) {\n  return !!(value && value[\"__v_isShallow\"]);\n}\nfunction isProxy(value) {\n  return isReactive(value) || isReadonly(value);\n}\nfunction toRaw(observed) {\n  const raw = observed && observed[\"__v_raw\"];\n  return raw ? toRaw(raw) : observed;\n}\nfunction markRaw(value) {\n  def(value, \"__v_skip\", true);\n  return value;\n}\nconst toReactive = (value) => isObject(value) ? reactive(value) : value;\nconst toReadonly = (value) => isObject(value) ? readonly(value) : value;\n\nfunction trackRefValue(ref2) {\n  if (shouldTrack && activeEffect) {\n    ref2 = toRaw(ref2);\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      trackEffects(ref2.dep || (ref2.dep = createDep()), {\n        target: ref2,\n        type: \"get\",\n        key: \"value\"\n      });\n    } else {\n      trackEffects(ref2.dep || (ref2.dep = createDep()));\n    }\n  }\n}\nfunction triggerRefValue(ref2, newVal) {\n  ref2 = toRaw(ref2);\n  const dep = ref2.dep;\n  if (dep) {\n    if (!!(process.env.NODE_ENV !== \"production\")) {\n      triggerEffects(dep, {\n        target: ref2,\n        type: \"set\",\n        key: \"value\",\n        newValue: newVal\n      });\n    } else {\n      triggerEffects(dep);\n    }\n  }\n}\nfunction isRef(r) {\n  return !!(r && r.__v_isRef === true);\n}\nfunction ref(value) {\n  return createRef(value, false);\n}\nfunction shallowRef(value) {\n  return createRef(value, true);\n}\nfunction createRef(rawValue, shallow) {\n  if (isRef(rawValue)) {\n    return rawValue;\n  }\n  return new RefImpl(rawValue, shallow);\n}\nclass RefImpl {\n  constructor(value, __v_isShallow) {\n    this.__v_isShallow = __v_isShallow;\n    this.dep = void 0;\n    this.__v_isRef = true;\n    this._rawValue = __v_isShallow ? value : toRaw(value);\n    this._value = __v_isShallow ? value : toReactive(value);\n  }\n  get value() {\n    trackRefValue(this);\n    return this._value;\n  }\n  set value(newVal) {\n    const useDirectValue = this.__v_isShallow || isShallow(newVal) || isReadonly(newVal);\n    newVal = useDirectValue ? newVal : toRaw(newVal);\n    if (hasChanged(newVal, this._rawValue)) {\n      this._rawValue = newVal;\n      this._value = useDirectValue ? newVal : toReactive(newVal);\n      triggerRefValue(this, newVal);\n    }\n  }\n}\nfunction triggerRef(ref2) {\n  triggerRefValue(ref2, !!(process.env.NODE_ENV !== \"production\") ? ref2.value : void 0);\n}\nfunction unref(ref2) {\n  return isRef(ref2) ? ref2.value : ref2;\n}\nfunction toValue(source) {\n  return isFunction(source) ? source() : unref(source);\n}\nconst shallowUnwrapHandlers = {\n  get: (target, key, receiver) => unref(Reflect.get(target, key, receiver)),\n  set: (target, key, value, receiver) => {\n    const oldValue = target[key];\n    if (isRef(oldValue) && !isRef(value)) {\n      oldValue.value = value;\n      return true;\n    } else {\n      return Reflect.set(target, key, value, receiver);\n    }\n  }\n};\nfunction proxyRefs(objectWithRefs) {\n  return isReactive(objectWithRefs) ? objectWithRefs : new Proxy(objectWithRefs, shallowUnwrapHandlers);\n}\nclass CustomRefImpl {\n  constructor(factory) {\n    this.dep = void 0;\n    this.__v_isRef = true;\n    const { get, set } = factory(\n      () => trackRefValue(this),\n      () => triggerRefValue(this)\n    );\n    this._get = get;\n    this._set = set;\n  }\n  get value() {\n    return this._get();\n  }\n  set value(newVal) {\n    this._set(newVal);\n  }\n}\nfunction customRef(factory) {\n  return new CustomRefImpl(factory);\n}\nfunction toRefs(object) {\n  if (!!(process.env.NODE_ENV !== \"production\") && !isProxy(object)) {\n    console.warn(`toRefs() expects a reactive object but received a plain one.`);\n  }\n  const ret = isArray(object) ? new Array(object.length) : {};\n  for (const key in object) {\n    ret[key] = propertyToRef(object, key);\n  }\n  return ret;\n}\nclass ObjectRefImpl {\n  constructor(_object, _key, _defaultValue) {\n    this._object = _object;\n    this._key = _key;\n    this._defaultValue = _defaultValue;\n    this.__v_isRef = true;\n  }\n  get value() {\n    const val = this._object[this._key];\n    return val === void 0 ? this._defaultValue : val;\n  }\n  set value(newVal) {\n    this._object[this._key] = newVal;\n  }\n  get dep() {\n    return getDepFromReactive(toRaw(this._object), this._key);\n  }\n}\nclass GetterRefImpl {\n  constructor(_getter) {\n    this._getter = _getter;\n    this.__v_isRef = true;\n    this.__v_isReadonly = true;\n  }\n  get value() {\n    return this._getter();\n  }\n}\nfunction toRef(source, key, defaultValue) {\n  if (isRef(source)) {\n    return source;\n  } else if (isFunction(source)) {\n    return new GetterRefImpl(source);\n  } else if (isObject(source) && arguments.length > 1) {\n    return propertyToRef(source, key, defaultValue);\n  } else {\n    return ref(source);\n  }\n}\nfunction propertyToRef(source, key, defaultValue) {\n  const val = source[key];\n  return isRef(val) ? val : new ObjectRefImpl(\n    source,\n    key,\n    defaultValue\n  );\n}\n\nclass ComputedRefImpl {\n  constructor(getter, _setter, isReadonly, isSSR) {\n    this._setter = _setter;\n    this.dep = void 0;\n    this.__v_isRef = true;\n    this[\"__v_isReadonly\"] = false;\n    this._dirty = true;\n    this.effect = new ReactiveEffect(getter, () => {\n      if (!this._dirty) {\n        this._dirty = true;\n        triggerRefValue(this);\n      }\n    });\n    this.effect.computed = this;\n    this.effect.active = this._cacheable = !isSSR;\n    this[\"__v_isReadonly\"] = isReadonly;\n  }\n  get value() {\n    const self = toRaw(this);\n    trackRefValue(self);\n    if (self._dirty || !self._cacheable) {\n      self._dirty = false;\n      self._value = self.effect.run();\n    }\n    return self._value;\n  }\n  set value(newValue) {\n    this._setter(newValue);\n  }\n}\nfunction computed(getterOrOptions, debugOptions, isSSR = false) {\n  let getter;\n  let setter;\n  const onlyGetter = isFunction(getterOrOptions);\n  if (onlyGetter) {\n    getter = getterOrOptions;\n    setter = !!(process.env.NODE_ENV !== \"production\") ? () => {\n      console.warn(\"Write operation failed: computed value is readonly\");\n    } : NOOP;\n  } else {\n    getter = getterOrOptions.get;\n    setter = getterOrOptions.set;\n  }\n  const cRef = new ComputedRefImpl(getter, setter, onlyGetter || !setter, isSSR);\n  if (!!(process.env.NODE_ENV !== \"production\") && debugOptions && !isSSR) {\n    cRef.effect.onTrack = debugOptions.onTrack;\n    cRef.effect.onTrigger = debugOptions.onTrigger;\n  }\n  return cRef;\n}\n\nconst tick = /* @__PURE__ */ Promise.resolve();\nconst queue = [];\nlet queued = false;\nconst scheduler = (fn) => {\n  queue.push(fn);\n  if (!queued) {\n    queued = true;\n    tick.then(flush);\n  }\n};\nconst flush = () => {\n  for (let i = 0; i < queue.length; i++) {\n    queue[i]();\n  }\n  queue.length = 0;\n  queued = false;\n};\nclass DeferredComputedRefImpl {\n  constructor(getter) {\n    this.dep = void 0;\n    this._dirty = true;\n    this.__v_isRef = true;\n    this[\"__v_isReadonly\"] = true;\n    let compareTarget;\n    let hasCompareTarget = false;\n    let scheduled = false;\n    this.effect = new ReactiveEffect(getter, (computedTrigger) => {\n      if (this.dep) {\n        if (computedTrigger) {\n          compareTarget = this._value;\n          hasCompareTarget = true;\n        } else if (!scheduled) {\n          const valueToCompare = hasCompareTarget ? compareTarget : this._value;\n          scheduled = true;\n          hasCompareTarget = false;\n          scheduler(() => {\n            if (this.effect.active && this._get() !== valueToCompare) {\n              triggerRefValue(this);\n            }\n            scheduled = false;\n          });\n        }\n        for (const e of this.dep) {\n          if (e.computed instanceof DeferredComputedRefImpl) {\n            e.scheduler(\n              true\n              /* computedTrigger */\n            );\n          }\n        }\n      }\n      this._dirty = true;\n    });\n    this.effect.computed = this;\n  }\n  _get() {\n    if (this._dirty) {\n      this._dirty = false;\n      return this._value = this.effect.run();\n    }\n    return this._value;\n  }\n  get value() {\n    trackRefValue(this);\n    return toRaw(this)._get();\n  }\n}\nfunction deferredComputed(getter) {\n  return new DeferredComputedRefImpl(getter);\n}\n\nexport { EffectScope, ITERATE_KEY, ReactiveEffect, computed, customRef, deferredComputed, effect, effectScope, enableTracking, getCurrentScope, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, onScopeDispose, pauseTracking, proxyRefs, reactive, readonly, ref, resetTracking, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, toValue, track, trigger, triggerRef, unref };\n","import { reactive, ref } from 'vue';\n\nexport const settingsObj = {\n  options: reactive({\n    autoTrackingModeanime: 'video',\n    readerTracking: true,\n    autoTrackingModemanga: 'instant',\n    enablePages: {},\n    forceEn: false,\n    rpc: true,\n    presenceLargeImage: 'cover',\n    presenceShowButtons: true,\n    presenceShowMalsync: false,\n    userscriptModeButton: false,\n    syncMode: 'MAL',\n    syncModeSimkl: 'MAL',\n    localSync: true,\n    delay: 0,\n    videoDuration: 85,\n    malTags: false,\n    malContinue: true,\n    malResume: true,\n    usedPage: true,\n    epPredictions: true,\n\n    theme: 'auto',\n    themeSidebars: true,\n    themeColor: '#000000',\n    themeOpacity: 100,\n    themeImage: '',\n\n    minimalWindow: false,\n    posLeft: 'left',\n    miniMALonMal: false,\n    floatButtonStealth: false,\n    minimizeBigPopup: false,\n    floatButtonCorrection: true,\n    floatButtonHide: false,\n    autoCloseMinimal: false,\n    outWay: true,\n    miniMalWidth: '550px',\n    miniMalHeight: '90%',\n    malThumbnail: 100,\n    friendScore: true,\n    loadPTWForProgress: false,\n\n    quicklinks: [\n      '9anime',\n      'Crunchyroll',\n      'Gogoanime',\n      'Mangadex',\n      'MangaNato',\n      'MangaFox',\n      'MangaSee',\n      'MangaFire',\n      'YugenAnime',\n      'Zoro',\n      'Funimation',\n      'Hulu',\n      'Netflix',\n      'Hidive',\n      'Vrv',\n      'VIZ',\n      'MangaPlus',\n      'MangaReader',\n      'marin',\n      'ComicK',\n    ],\n    quicklinksPosition: 'default',\n\n    autofull: false,\n    autoresume: false,\n    autoNextEp: false,\n    highlightAllEp: false,\n    checkForFiller: true,\n    crashReport: true,\n\n    introSkip: 85,\n    introSkipFwd: [17, 39],\n    introSkipBwd: [17, 37],\n    nextEpShort: [],\n    correctionShort: [67],\n    syncShort: [],\n\n    progressInterval: 120,\n    progressIntervalDefaultAnime: 'en/sub',\n    progressIntervalDefaultManga: 'en/sub',\n    progressNotificationsAnime: true,\n    progressNotificationsManga: true,\n\n    bookMarksList: false,\n\n    customDomains: [],\n\n    anilistUpdateUi: true,\n\n    anilistToken: '',\n    anilistOptions: {\n      displayAdultContent: true,\n      scoreFormat: 'POINT_10',\n    },\n    kitsuToken: '',\n    kitsuOptions: {\n      titleLanguagePreference: 'canonical',\n      sfwFilter: false,\n      ratingSystem: 'regular',\n    },\n    simklToken: '',\n\n    malToken: '',\n    malRefresh: '',\n\n    shikiToken: '',\n    shikiOptions: {\n      locale: 'ru',\n    },\n  }),\n\n  debounceArray: {},\n\n  isInit: ref(false),\n\n  async init() {\n    const tempSettings = [];\n    for (const key in this.options) {\n      const store = await api.storage.get(`settings/${key}`);\n      if (typeof store !== 'undefined') {\n        this.options[key] = store;\n        tempSettings[key] = /(token|refresh)/i.test(key) && store ? '********' : store;\n      }\n    }\n    con.log('Settings', tempSettings);\n\n    let rateDebounce;\n\n    api.storage.storageOnChanged((changes, namespace) => {\n      if (namespace === 'sync') {\n        for (const key in changes) {\n          const storageChange = changes[key];\n          if (/^settings\\//i.test(key)) {\n            this.options[key.replace('settings/', '')] = storageChange.newValue;\n            con.info(`Update ${key} option to ${storageChange.newValue}`);\n          }\n        }\n      }\n      if (namespace === 'local' && changes.rateLimit) {\n        try {\n          clearTimeout(rateDebounce);\n          if (changes.rateLimit.newValue) {\n            con.log('Rate limited');\n            if (!$('.type-rate').length) {\n              utils.flashm('Rate limited. Retrying in a moment', {\n                error: true,\n                type: 'rate',\n                permanent: true,\n              });\n            }\n          } else {\n            rateDebounce = setTimeout(() => {\n              con.log('No Rate limited');\n              $('.type-rate').remove();\n            }, 5000);\n          }\n        } catch (e) {\n          con.error(e);\n        }\n      }\n    });\n\n    this.isInit.value = true;\n\n    return this;\n  },\n\n  get(name: string) {\n    if (!this.isInit.value) throw 'Settings not initialized';\n    return this.options[name];\n  },\n\n  set(name: string, value: any) {\n    if (!Object.prototype.hasOwnProperty.call(this.options, name)) {\n      const err = Error(`${name} is not a defined option`);\n      con.error(err);\n      throw err;\n    }\n\n    this.options[name] = value;\n    return api.storage.set(`settings/${name}`, value);\n  },\n\n  setDebounce(name: string, value: any) {\n    this.options[name] = value;\n    clearTimeout(this.debounceArray[name]);\n    this.debounceArray[name] = setTimeout(() => {\n      this.set(name, value);\n      delete this.debounceArray[name];\n    }, 1000);\n  },\n\n  async getAsync(name: string) {\n    const value = await api.storage.get(`settings/${name}`);\n    if (typeof value === 'undefined' && typeof this.options[name] !== 'undefined')\n      return this.options[name];\n    return value;\n  },\n};\n","import { webextension } from './storage/webextension';\nimport { requestApi } from './request/requestWebextension';\nimport { settingsObj } from './settings';\n\nexport const storage = webextension;\n\nexport const request = requestApi;\n\nexport const settings = settingsObj;\n\nexport const type = 'webextension';\n","/* eslint-disable no-bitwise */\n\nexport const log = (function () {\n  return Function.prototype.bind.call(\n    console.log,\n    console,\n    '%cMAL-Sync-BG',\n    'background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;',\n  );\n})();\n\nexport const error = (function () {\n  return Function.prototype.bind.call(\n    console.error,\n    console,\n    '%cMAL-Sync-BG',\n    'background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;',\n  );\n})();\n\nexport const info = (function () {\n  return Function.prototype.bind.call(\n    console.info,\n    console,\n    '%cMAL-Sync-BG',\n    'background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;',\n  );\n})();\n\nexport const debug = (function () {\n  return Function.prototype.bind.call(\n    console.debug,\n    console,\n    '%cMAL-Sync-BG',\n    'background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;',\n  );\n})();\n\nexport const m = (name, color = '', blocks: { name: string; style: string }[] = []) => {\n  let fontColor = 'white';\n  if (!color) color = stringToColour(name);\n  if (color[0] === '#') fontColor = getColorByBgColor(color);\n  const style = `background-color: ${color}; color: ${fontColor}; padding: 2px 10px; border-radius: 3px; margin-left: -5px; border-left: 1px solid white;`;\n  blocks.push({\n    name,\n    style,\n  });\n\n  const temp: any = {};\n\n  temp.m = (name2, color2 = '') => {\n    return m(name2, color2, [...blocks]);\n  };\n\n  const moduleText = blocks.reduce((sum, el) => `${sum}%c${el.name}`, '');\n  const moduleStyle = blocks.map(el => el.style);\n\n  temp.log = (function () {\n    return Function.prototype.bind.call(\n      console.log,\n      console,\n      `%cMB ${moduleText}`,\n      'background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;',\n      ...moduleStyle,\n    );\n  })();\n\n  temp.error = (function () {\n    return Function.prototype.bind.call(\n      console.error,\n      console,\n      `%cMB ${moduleText}`,\n      'background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;',\n      ...moduleStyle,\n    );\n  })();\n\n  temp.info = (function () {\n    return Function.prototype.bind.call(\n      console.info,\n      console,\n      `%cMB ${moduleText}`,\n      'background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;',\n      ...moduleStyle,\n    );\n  })();\n\n  temp.debug = (function () {\n    return Function.prototype.bind.call(\n      console.debug,\n      console,\n      `%cMB ${moduleText}`,\n      'background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;',\n      ...moduleStyle,\n    );\n  })();\n\n  return temp;\n};\n\nfunction stringToColour(str) {\n  if (!str) return '#ffffff';\n  str = String(str);\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    hash = str.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  let colour = '#';\n  for (let i = 0; i < 3; i++) {\n    const value = (hash >> (i * 8)) & 0xff;\n    colour += `00${value.toString(16)}`.substr(-2);\n  }\n  return colour;\n}\n\nfunction getColorByBgColor(bgColor) {\n  return parseInt(bgColor.replace('#', ''), 16) > 0xffffff / 2 ? '#000' : '#fff';\n}\n","declare let browser: any;\n\nexport function urlPart(url: string, part: number) {\n  if (!url) return '';\n\n  const urlParts = url.split('/');\n\n  if (!urlParts[part]) return '';\n\n  return urlParts[part].replace(/[#?].*/, '');\n}\n\nexport function urlStrip(url: string) {\n  return url.replace(/[#?].*/, '');\n}\n\nexport function urlParam(url, name) {\n  const results = new RegExp(`[?&]${name}=([^&#]*)`).exec(url);\n  if (results === null) {\n    return null;\n  }\n  return decodeURI(results[1]) || 0;\n}\n\nexport function getBaseText(element) {\n  let text = element.text();\n  element.children().each(function () {\n    // @ts-ignore\n    text = text.replace(j.$(this).text(), '');\n  });\n  return text;\n}\n\n/**\n * Generates a (hex) string ID for randomisation/verification.\n */\nexport function generateUniqueID(arraySize = 10): string {\n  const array = new Uint32Array(arraySize);\n  window.crypto.getRandomValues(array);\n  return Array.from(array, value => value.toString(16)).join('');\n}\n\nexport function favicon(domain) {\n  if (!domain) return '';\n  const res = domain.match(/^(https?:\\/\\/)?[^/]+/);\n\n  if (res) domain = res[0];\n\n  return `https://favicon.malsync.moe/?domain=${domain}`;\n}\n\nexport function watching(type: 'anime' | 'manga') {\n  if (type === 'manga') return 'Reading';\n  return 'Watching';\n}\n\nexport function planTo(type: 'anime' | 'manga') {\n  if (type === 'manga') return 'Plan to Read';\n  return 'Plan to Watch';\n}\n\nexport function episode(type: 'anime' | 'manga') {\n  if (type === 'manga') return api.storage.lang('UI_Chapter');\n  return api.storage.lang('UI_Episode');\n}\n\nexport const syncRegex =\n  /(^settings\\/.*|^updateCheckTime$|^tempVersion$|^local:\\/\\/|^list-tagSettings$)/;\n\nexport const rateLimitExclude = /^https:\\/\\/api.malsync.moe\\/(shark|mal\\/|nc\\/mal\\/.*\\/progress$)/i;\n\n// eslint-disable-next-line no-shadow\nexport enum status {\n  // eslint-disable-next-line no-shadow\n  watching = 1,\n  completed = 2,\n  onhold = 3,\n  dropped = 4,\n  planToWatch = 6,\n}\n\nexport function getselect(data, name) {\n  let temp = data.split(`name=\"${name}\"`)[1].split('</select>')[0];\n  if (temp.indexOf('selected=\"selected\"') > -1) {\n    temp = temp.split('<option');\n    for (let i = 0; i < temp.length; ++i) {\n      if (temp[i].indexOf('selected=\"selected\"') > -1) {\n        return temp[i].split('value=\"')[1].split('\"')[0];\n      }\n    }\n  }\n  return '';\n}\n\nexport function absoluteLink(url, domain) {\n  if (typeof url === 'undefined') {\n    return url;\n  }\n  if (!url.startsWith('http')) {\n    if (url.charAt(0) !== '/') url = `/${url}`;\n    url = domain + url;\n  }\n  return url;\n}\n\nexport function parseHtml(text) {\n  const parser = new DOMParser();\n  const dom = parser.parseFromString(`<!doctype html><body>${text}`, 'text/html');\n  return dom.body.textContent;\n}\n\nexport function urlChangeDetect(callback) {\n  let currentPage = window.location.href;\n  return setInterval(function () {\n    if (currentPage !== window.location.href) {\n      currentPage = window.location.href;\n      callback();\n    }\n  }, 100);\n}\n\nexport function fullUrlChangeDetect(callback, strip = false) {\n  let currentPage = '';\n  const intervalId = setInterval(function () {\n    const url = strip ? urlStrip(window.location.href) : window.location.href;\n    if (currentPage !== url) {\n      currentPage = url;\n      callback();\n    }\n  }, 100);\n\n  return Number(intervalId);\n}\n\nexport function changeDetect(callback, func, immediate = false) {\n  let currentPage = func();\n  const intervalId = setInterval(function () {\n    const temp = func();\n    if (typeof temp !== 'undefined' && currentPage !== temp) {\n      currentPage = func();\n      callback();\n    }\n  }, 500);\n\n  if (immediate) callback();\n\n  return Number(intervalId);\n}\n\nexport function waitUntilTrue(condition: Function, callback: Function, interval = 100) {\n  const intervalId = setInterval(function () {\n    if (condition()) {\n      clearInterval(intervalId);\n      callback();\n    }\n  }, interval);\n\n  return intervalId;\n}\n\nexport function getAsyncWaitUntilTrue(condition: Function, interval = 100) {\n  let intervalId;\n  let rejectThis;\n  const reset = () => {\n    clearTimeout(intervalId);\n    if (rejectThis) rejectThis('AsyncWait stopped');\n  };\n\n  return {\n    asyncWaitUntilTrue: () => {\n      reset();\n      return new Promise<void>((resolve, reject) => {\n        rejectThis = reject;\n        intervalId = waitUntilTrue(condition, () => resolve(), interval);\n      });\n    },\n    reset,\n  };\n}\n\nconst doubleId = Math.random();\nexport function checkDoubleExecution() {\n  if ($('.mal-sync-double-detect').length) {\n    $('.mal-sync-double-detect').each(function (index) {\n      if ($(this).text() !== doubleId.toString()) {\n        alert('Double execution detected! Please run MAL-Sync once only.');\n      }\n    });\n  }\n  $('body').after(\n    j.html(\n      `<div class=\"mal-sync-double-detect\" style=\"display: none;\">${doubleId.toString()}</div>`,\n    ),\n  );\n}\n\nexport function getUrlFromTags(tags: string) {\n  if (/malSync::[\\d\\D]+::/.test(tags)) {\n    return atobURL(tags.split('malSync::')[1].split('::')[0]);\n  }\n  if (/last::[\\d\\D]+::/.test(tags)) {\n    return atobURL(tags.split('last::')[1].split('::')[0]);\n  }\n  return undefined;\n\n  function atobURL(encoded) {\n    try {\n      return atob(encoded);\n    } catch (e) {\n      return encoded;\n    }\n  }\n}\n\nexport function setUrlInTags(url: string, tags: string) {\n  if (url === '') {\n    tags = tags.replace(/,?(malSync|last)::[^ \\n]+?::/, '');\n    return tags;\n  }\n  if (!api.settings.get('malTags')) return tags;\n  const addition = `malSync::${btoa(url)}::`;\n  if (/(last|malSync)::[\\d\\D]+::/.test(tags)) {\n    tags = tags.replace(/(last|malSync)::[^^]*?::/, addition);\n  } else {\n    tags = `${tags},${addition}`;\n  }\n  return tags;\n}\n\nexport async function setResumeWaching(url: string, ep: number, type, id) {\n  return api.storage.set(`resume/${type}/${id}`, { url, ep });\n}\n\nexport async function getResumeWaching(type, id): Promise<{ url?: string; ep?: number } | void> {\n  if (!api.settings.get('malResume')) return;\n\n  /* eslint-disable-next-line consistent-return */\n  return api.storage.get(`resume/${type}/${id}`);\n}\n\nexport async function setContinueWaching(url: string, ep: number, type, id) {\n  return api.storage.set(`continue/${type}/${id}`, { url, ep });\n}\n\nexport async function getContinueWaching(type, id): Promise<{ url?: string; ep?: number } | void> {\n  if (!api.settings.get('malContinue')) return;\n\n  /* eslint-disable-next-line consistent-return */\n  return api.storage.get(`continue/${type}/${id}`);\n}\n\nexport async function setEntrySettings(type, id, options, tags = '') {\n  const tempOptions = {};\n  if (options) {\n    for (const key in options) {\n      switch (key) {\n        case 'u':\n        case 'p':\n          tempOptions[key] = options[key];\n          break;\n        default:\n      }\n    }\n\n    if (api.settings.get('malTags')) {\n      // TAG mode\n      tags = setUrlInTags(JSON.stringify(tempOptions), tags);\n    } else {\n      // No TAG mode\n      await api.storage.set(`tagSettings/${type}/${id}`, JSON.stringify(tempOptions));\n    }\n  }\n\n  if (!Object.values(tempOptions).find(el => Boolean(el))) {\n    tags = setUrlInTags('', tags);\n    if (!api.settings.get('malTags')) {\n      await api.storage.remove(`tagSettings/${type}/${id}`);\n    }\n  }\n\n  return tags;\n}\n\nexport async function getEntrySettings(type, id, tags = '') {\n  const tempOptions: any = {\n    u: null, // url\n    c: null, // Continue Url\n    r: null, // Resume Url\n    p: '', // Progress Mode\n  };\n\n  if (api.settings.get('malTags')) {\n    // TAG mode\n    const tagString = getUrlFromTags(tags);\n    if (tagString) {\n      if (tagString[0] === '{') {\n        try {\n          const temp = JSON.parse(tagString);\n          for (const key in tempOptions) {\n            if (temp[key]) tempOptions[key] = temp[key];\n          }\n        } catch (e) {\n          con.error(e);\n        }\n      } else {\n        tempOptions.u = tagString;\n      }\n    }\n  } else {\n    // No TAG mode\n    let temp: any = await api.storage.get(`tagSettings/${type}/${id}`);\n\n    if (temp) {\n      temp = JSON.parse(temp);\n\n      for (const key in tempOptions) {\n        if (temp[key]) tempOptions[key] = temp[key];\n      }\n    }\n  }\n\n  const continueUrlObj = await getContinueWaching(type, id);\n  if (continueUrlObj) tempOptions.c = continueUrlObj;\n  const resumeUrlObj = await getResumeWaching(type, id);\n  if (resumeUrlObj) tempOptions.r = resumeUrlObj;\n\n  if (!api.settings.get('usedPage')) tempOptions.u = null;\n\n  return tempOptions;\n}\n\nexport function handleMalImages(url) {\n  if (url.indexOf('questionmark') !== -1) return api.storage.assetUrl('questionmark.gif');\n  return url;\n}\n\nexport function getTooltip(text, style = '', direction = 'top') {\n  const rNumber = Math.floor(Math.random() * 1000 + 1);\n  return `<div id=\"tt${rNumber}\" class=\"icon material-icons\" style=\"font-size:16px; line-height: 0; color: #7f7f7f; padding-bottom: 20px; padding-left: 3px; ${style}\">contact_support</div>\\\n  <div class=\"mdl-tooltip mdl-tooltip--${direction} mdl-tooltip--large\" for=\"tt${rNumber}\">${text}</div>`;\n}\n\nexport function timeDiffToText(delta) {\n  let text = '';\n\n  delta /= 1000;\n\n  const diffYears = Math.floor(delta / 31536000);\n  delta -= diffYears * 31536000;\n  if (diffYears) {\n    text += `${diffYears}y `;\n  }\n\n  const diffDays = Math.floor(delta / 86400);\n  delta -= diffDays * 86400;\n  if (diffDays) {\n    text += `${diffDays}d `;\n  }\n\n  const diffHours = Math.floor(delta / 3600) % 24;\n  delta -= diffHours * 3600;\n  if (diffHours && diffDays < 2) {\n    text += `${diffHours}h `;\n  }\n\n  const diffMinutes = Math.floor(delta / 60) % 60;\n  delta -= diffMinutes * 60;\n  if (diffMinutes && !diffDays && diffHours < 3) {\n    text += `${diffMinutes}min `;\n  }\n\n  return text;\n}\n\nexport function canHideTabs() {\n  if (typeof browser !== 'undefined' && typeof browser.tabs.hide !== 'undefined') {\n    return true;\n  }\n  return false;\n}\n\n// eslint-disable-next-line no-shadow\nexport function statusTag(status, type, id) {\n  const info = {\n    anime: {\n      1: {\n        class: 'watching',\n        text: 'CW',\n        title: api.storage.lang(`UI_Status_watching_${type}`),\n      },\n      2: {\n        class: 'completed',\n        text: 'CMPL',\n        title: api.storage.lang('UI_Status_Completed'),\n      },\n      3: {\n        class: 'on-hold',\n        text: 'HOLD',\n        title: api.storage.lang('UI_Status_OnHold'),\n      },\n      4: {\n        class: 'dropped',\n        text: 'DROP',\n        title: api.storage.lang('UI_Status_Dropped'),\n      },\n      6: {\n        class: 'plantowatch',\n        text: 'PTW',\n        title: api.storage.lang(`UI_Status_planTo_${type}`),\n      },\n      23: {\n        class: 'rewatching',\n        text: 'RE',\n        title: api.storage.lang(`UI_Status_Rewatching_${type}`),\n      },\n    },\n    manga: {\n      1: {\n        class: 'reading',\n        text: 'CR',\n        title: api.storage.lang(`UI_Status_watching_${type}`),\n      },\n      2: {\n        class: 'completed',\n        text: 'CMPL',\n        title: api.storage.lang('UI_Status_Completed'),\n      },\n      3: {\n        class: 'on-hold',\n        text: 'HOLD',\n        title: api.storage.lang('UI_Status_OnHold'),\n      },\n      4: {\n        class: 'dropped',\n        text: 'DROP',\n        title: api.storage.lang('UI_Status_Dropped'),\n      },\n      6: {\n        class: 'plantoread',\n        text: 'PTR',\n        title: api.storage.lang(`UI_Status_planTo_${type}`),\n      },\n      23: {\n        class: 'rewatching',\n        text: 'RE',\n        title: api.storage.lang(`UI_Status_Rewatching_${type}`),\n      },\n    },\n  };\n\n  $.each([1, 2, 3, 4, 6, 23], function (i, el) {\n    info.anime[info.anime[el].title] = info.anime[el];\n    info.manga[info.manga[el].title] = info.manga[el];\n  });\n\n  if (status && info[type][status]) {\n    const tempInfo = info[type][status];\n    return ` <a href=\"https://myanimelist.net/ownlist/${type}/${id}/edit?hideLayout=1\" title=\"${tempInfo.title}\" class=\"Lightbox_AddEdit button_edit ${tempInfo.class}\">${tempInfo.text}</a>`;\n  }\n  return false;\n}\n\nexport function getStatusText(type: 'anime' | 'manga', state) {\n  switch (state) {\n    case 1:\n      return api.storage.lang(`UI_Status_watching_${type}`);\n    case 2:\n      return api.storage.lang('UI_Status_Completed');\n    case 3:\n      return api.storage.lang('UI_Status_OnHold');\n    case 4:\n      return api.storage.lang('UI_Status_Dropped');\n    case 6:\n      return api.storage.lang(`UI_Status_planTo_${type}`);\n    case 7:\n      return api.storage.lang(`UI_Status_All`);\n    case 23:\n      return api.storage.lang(`UI_Status_Rewatching_${type}`);\n    default:\n      return '';\n  }\n}\n\n// eslint-disable-next-line consistent-return\nexport function notifications(url: string, title: string, message: string, iconUrl = '') {\n  const messageObj: chrome.notifications.NotificationOptions<true> = {\n    type: 'basic',\n    title,\n    message,\n    iconUrl,\n  };\n\n  con.log('Notification', url, messageObj);\n\n  api.storage.get('notificationHistory').then(history => {\n    if (history === undefined) {\n      history = [];\n    }\n\n    if (typeof history !== 'object') return;\n\n    if (history.length >= 10) {\n      history.shift();\n    }\n    history.push({\n      url,\n      title: messageObj.title,\n      message: messageObj.message,\n      iconUrl: messageObj.iconUrl,\n      timestamp: Date.now(),\n    });\n    api.storage.set('notificationHistory', history);\n  });\n\n  try {\n    return chrome.notifications.create(url, messageObj);\n  } catch (e) {\n    con.error(e);\n  }\n}\n\nexport async function timeCache(key, dataFunction, ttl) {\n  const value = await api.storage.get(key);\n  if (typeof value === 'object' && new Date().getTime() < value.timestamp) {\n    return value.data;\n  }\n  const result = await dataFunction();\n  return api.storage.set(key, { data: result, timestamp: new Date().getTime() + ttl }).then(() => {\n    return result;\n  });\n}\n\n// flashm\nexport function flashm(\n  text,\n  options?: {\n    error?: boolean;\n    type?: string;\n    permanent?: boolean;\n    hoverInfo?: boolean;\n    position?: 'top' | 'bottom';\n    minimized?: boolean;\n  },\n) {\n  if (!j.$('#flash-div-top').length) {\n    initflashm();\n  }\n  con.log('[Flash] Message:', text);\n\n  let colorF = '#323232';\n  if (typeof options !== 'undefined' && typeof options.error !== 'undefined' && options.error) {\n    colorF = '#3e0808';\n  }\n\n  let flashdiv = '#flash-div-bottom';\n  if (\n    typeof options !== 'undefined' &&\n    typeof options.position !== 'undefined' &&\n    options.position\n  ) {\n    flashdiv = `#flash-div-${options.position}`;\n  }\n\n  let messClass = 'flash';\n  if (typeof options !== 'undefined' && typeof options.type !== 'undefined' && options.type) {\n    const tempClass = `type-${options.type}`;\n    j.$(`${flashdiv} .${tempClass}, #flashinfo-div .${tempClass}`)\n      .removeClass(tempClass)\n      .fadeOut({\n        duration: 1000,\n        queue: false,\n        complete() {\n          j.$(this).remove();\n        },\n      });\n\n    messClass += ` ${tempClass}`;\n  }\n\n  let mess = `<div class=\"${messClass}\" style=\"display:none;\">\\\n        <div style=\"display:table; pointer-events: all; padding: 14px 24px 14px 24px; margin: 0 auto; margin-top: 5px; max-width: 60%; -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 2px;color: white;background:${colorF}; \">\\\n          ${text}\\\n        </div>\\\n      </div>`;\n\n  let flashmEl;\n\n  if (\n    typeof options !== 'undefined' &&\n    typeof options.hoverInfo !== 'undefined' &&\n    options.hoverInfo\n  ) {\n    messClass += ' flashinfo';\n    mess = `<div class=\"${messClass}\" style=\"display:none; max-height: 5000px; overflow: hidden;\"><div style=\"display:table; pointer-events: all; margin: 0 auto; margin-top: -2px; max-width: 60%; -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 2px;color: white;background:${colorF}; position: relative;\"><div style=\"max-height: 60vh; overflow-y: auto; padding: 14px 24px 14px 24px;\">${text}</div></div></div>`;\n    j.$('#flashinfo-div').addClass('hover');\n    // eslint-disable-next-line jquery-unsafe-malsync/no-xss-jquery\n    flashmEl = j.$(j.html(mess)).appendTo('#flashinfo-div');\n    if (\n      typeof options !== 'undefined' &&\n      typeof options.minimized !== 'undefined' &&\n      options.minimized\n    )\n      flashmEl.css('max-height', '8px');\n  } else {\n    // eslint-disable-next-line jquery-unsafe-malsync/no-xss-jquery\n    flashmEl = j.$(j.html(mess)).appendTo(flashdiv);\n  }\n\n  if (\n    typeof options !== 'undefined' &&\n    typeof options.permanent !== 'undefined' &&\n    options.permanent\n  ) {\n    flashmEl.slideDown(800);\n  } else if (\n    typeof options !== 'undefined' &&\n    typeof options.hoverInfo !== 'undefined' &&\n    options.hoverInfo\n  ) {\n    flashmEl\n      .slideDown(800)\n      .delay(4000)\n      .queue(function () {\n        j.$('#flashinfo-div').removeClass('hover');\n        flashmEl.css('max-height', '8px');\n      });\n  } else {\n    flashmEl\n      .slideDown(800)\n      .delay(4000)\n      .slideUp(800, () => {\n        // @ts-ignore\n        j.$(this).remove();\n      });\n  }\n  return flashmEl;\n}\n\nexport async function flashConfirm(\n  message,\n  type,\n  yesCall = () => {\n    /* Placeholder */\n  },\n  cancelCall = () => {\n    /* Placeholder */\n  },\n  yesNo = false,\n): Promise<boolean> {\n  return new Promise(function (resolve, reject) {\n    let yesText = api.storage.lang('Ok');\n    let noText = api.storage.lang('Cancel');\n    if (yesNo) {\n      yesText = api.storage.lang('Yes');\n      noText = api.storage.lang('No');\n    }\n    message = `<div style=\"text-align: center;\">${message}</div><div style=\"display: flex; justify-content: space-around;\"><button class=\"Yes\" style=\"background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px; cursor:pointer;\">${yesText}</button><button class=\"Cancel\" style=\"background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px; cursor:pointer;\">${noText}</button></div>`;\n    const flasmessage = flashm(message, {\n      permanent: true,\n      position: 'top',\n      type,\n    });\n    flasmessage.find('.Yes').click(function (evt) {\n      resolve(true);\n      j.$(evt.target)\n        .parentsUntil('.flash')\n        .fadeOut(300, function () {\n          // @ts-ignore\n          j.$(this).remove();\n        });\n      yesCall();\n    });\n    flasmessage.find('.Cancel').click(function (evt) {\n      resolve(false);\n      j.$(evt.target)\n        .parentsUntil('.flash')\n        .fadeOut(300, function () {\n          // @ts-ignore\n          j.$(this).remove();\n        });\n      cancelCall();\n    });\n  });\n}\n\nfunction initflashm() {\n  api.storage.addStyle(\n    `.flashinfo{\n                    transition: max-height 2s, opacity 2s 2s;\n                 }\n                 .mini-stealth .flashinfo{\n                    opacity: 0;\n                 }\n                  #flashinfo-div.hover.mini-stealth .flashinfo.type-update{\n                    opacity: 0.7;\n                 }\n                 #flashinfo-div.hover .flashinfo{\n                    opacity: 1;\n                 }\n                 .flashinfo:hover{\n                    max-height:5000px !important;\n                    z-index: 2147483647;\n                    opacity: 1;\n                    transition: max-height 2s;\n                 }\n                 .flashinfo .synopsis{\n                    transition: max-height 2s, max-width 2s ease 2s;\n                 }\n                 .flashinfo:hover .synopsis{\n                    max-height:9999px !important;\n                    max-width: 500px !important;\n                    transition: max-height 2s;\n                 }\n                 #flashinfo-div{\n                  z-index: 2;\n                  transition: 2s;\n                 }\n                 #flashinfo-div:hover, #flashinfo-div.hover{\n                  z-index: 2147483647;\n                 }\n                 #flashinfo-div.player-error {\n                   z-index: 2147483647;\n                 }\n                 #flashinfo-div.player-error .type-update{\n                  overflow: visible !important;\n                  opacity: 1 !important;\n                 }\n                 #flashinfo-div.player-error .player-error{\n                  display: block !important\n                 }\n                 #flashinfo-div.player-error-missing-permissions .player-error-missing-permissions{\n                  display: block !important\n                 }\n                 #flashinfo-div.player-error-missing-permissions .player-error-default{\n                  display: none !important\n                 }\n\n                 #flash-div-top, #flash-div-bottom, #flashinfo-div{\n                    font-family: \"Helvetica\",\"Arial\",sans-serif;\n                    color: white;\n                    font-size: 14px;\n                    font-weight: 400;\n                    line-height: 17px;\n                 }\n                 #flash-div-top h2, #flash-div-bottom h2, #flashinfo-div h2{\n                    font-family: \"Helvetica\",\"Arial\",sans-serif;\n                    color: white;\n                    font-size: 14px;\n                    font-weight: 700;\n                    line-height: 17px;\n                    padding: 0;\n                    margin: 0;\n                 }\n                 #flash-div-top a, #flash-div-bottom a, #flashinfo-div a{\n                    color: #DF6300;\n                 }`,\n  );\n\n  let extraClass = '';\n  if (api.settings.get('floatButtonStealth')) extraClass = 'mini-stealth';\n\n  j.$('body').after(\n    j.html(\n      `<div id=\"flash-div-top\" style=\"text-align: center;pointer-events: none;position: fixed;top:-5px;width:100%;z-index: 2147483647;left: 0;\"></div>\\\n        <div id=\"flash-div-bottom\" style=\"text-align: center;pointer-events: none;position: fixed;bottom:0px;width:100%;z-index: 2147483647;left: 0;\"><div id=\"flash\" style=\"display:none;  background-color: red;padding: 20px; margin: 0 auto;max-width: 60%;          -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 20px;background:rgba(227,0,0,0.6);\"></div></div>\\\n        <div id=\"flashinfo-div\" class=\"${extraClass}\" style=\"text-align: center;pointer-events: none;position: fixed;bottom:0px;width:100%;left: 0;\">`,\n    ),\n  );\n}\n\nlet lazyloaded = false;\nlet lazyimages: any[] = [];\n\nexport function lazyload(doc, scrollElement = '.mdl-layout__content') {\n  /* lazyload.js (c) Lorenzo Giuliani\n   * MIT License (http://www.opensource.org/licenses/mit-license.html)\n   *\n   * expects a list of:\n   * `<img src=\"blank.gif\" data-src=\"my_image.png\" width=\"600\" height=\"400\" class=\"lazy\">`\n   */\n  // eslint-disable-next-line\n  function loadImage(el, fn) {\n    if (!j.$(el).is(':visible')) return false;\n    if (j.$(el).hasClass('lazyBack')) {\n      j.$(el)\n        .css('background-image', `url(${el.getAttribute('data-src')})`)\n        .removeClass('lazyBack');\n    } else {\n      const img = new Image();\n      const src = el.getAttribute('data-src');\n      img.onload = function () {\n        if (el.parent) el.parent.replaceChild(img, el);\n        else el.src = src;\n        // eslint-disable-next-line\n        fn ? fn() : null;\n      };\n      img.src = src;\n    }\n  }\n\n  for (let i = 0; i < lazyimages.length; i++) {\n    $(lazyimages[i]).addClass('init');\n  }\n\n  lazyimages = [];\n  const query = doc.find('img.lazy.init, .lazyBack.init');\n  const processScroll = function () {\n    for (let i = 0; i < lazyimages.length; i++) {\n      if (utils.elementInViewport(lazyimages[i], 600)) {\n        // eslint-disable-next-line\n        loadImage(lazyimages[i], function() {\n          lazyimages.splice(i, i);\n        });\n      }\n      if (!$(lazyimages[i]).length) {\n        lazyimages.splice(i, i);\n      }\n    }\n  };\n  // Array.prototype.slice.call is not callable under our lovely IE8\n  for (let i = 0; i < query.length; i++) {\n    lazyimages.push(query[i]);\n    $(query[i]).removeClass('init');\n  }\n\n  processScroll();\n\n  if (!lazyloaded) {\n    lazyloaded = true;\n    doc.find(scrollElement).scroll(function () {\n      processScroll();\n    });\n  }\n}\n\nexport function elementInViewport(el, horizontalOffset = 0) {\n  const rect = el.getBoundingClientRect();\n\n  return (\n    rect.top >= 0 &&\n    rect.left >= 0 &&\n    // @ts-ignore\n    rect.top - horizontalOffset <= (window.innerHeight || document.documentElement.clientHeight)\n  );\n}\n\nexport function wait(ms: number) {\n  return new Promise(resolve => {\n    setTimeout(resolve, ms);\n  });\n}\n\nexport function pageUrl(\n  page: 'mal' | 'anilist' | 'kitsu' | 'simkl',\n  type: 'anime' | 'manga',\n  id: string | number,\n) {\n  switch (page) {\n    case 'mal':\n      return `https://myanimelist.net/${type}/${id}`;\n    case 'anilist':\n      return `https://anilist.co/${type}/${id}`;\n    case 'kitsu':\n      return `https://kitsu.io/${type}/${id}`;\n    case 'simkl':\n      return `https://simkl.com/${type}/${id}`;\n    default:\n      throw `${page} not a valid page`;\n  }\n}\n\nexport function returnYYYYMMDD(numFromToday = 0) {\n  const d = new Date();\n  d.setDate(d.getDate() + numFromToday);\n  const month = d.getMonth() < 9 ? `0${d.getMonth() + 1}` : d.getMonth() + 1;\n  const day = d.getDate() < 10 ? `0${d.getDate()}` : d.getDate();\n  return `${d.getFullYear()}-${month}-${day}`;\n}\n\nexport function htmlDecode(text) {\n  return $('<textarea/>').html(j.html(text)).text();\n}\n\nexport function isFirefox(): boolean {\n  return Boolean(typeof browser !== 'undefined' && typeof chrome !== 'undefined');\n}\n\nexport function waitForPageToBeVisible() {\n  const condition = () =>\n    Boolean(!document.visibilityState || document.visibilityState === 'visible');\n\n  if (condition()) return Promise.resolve();\n\n  con.log('Page in background');\n\n  const { asyncWaitUntilTrue: awaitUi } = getAsyncWaitUntilTrue(() => condition());\n\n  return awaitUi().then(() => {\n    con.log('Page is visible');\n  });\n}\n\nexport function makeDomainCompatible(domain: string) {\n  // Add '/' to end of origin if it doesn't exist\n  if (domain.split('/').length < 4) {\n    domain += '/';\n  }\n\n  // Remove all after ?\n  domain = domain.replace(/\\?.*/, '?');\n  return domain;\n}\n\nexport async function clearCache() {\n  const cacheArray = await api.storage.list();\n  let deleted = 0;\n\n  j.$.each(cacheArray, function (index, cache) {\n    if (!utils.syncRegex.test(String(index)) && !/(^tagSettings\\/.*)/.test(String(index))) {\n      api.storage.remove(String(index));\n      deleted++;\n    }\n  });\n\n  utils.flashm(`Cache Cleared [${deleted}]`);\n}\n\nexport function sortAlphabetically(a, b) {\n  if (a.toLowerCase() < b.toLowerCase()) return -1;\n  if (a.toLowerCase() > b.toLowerCase()) return 1;\n  return 0;\n}\n\nexport function isDomainMatching(url, domain) {\n  const urlObj = new URL(url);\n  const { host } = urlObj;\n  return host === domain || host.endsWith(`.${domain}`);\n}\n\nexport function upperCaseFirstLetter(string) {\n  if (!string || string.length < 2) return string;\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n","import * as DOMPurify from 'dompurify';\n\nexport const $ = jQuery;\n\nexport function html(htmlContent) {\n  return DOMPurify.sanitize(htmlContent, {\n    SAFE_FOR_JQUERY: true,\n    ALLOW_UNKNOWN_PROTOCOLS: true,\n    ADD_ATTR: ['target'],\n  });\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* eslint-disable no-shadow */\n/* export enum type {\n  Anime = \"anime\",\n  Manga = \"manga\"\n} */\n\nimport { Component } from 'vue';\n\nexport type contentType = 'anime' | 'manga';\n\nexport enum status {\n  NoState = 0,\n  Watching = 1,\n  Completed = 2,\n  Onhold = 3,\n  Dropped = 4,\n  PlanToWatch = 6,\n  All = 7,\n  Rewatching = 23,\n}\n\nexport enum score {\n  NoScore = 0,\n  R1 = 1,\n  R2 = 2,\n  R3 = 3,\n  R4 = 4,\n  R5 = 5,\n  R6 = 6,\n  R7 = 7,\n  R8 = 8,\n  R9 = 9,\n  R10 = 10,\n}\n\n// score range 0 - 100\nexport type score100 = number;\n\nexport type searchResult = {\n  id: number;\n  name: string;\n  altNames: string[];\n  url: string;\n  malUrl: () => Promise<string | null>;\n  image: string;\n  imageLarge: string;\n  imageBanner?: string;\n  media_type: string;\n  isNovel: boolean;\n  score: string;\n  year: string;\n  totalEp?: number;\n  list?: {\n    status: status;\n    score: score;\n    episode: number;\n  };\n};\n\nexport type searchInterface = (\n  keyword: string,\n  type: 'anime' | 'manga',\n  options?: {},\n  sync?: boolean,\n) => Promise<searchResult[]>;\n\nexport interface ConfObj {\n  key: string;\n  title: string | (() => string);\n  system?: 'userscript' | 'webextension';\n  component: Component;\n  condition?: () => boolean;\n  change?: () => void;\n  props?: { [key: string]: any };\n  children?: ConfObj[];\n}\n","let store: Pick<Storage, 'getItem' | 'setItem' | 'clear' | 'removeItem'>;\n\nif (checkLocalStorageIsAvailable()) {\n  store = localStorage;\n} else {\n  let storage = {};\n  store = {\n    getItem(key) {\n      return key in storage ? storage[key] : null;\n    },\n    setItem(key, value) {\n      storage[key] = value;\n    },\n    removeItem(key) {\n      if (key in storage) delete storage[key];\n    },\n    clear() {\n      storage = {};\n    },\n  };\n}\n\nexport const localStore = store;\n\nfunction checkLocalStorageIsAvailable() {\n  try {\n    localStorage.getItem('x');\n    return true;\n  } catch (e) {\n    con.info('Local storage is not available', e);\n    return false;\n  }\n}\n","import { localStore } from './localStore';\n\nexport class Cache {\n  constructor(\n    protected key: string,\n    protected ttl: number,\n    protected localStorage: boolean = true,\n    protected refetchTtl: number = 0,\n  ) {\n    return this;\n  }\n\n  protected containsValue(value) {\n    return typeof value !== 'undefined' && value !== null;\n  }\n\n  protected valueValid(value, ttl) {\n    if (!value || !value.timestamp) return false;\n    return new Date().getTime() < value.timestamp + ttl;\n  }\n\n  protected ttlValid(value) {\n    return this.valueValid(value, this.ttl);\n  }\n\n  protected refetchTtlValid(value) {\n    return this.valueValid(value, this.refetchTtl);\n  }\n\n  async hasValue() {\n    const value = await this.getStorage();\n    if (this.containsValue(value) && this.ttlValid(value)) {\n      return true;\n    }\n    return false;\n  }\n\n  async hasValueAndIsNotEmpty() {\n    const value = await this.getStorage();\n    if (\n      this.containsValue(value) &&\n      typeof value.data !== 'undefined' &&\n      value.data !== null &&\n      Object.keys(value.data).length &&\n      this.ttlValid(value)\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  async fullState() {\n    const value = await this.getStorage();\n    const hasValue = this.containsValue(value) && this.refetchTtlValid(value);\n    const isValid = this.ttlValid(value);\n    return {\n      value,\n      hasValue,\n      isValid,\n      refetch: hasValue && !isValid,\n    };\n  }\n\n  async getValue() {\n    const value = await this.getStorage();\n    return value.data;\n  }\n\n  async setValue(result) {\n    const save = { data: result, timestamp: new Date().getTime() };\n    if (this.localStorage) {\n      return localStore.setItem(this.key, JSON.stringify(save));\n    }\n    return api.storage.set(this.key, save);\n  }\n\n  async clearValue() {\n    if (this.localStorage) {\n      return localStore.removeItem(this.key);\n    }\n    return api.storage.remove(this.key);\n  }\n\n  protected async getStorage() {\n    if (this.localStorage) {\n      return JSON.parse(localStore.getItem(this.key)!);\n    }\n    return api.storage.get(this.key);\n  }\n}\n","export type SyncTypes = 'MAL' | 'ANILIST' | 'KITSU' | 'SIMKL' | 'SHIKI' | 'MALAPI';\n\nexport function getSyncMode(type = '') {\n  const mode = api.settings.get('syncMode');\n  //\n  if (mode === 'SIMKL' && (type === 'manga' || type.indexOf('/manga/') !== -1)) {\n    return api.settings.get('syncModeSimkl');\n  }\n  //\n  return mode;\n}\n","import { EventEmitter2 } from 'eventemitter2';\n\nconst scriptId = Math.floor(Math.random() * 1000000000);\n\nexport const emitter = new EventEmitter2({\n  wildcard: true,\n});\n\nexport function globalEmit(eventName: string, ...params) {\n  con\n    .m('Global')\n    .m('Emit')\n    .debug(eventName, ...params);\n\n  emitter.emit(`${eventName}`, ...params);\n\n  if (typeof api !== 'undefined' && api && api.type === 'webextension') {\n    chrome.runtime.sendMessage({\n      name: 'emitter',\n      item: { event: eventName, params, id: scriptId },\n    });\n  }\n}\n\nif (typeof api !== 'undefined' && api && api.type === 'webextension') {\n  chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n    if (message.name && message.name === 'emitter') {\n      con.m('Global').m('Event').debug(message.item.id, message.item.event, message.item.params);\n\n      if (message.item.id !== scriptId) {\n        emitter.emit(message.item.event, ...message.item.params);\n      }\n    }\n  });\n}\n","/* eslint-disable max-classes-per-file */\nexport class NotAutenticatedError extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = 'NotAutenticatedError';\n  }\n}\n\nexport class UrlNotSupportedError extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = 'UrlNotSupportedError';\n  }\n}\n\nexport class ServerOfflineError extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = 'ServerOfflineError';\n  }\n}\n\nexport class NotFoundError extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = 'NotFoundError';\n  }\n}\n\nexport class UnexpectedResponseError extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = 'UnexpectedResponseError';\n  }\n}\n\nexport function parseJson(json) {\n  try {\n    return JSON.parse(json);\n  } catch (e) {\n    throw new UnexpectedResponseError(e.message);\n  }\n}\n\nexport function errorMessage(error, authenticationUrl: string) {\n  if (error instanceof NotAutenticatedError) {\n    return api.storage.lang('Error_Authenticate', [authenticationUrl]);\n  }\n  if (error instanceof ServerOfflineError) {\n    return `Server Offline`;\n  }\n  if (error instanceof UrlNotSupportedError) {\n    return `Incorrect url provided [${error.message}]`;\n  }\n  if (error instanceof NotFoundError) {\n    return `Could not find this entry`;\n  }\n  return error.message;\n}\n","import { Cache } from '../utils/Cache';\nimport { Progress } from '../utils/progress';\nimport { emitter } from '../utils/emitter';\nimport { errorMessage as _errorMessage } from './Errors';\n\nObject.seal(emitter);\n\nexport interface listElement {\n  uid: number;\n  malId: number;\n  apiCacheKey: number | string;\n  cacheKey: any;\n  type: 'anime' | 'manga';\n  title: string;\n  url: string;\n  watchedEp: number;\n  totalEp: number;\n  status: number;\n  score: number;\n  image: string;\n  imageLarge: string;\n  imageBanner?: string;\n  tags: string;\n  airingState: number;\n  fn: {\n    continueUrl: () => string;\n    initProgress: () => void;\n    progress: false | Progress;\n  };\n  options?: {\n    u: string;\n    r: any;\n    c: any;\n    p: any;\n  };\n}\n\nexport abstract class ListAbstract {\n  protected done = false;\n\n  protected loading = false;\n\n  protected firstLoaded = false;\n\n  protected abstract authenticationUrl: string;\n\n  abstract readonly name;\n\n  protected logger;\n\n  public seperateRewatching = false;\n\n  // Modes\n  modes = {\n    frontend: false,\n    sortAiring: false,\n    initProgress: false,\n    cached: false,\n  };\n\n  protected username = '';\n\n  protected offset = 0;\n\n  protected templist: listElement[] = [];\n\n  constructor(\n    protected status: number = 1,\n    protected listType: 'anime' | 'manga' = 'anime',\n    protected sort: string = 'default',\n  ) {\n    this.status = Number(this.status);\n    this.logger = con.m('[S]', '#348fff');\n    return this;\n  }\n\n  public api = api;\n\n  public setTemplist(list) {\n    this.templist = list;\n    return this;\n  }\n\n  public getTemplist() {\n    return this.templist;\n  }\n\n  public setSort(sort) {\n    if (this.firstLoaded || this.loading) throw 'To late to change sort';\n    this.sort = sort;\n  }\n\n  isDone() {\n    return this.done;\n  }\n\n  isLoading() {\n    return this.loading;\n  }\n\n  isFirstLoaded() {\n    return this.firstLoaded;\n  }\n\n  async getCompleteList(): Promise<listElement[]> {\n    do {\n      // eslint-disable-next-line no-await-in-loop\n      await this.getNext();\n    } while (!this.done);\n\n    if (this.modes.sortAiring) await this.sortAiringList();\n\n    if (this.modes.cached) this.getCache().setValue(this.templist.slice(0, 18));\n\n    this.firstLoaded = true;\n\n    return this.templist;\n  }\n\n  async getNextPage(): Promise<listElement[]> {\n    if (this.done) return this.templist;\n\n    if (\n      this.modes.frontend &&\n      this.status === 1 &&\n      (this.sort === 'default' || this.sort === 'unread')\n    ) {\n      this.modes.sortAiring = true;\n      return this.getCompleteList();\n    }\n\n    await this.getNext();\n\n    if (this.modes.cached) this.getCache().setValue(this.templist.slice(0, 24));\n\n    this.firstLoaded = true;\n\n    return this.templist;\n  }\n\n  private async getNext() {\n    this.loading = true;\n    const retList = await this.getPart();\n    this.templist = this.templist.concat(retList);\n    this.loading = false;\n  }\n\n  async getCached(): Promise<listElement[]> {\n    if (await this.getCache().hasValue()) {\n      const cachelist = await this.getCache().getValue();\n      cachelist.forEach(item => {\n        item = this.fn(item);\n        item.watchedEp = '';\n        item.score = '';\n      });\n      return cachelist;\n    }\n    return [];\n  }\n\n  protected updateListener;\n\n  public initFrontendMode() {\n    this.modes.frontend = true;\n    this.updateListener = emitter.on(\n      'update.*',\n      data => {\n        con.log('update', data);\n        if (data.cacheKey) {\n          const item = this.templist.find(el => el.cacheKey === data.cacheKey);\n          con.log(item);\n          if (item && data.state) {\n            item.watchedEp = data.state.episode;\n            item.score = data.state.score;\n            item.status = data.state.status;\n          }\n        }\n      },\n      { objectify: true },\n    );\n  }\n\n  public destroy() {\n    if (this.updateListener) {\n      this.updateListener.off();\n    }\n  }\n\n  public getUsername() {\n    return this.getUserObject().then(user => user.username);\n  }\n\n  abstract getUserObject(): Promise<{ username: string; picture: string; href: string }>;\n\n  abstract _getSortingOptions(): { icon: string; title: string; value: string; asc?: boolean }[];\n\n  getSortingOptions(\n    simple = false,\n  ): { icon: string; title: string; value: string; asc?: boolean }[] {\n    const res = [\n      {\n        icon: 'filter_list',\n        title: api.storage.lang('settings_progress_default'),\n        value: 'default',\n      },\n    ];\n\n    if (this.status === 1 && this.listType === 'manga') {\n      res.push({\n        icon: 'adjust',\n        title: api.storage.lang('list_sorting_unread'),\n        value: 'unread',\n      });\n    }\n\n    const options = this._getSortingOptions();\n    options.forEach(el => {\n      if (!simple) {\n        if (el.asc) {\n          const asc = { ...el };\n          delete asc.asc;\n          asc.value += '_asc';\n          asc.title += ' Ascending';\n          res.push(asc);\n        }\n        delete el.asc;\n      }\n      res.push(el);\n    });\n    return res;\n  }\n\n  abstract getPart(): Promise<listElement[]>;\n\n  flashmError(error) {\n    utils.flashm(this.errorMessage(error), { error: true, type: 'error' });\n  }\n\n  errorMessage(error) {\n    return _errorMessage(error, this.authenticationUrl);\n  }\n\n  // itemFunctions;\n  async fn(item, streamurl = '') {\n    let continueUrlTemp: any = null;\n    item.fn = {\n      continueUrl: () => {\n        if (continueUrlTemp !== null) return continueUrlTemp;\n        return utils.getContinueWaching(item.type, item.cacheKey).then(obj => {\n          const curEp = parseInt(item.watchedEp.toString());\n\n          if (obj === undefined || obj.ep !== curEp + 1) return '';\n\n          continueUrlTemp = obj.url;\n\n          return continueUrlTemp;\n        });\n      },\n      initProgress: () => {\n        return new Progress(item.cacheKey, item.type).init().then(progress => {\n          item.fn.progress = progress;\n        });\n      },\n      progress: false,\n    };\n    item.options = await utils.getEntrySettings(item.type, item.cacheKey, item.tags);\n    if (streamurl) item.options.u = streamurl;\n    if (this.modes.sortAiring || this.modes.initProgress) await item.fn.initProgress();\n\n    return item;\n  }\n\n  // Modes\n  async initProgress() {\n    const listP: any = [];\n    this.templist.forEach(item => {\n      listP.push(item.fn.initProgress());\n    });\n\n    await Promise.all(listP);\n  }\n\n  async sortAiringList() {\n    if (this.sort === 'unread') {\n      this.sortUnread();\n      return;\n    }\n\n    const normalItems: listElement[] = [];\n    let preItems: listElement[] = [];\n    let watchedItems: listElement[] = [];\n    this.templist.forEach(item => {\n      const prediction = item.fn.progress;\n      if (this.listType === 'anime') {\n        if (prediction && prediction.isAiring() && prediction.getPredictionTimestamp()) {\n          if (item.watchedEp < prediction.getCurrentEpisode()) {\n            preItems.push(item);\n          } else {\n            watchedItems.push(item);\n          }\n        } else {\n          normalItems.push(item);\n        }\n      } else if (\n        // Manga only if less than 5 chapters to read\n        prediction &&\n        prediction.isAiring() &&\n        prediction.getCurrentEpisode() &&\n        item.watchedEp &&\n        item.watchedEp < prediction.getCurrentEpisode() &&\n        item.watchedEp + 6 > prediction.getCurrentEpisode()\n      ) {\n        preItems.push(item);\n      } else {\n        normalItems.push(item);\n      }\n    });\n\n    preItems = preItems.sort(sortItems).reverse();\n    watchedItems = watchedItems.sort(sortItems);\n\n    this.templist = preItems.concat(watchedItems, normalItems);\n\n    function sortItems(a, b) {\n      let valA = a.fn.progress.getPredictionTimestamp();\n      let valB = b.fn.progress.getPredictionTimestamp();\n\n      if (!valA) valA = 999999999999;\n      if (!valB) valB = valA;\n\n      return valA - valB;\n    }\n  }\n\n  sortUnread() {\n    this.templist = this.templist.sort(function (a, b) {\n      let valA = 10000;\n      let valB = 10000;\n\n      if (a.fn.progress && a.fn.progress.getCurrentEpisode()) {\n        const tempA = a.fn.progress.getCurrentEpisode() - a.watchedEp;\n        if (tempA > 0) valA = tempA;\n      }\n      if (b.fn.progress && b.fn.progress.getCurrentEpisode()) {\n        const tempB = b.fn.progress.getCurrentEpisode() - b.watchedEp;\n        if (tempB > 0) valB = tempB;\n      }\n\n      return valA - valB;\n    });\n  }\n\n  cacheObj: any = undefined;\n\n  getCache() {\n    if (this.cacheObj) return this.cacheObj;\n    this.cacheObj = new Cache(\n      `list/${this.name}/${this.listType}/${this.status}/${this.sort}`,\n      48 * 60 * 60 * 1000,\n    );\n    return this.cacheObj;\n  }\n}\n","/* eslint-disable no-shadow */\nimport { status } from '../definitions';\nimport { clientId } from '../../utils/oauth';\nimport { NotAutenticatedError, NotFoundError, parseJson, ServerOfflineError } from '../Errors';\n\nexport const apiDomain = 'https://api.myanimelist.net/v2/';\n\nexport const authenticationUrl = 'https://malsync.moe/mal/oauth';\n\nexport async function apiCall(options: {\n  type: 'GET' | 'PUT' | 'DELETE' | 'POST';\n  path: string;\n  fields?: string[];\n  dataObj?: { [key: string]: string };\n}) {\n  let url = apiDomain + options.path;\n  if (options.fields && options.fields.length) {\n    url += url.includes('?') ? '&' : '?';\n    url += `fields=${options.fields.join(',')}`;\n  }\n  const headers: any = {\n    Authorization: `Bearer ${api.settings.get('malToken')}`,\n    'Content-Type': 'application/x-www-form-urlencoded',\n  };\n  let data = '';\n  if (options.dataObj) {\n    const formBody: string[] = [];\n    for (const property in options.dataObj) {\n      const encodedKey = encodeURIComponent(property);\n      const encodedValue = encodeURIComponent(options.dataObj[property]);\n      formBody.push(`${encodedKey}=${encodedValue}`);\n    }\n    data = formBody.join('&');\n  }\n  return api.request\n    .xhr(options.type, {\n      url,\n      headers,\n      data,\n    })\n    .then(async response => {\n      if ((response.status > 499 && response.status < 600) || response.status === 0) {\n        throw new ServerOfflineError(`Server Offline status: ${response.status}`);\n      }\n\n      let res;\n      try {\n        res = JSON.parse(response.responseText);\n      } catch (e) {\n        if (checkIfBanned(response.responseText)) {\n          throw new Error(api.storage.lang('Error_Blocked', ['MyAnimeList']));\n        }\n        throw e;\n      }\n\n      if (res && res.error) {\n        switch (res.error) {\n          case 'forbidden':\n          case 'invalid_token':\n            if (await refreshToken(this.logger)) {\n              return this.apiCall(options);\n            }\n            throw new NotAutenticatedError(res.message ?? res.error);\n          case 'not_found':\n            throw new NotFoundError(res.message ?? res.error);\n          case 'invalid_content':\n            throw new Error(\n              `This Entry is currently pending approval. It can´t be saved to mal for now`,\n            );\n          default:\n            throw new Error(res.message ?? res.error);\n        }\n      }\n\n      switch (response.status) {\n        case 400:\n          throw new Error('Invalid Parameters');\n        case 403:\n        default:\n      }\n\n      return res;\n    });\n}\n\nasync function refreshToken(logger) {\n  const l = logger.m('Refresh');\n  l.log('Refresh Access Token');\n  const rToken = api.settings.get('malRefresh');\n  if (!rToken) return false;\n  return api.request\n    .xhr('POST', {\n      url: 'https://myanimelist.net/v1/oauth2/token',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      data: `client_id=${clientId}&grant_type=refresh_token&refresh_token=${rToken}`,\n    })\n    .then(res => {\n      try {\n        return parseJson(res.responseText);\n      } catch (e) {\n        if (checkIfBanned(res.responseText)) {\n          throw new Error(api.storage.lang('Error_Blocked', ['MyAnimeList']));\n        }\n        throw e;\n      }\n    })\n    .then(json => {\n      if (json && json.refresh_token && json.access_token) {\n        api.settings.set('malToken', json.access_token);\n        api.settings.set('malRefresh', json.refresh_token);\n        return true;\n      }\n      if (json && json.error) {\n        l.error(json.error, '|', json.message);\n        api.settings.set('malRefresh', '');\n        return false;\n      }\n      l.error('Something went wrong');\n      return false;\n    });\n}\n\nfunction checkIfBanned(text: string) {\n  return Boolean(text.includes('Request blocked') || text.includes('your IP has been banned'));\n}\n\nexport enum animeStatus {\n  'watching' = status.Watching,\n  'completed' = status.Completed,\n  'on_hold' = status.Onhold,\n  'dropped' = status.Dropped,\n  'plan_to_watch' = status.PlanToWatch,\n}\n\nexport enum mangaStatus {\n  'reading' = status.Watching,\n  'completed' = status.Completed,\n  'on_hold' = status.Onhold,\n  'dropped' = status.Dropped,\n  'plan_to_read' = status.PlanToWatch,\n}\n","import { ListAbstract, listElement } from '../listAbstract';\nimport * as helper from './helper';\n\nexport class UserList extends ListAbstract {\n  name = 'MyAnimeList';\n\n  authenticationUrl = helper.authenticationUrl;\n\n  async getUserObject() {\n    return this.apiCall({\n      type: 'GET',\n      path: 'users/@me',\n    }).then(json => {\n      return {\n        username: json.name,\n        picture: json.picture,\n        href: `https://myanimelist.net/profile/${json.name}`,\n      };\n    });\n  }\n\n  deauth() {\n    return api.settings.set('malToken', '').then(() => api.settings.set('malRefresh', ''));\n  }\n\n  _getSortingOptions() {\n    return [\n      {\n        icon: 'sort_by_alpha',\n        title: api.storage.lang('list_sorting_alpha'),\n        value: 'alpha',\n      },\n      {\n        icon: 'history',\n        title: api.storage.lang('list_sorting_history'),\n        value: 'updated',\n      },\n      {\n        icon: 'score',\n        title: api.storage.lang('list_sorting_score'),\n        value: 'score',\n      },\n      {\n        icon: 'calendar_month',\n        title: api.storage.lang('list_sorting_airing_date'),\n        value: 'airing_date',\n      },\n    ];\n  }\n\n  getOrder(sort) {\n    switch (sort) {\n      case 'alpha':\n        return `${this.listType}_title`;\n      case 'updated':\n        return 'list_updated_at';\n      case 'score':\n        return 'list_score';\n      case 'airing_date':\n        return `${this.listType}_start_date`;\n      default:\n        if (this.status === 1) return this.getOrder('updated');\n        if (this.status === 6) return this.getOrder('updated');\n        return this.getOrder('alpha');\n    }\n  }\n\n  private limit = 100;\n\n  async getPart() {\n    this.limit = 100;\n    if (this.modes.frontend) {\n      this.limit = 24;\n    }\n\n    const order = this.getOrder(this.sort);\n    let sorting = '';\n    if (order) {\n      sorting = `&sort=${order}`;\n    }\n\n    con.log(\n      '[UserList][MAL]',\n      `username: ${this.username}`,\n      `status: ${this.status}`,\n      `offset: ${this.offset}`,\n      `sorting: ${sorting}`,\n    );\n\n    let curSt = '';\n    if (this.status !== 7) {\n      if (this.listType === 'manga') {\n        curSt = `&status=${helper.mangaStatus[this.status]}`;\n      } else {\n        curSt = `&status=${helper.animeStatus[this.status]}`;\n      }\n    }\n\n    return this.apiCall({\n      type: 'GET',\n      path: `users/@me/${this.listType}list?nsfw=true&limit=${this.limit}&offset=${this.offset}${curSt}${sorting}`,\n      fields: [\n        'list_status{tags,is_rewatching,is_rereading,start_date,finish_date}',\n        'num_episodes',\n        'num_chapters',\n        'num_volumes',\n      ],\n    }).then(json => {\n      if (json.paging && json.paging.next) {\n        this.offset += this.limit;\n      } else {\n        this.done = true;\n      }\n\n      return this.prepareData(json.data);\n    });\n  }\n\n  public async prepareData(data): Promise<listElement[]> {\n    const newData = [] as listElement[];\n    for (let i = 0; i < data.length; i++) {\n      const el = data[i];\n      if (this.listType === 'anime') {\n        newData.push(\n          await this.fn({\n            uid: el.node.id,\n            malId: el.node.id,\n            apiCacheKey: el.node.id,\n            cacheKey: el.node.id,\n            type: this.listType,\n            title: el.node.title,\n            url: `https://myanimelist.net/${this.listType}/${el.node.id}`,\n            watchedEp: el.list_status.num_episodes_watched,\n            totalEp: el.node.num_episodes,\n            status: parseInt(helper.animeStatus[el.list_status.status]),\n            score: el.list_status.score,\n            image: el.node.main_picture?.medium ?? '',\n            imageLarge: el.node.main_picture?.large || el.node.main_picture?.medium || '',\n            tags: el.list_status.tags.length ? el.list_status.tags.join(',') : '',\n            airingState: el.anime_airing_status,\n          }),\n        );\n      } else {\n        newData.push(\n          await this.fn({\n            uid: el.node.id,\n            malId: el.node.id,\n            apiCacheKey: el.node.id,\n            cacheKey: el.node.id,\n            type: this.listType,\n            title: el.node.title,\n            url: `https://myanimelist.net/${this.listType}/${el.node.id}`,\n            watchedEp: el.list_status.num_chapters_read,\n            totalEp: el.node.num_chapters,\n            status: parseInt(helper.mangaStatus[el.list_status.status]),\n            score: el.list_status.score,\n            image: el.node.main_picture?.medium ?? '',\n            imageLarge: el.node.main_picture?.large || el.node.main_picture?.medium || '',\n            tags: el.list_status.tags.length ? el.list_status.tags.join(',') : '',\n            airingState: el.anime_airing_status,\n          }),\n        );\n      }\n    }\n    console.log(newData);\n    return newData;\n  }\n\n  apiCall = helper.apiCall;\n}\n","import { UserList as temp } from '../MyAnimeList_api/list';\n\nexport const UserList = temp;\n","/* eslint-disable no-shadow */\nimport { status } from '../definitions';\nimport { NotAutenticatedError, NotFoundError, parseJson, ServerOfflineError } from '../Errors';\n\nconst logger = con.m('anilist', '#3db4f2');\n\nexport function translateList(aniStatus, malStatus: null | number = null) {\n  const list = {\n    CURRENT: 1,\n    PLANNING: 6,\n    COMPLETED: 2,\n    DROPPED: 4,\n    PAUSED: 3,\n    REPEATING: 1,\n  };\n  if (malStatus !== null) {\n    return Object.keys(list).find(key => list[key] === malStatus);\n  }\n  return list[aniStatus];\n}\n\nexport enum statusTranslate {\n  'CURRENT' = status.Watching,\n  'PLANNING' = status.PlanToWatch,\n  'COMPLETED' = status.Completed,\n  'DROPPED' = status.Dropped,\n  'PAUSED' = status.Onhold,\n  'REPEATING' = status.Rewatching,\n}\n\nexport function aniListToMal(anilistId: number, type: 'anime' | 'manga') {\n  const query = `\n  query ($id: Int, $type: MediaType) {\n    Media (id: $id, type: $type) {\n      id\n      idMal\n    }\n  }\n  `;\n\n  const variables = {\n    id: anilistId,\n    type: type.toUpperCase(),\n  };\n\n  return api.request\n    .xhr('POST', {\n      url: 'https://graphql.anilist.co',\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json',\n      },\n      data: JSON.stringify({\n        query,\n        variables,\n      }),\n    })\n    .then(response => {\n      const res = parseJson(response.responseText);\n      con.log(res);\n      return res.data.Media.idMal;\n    });\n}\n\nexport function malToAnilist(malId: number, type: 'anime' | 'manga') {\n  const query = `\n  query ($id: Int, $type: MediaType) {\n    Media (idMal: $id, type: $type) {\n      id\n      idMal\n    }\n  }\n  `;\n\n  const variables = {\n    id: malId,\n    type: type.toUpperCase(),\n  };\n\n  return api.request\n    .xhr('POST', {\n      url: 'https://graphql.anilist.co',\n      headers: {\n        'Content-Type': 'application/json',\n        Accept: 'application/json',\n      },\n      data: JSON.stringify({\n        query,\n        variables,\n      }),\n    })\n    .then(response => {\n      if (response.status === 404) return NaN;\n      const res = parseJson(response.responseText);\n      con.log(res);\n      return res.data.Media.id;\n    });\n}\n\nexport function getCacheKey(id, kitsuId) {\n  if (Number.isNaN(id) || !id) {\n    return `anilist:${kitsuId}`;\n  }\n  return id;\n}\n\nexport async function apiCall(query, variables, requiresAuthentication = true) {\n  if (requiresAuthentication && !api.settings.get('anilistToken')) {\n    throw new NotAutenticatedError('No token found');\n  }\n\n  const headers: any = {\n    'Content-Type': 'application/json',\n    Accept: 'application/json',\n  };\n\n  if (api.settings.get('anilistToken'))\n    headers.Authorization = `Bearer ${api.settings.get('anilistToken')}`;\n\n  return api.request\n    .xhr('POST', {\n      url: 'https://graphql.anilist.co',\n      headers,\n      data: JSON.stringify({\n        query,\n        variables,\n      }),\n    })\n    .then(response => {\n      if ((response.status > 499 && response.status < 600) || response.status === 0) {\n        throw new ServerOfflineError(`Server Offline status: ${response.status}`);\n      }\n      if (response.status === 403) {\n        throw new Error(api.storage.lang('Error_Blocked', ['AniList']));\n      }\n\n      const res = parseJson(response.responseText);\n\n      if (typeof res.errors !== 'undefined' && res.errors.length) {\n        logger.error('[SINGLE]', 'Error', res.errors);\n        const error = res.errors[0];\n        switch (error.status) {\n          case 400:\n            if (error.message === 'Invalid token' && !requiresAuthentication) {\n              api.settings.set('anilistToken', null);\n              return apiCall(query, variables, requiresAuthentication);\n            }\n            if (error.message === 'validation') throw new Error('Wrong request format');\n            if (error.message.includes('invalid')) throw new Error('Wrong request format');\n            throw new NotAutenticatedError(error.message);\n          case 404:\n            throw new NotFoundError(error.message);\n          default:\n            throw new Error(error.message);\n        }\n      }\n\n      return res;\n    });\n}\n\nexport function imgCheck(url: string) {\n  if (!url || url.endsWith('/default.jpg')) return '';\n  return url;\n}\n","import { ListAbstract, listElement } from '../listAbstract';\nimport * as helper from './helper';\n\nexport class UserList extends ListAbstract {\n  name = 'AniList';\n\n  public compact = false;\n\n  public seperateRewatching = true;\n\n  authenticationUrl =\n    'https://anilist.co/api/v2/oauth/authorize?client_id=1487&response_type=token';\n\n  getUserObject() {\n    const query = `\n    query {\n      Viewer {\n        name\n        id\n        avatar {\n          large\n        }\n        options {\n          displayAdultContent\n        }\n        mediaListOptions {\n          scoreFormat\n        }\n      }\n    }\n    `;\n\n    return helper.apiCall(query, [], true).then(res => {\n      if (res.data.Viewer.options && res.data.Viewer.mediaListOptions) {\n        const opt = api.settings.get('anilistOptions');\n        opt.displayAdultContent = res.data.Viewer.options.displayAdultContent;\n        opt.scoreFormat = res.data.Viewer.mediaListOptions.scoreFormat;\n        api.settings.set('anilistOptions', opt);\n      }\n      return {\n        username: res.data.Viewer.name,\n        picture: res.data.Viewer.avatar.large || '',\n        href: `https://anilist.co/user/${res.data.Viewer.id}`,\n      };\n    });\n  }\n\n  deauth() {\n    return api.settings.set('anilistToken', '');\n  }\n\n  accessToken() {\n    return this.api.settings.get('anilistToken');\n  }\n\n  _getSortingOptions() {\n    return [\n      {\n        icon: 'sort_by_alpha',\n        title: api.storage.lang('list_sorting_alpha'),\n        value: 'alpha',\n      },\n      {\n        icon: 'history',\n        title: api.storage.lang('list_sorting_history'),\n        value: 'updated',\n        asc: true,\n      },\n      {\n        icon: 'score',\n        title: api.storage.lang('list_sorting_score'),\n        value: 'score',\n        asc: true,\n      },\n    ];\n  }\n\n  getOrder(sort) {\n    switch (sort) {\n      case 'alpha':\n        return 'MEDIA_TITLE_ENGLISH';\n      case 'updated':\n        return 'UPDATED_TIME_DESC';\n      case 'updated_asc':\n        return 'UPDATED_TIME';\n      case 'score':\n        return 'SCORE_DESC';\n      case 'score_asc':\n        return 'SCORE';\n      default:\n        if (this.status === 1) return this.getOrder('updated');\n        if (this.status === 6) return this.getOrder('updated');\n        // TODO: remove when fixed in anilist\n        return this.getOrder('updated');\n        return this.getOrder('alpha');\n    }\n  }\n\n  async getPart(): Promise<any> {\n    if (this.offset < 1) this.offset = 1;\n    con.log(\n      '[UserList][AniList]',\n      `username: ${this.username}`,\n      `status: ${this.status}`,\n      `offset: ${this.offset}`,\n    );\n\n    if (!this.username) {\n      this.username = await this.getUsername();\n    }\n\n    let query = `\n    query ($page: Int, $userName: String, $type: MediaType, $status: MediaListStatus, $sort: [MediaListSort] ) {\n      Page (page: $page, perPage: 100) {\n        pageInfo {\n          hasNextPage\n        }\n        mediaList (status: $status, type: $type, userName: $userName, sort: $sort) {\n          status\n          score(format: POINT_100)\n          progress\n          progressVolumes\n          notes\n          media {\n            siteUrl\n            id\n            idMal\n            episodes\n            chapters\n            volumes\n            status\n            averageScore\n            coverImage{\n              large\n              extraLarge\n            }\n            bannerImage\n            title {\n              userPreferred\n            }\n          }\n        }\n      }\n    }\n    `;\n\n    if (this.compact) {\n      query = `\n      query ($page: Int, $userName: String, $type: MediaType, $status: MediaListStatus, $sort: [MediaListSort]) {\n        Page (page: $page, perPage: 100) {\n          pageInfo {\n            hasNextPage\n          }\n          mediaList (status: $status, type: $type, userName: $userName, sort: $sort) {\n            progress\n            media {\n              id\n              idMal\n            }\n          }\n        }\n      }\n      `;\n    }\n    const variables = {\n      page: this.offset,\n      userName: this.username,\n      type: this.listType.toUpperCase(),\n      status: helper.statusTranslate[parseInt(this.status.toString())],\n      sort: null,\n    };\n\n    const order = this.getOrder(this.sort);\n\n    if (order) {\n      // @ts-ignore\n      variables.sort = order;\n    }\n\n    return helper.apiCall(query, variables, true).then(res => {\n      con.log('res', res);\n      const data = res.data.Page.mediaList;\n      this.offset += 1;\n      if (!res.data.Page.pageInfo.hasNextPage) {\n        this.done = true;\n      }\n\n      return this.prepareData(data, this.listType);\n    });\n  }\n\n  private async prepareData(data, listType): Promise<listElement[]> {\n    const newData = [] as listElement[];\n    for (let i = 0; i < data.length; i++) {\n      const el = data[i];\n      let tempData;\n      if (listType === 'anime') {\n        tempData = await this.fn({\n          uid: el.media.id,\n          malId: el.media.idMal,\n          apiCacheKey: el.media.idMal ?? `anilist:${el.media.id}`,\n          cacheKey: helper.getCacheKey(el.media.idMal, el.media.id),\n          type: listType,\n          title: el.media.title.userPreferred,\n          url: el.media.siteUrl,\n          watchedEp: el.progress,\n          totalEp: el.media.episodes,\n          status: helper.translateList(el.status),\n          score: Math.round(el.score / 10),\n          image: helper.imgCheck(el.media.coverImage.large),\n          imageLarge: helper.imgCheck(el.media.coverImage.extraLarge),\n          imageBanner: helper.imgCheck(el.media.bannerImage),\n          tags: el.notes,\n          airingState: el.anime_airing_status,\n        });\n      } else {\n        tempData = await this.fn({\n          uid: el.media.id,\n          malId: el.media.idMal,\n          apiCacheKey: el.media.idMal ?? `anilist:${el.media.id}`,\n          cacheKey: helper.getCacheKey(el.media.idMal, el.media.id),\n          type: listType,\n          title: el.media.title.userPreferred,\n          url: el.media.siteUrl,\n          watchedEp: el.progress,\n          totalEp: el.media.chapters,\n          status: helper.translateList(el.status),\n          score: Math.round(el.score / 10),\n          image: helper.imgCheck(el.media.coverImage.large),\n          imageLarge: helper.imgCheck(el.media.coverImage.extraLarge),\n          imageBanner: helper.imgCheck(el.media.bannerImage),\n          tags: el.notes,\n          airingState: el.anime_airing_status,\n        });\n      }\n\n      if (tempData.totalEp === null) {\n        tempData.totalEp = 0;\n      }\n\n      newData.push(tempData);\n    }\n    return newData;\n  }\n\n  private prepareCompact(data, listType) {\n    const newData = [] as {\n      malid: number;\n      id: number;\n      watchedEp: number;\n      cacheKey: string | number;\n    }[];\n    for (let i = 0; i < data.length; i++) {\n      const el = data[i];\n      newData.push({\n        malid: el.media.idMal,\n        id: el.media.id,\n        watchedEp: el.progress,\n        cacheKey: helper.getCacheKey(el.media.idMal, el.media.id),\n      });\n    }\n    return newData;\n  }\n}\n","import { NotAutenticatedError, NotFoundError, parseJson, ServerOfflineError } from '../Errors';\n\nconst logger = con.m('kitsu', '#d65e43');\n\nexport function translateList(aniStatus, malStatus: null | number = null) {\n  const list = {\n    current: 1,\n    planned: 6,\n    completed: 2,\n    dropped: 4,\n    on_hold: 3,\n  };\n  if (malStatus !== null) {\n    return Object.keys(list).find(key => list[key] === malStatus);\n  }\n  return list[aniStatus];\n}\n\nexport function getTitle(titles, canonicalTitle) {\n  let title: string;\n  switch (api.settings.get('kitsuOptions').titleLanguagePreference) {\n    case 'english':\n      title = titles.en;\n      break;\n    case 'romanized':\n      title = titles.en_jp;\n      break;\n    case 'canonical':\n    default:\n      title = canonicalTitle;\n  }\n\n  if (typeof title === 'undefined' || !title) title = titles.en;\n  if (typeof title === 'undefined' || !title) title = titles.en_jp;\n  if (typeof title === 'undefined' || !title) title = titles.ja_jp;\n  if (typeof title === 'undefined' || !title) {\n    const keys = Object.keys(titles);\n    if (!keys.length) {\n      return 'No Title';\n    }\n    title = titles[keys[0]];\n  }\n\n  return title;\n}\n\nexport function getCacheKey(id, kitsuId) {\n  if (Number.isNaN(id) || !id) {\n    return `kitsu:${kitsuId}`;\n  }\n  return id;\n}\n\nexport function malToKitsu(malid: number, type: 'anime' | 'manga') {\n  return apiCall(\n    'GET',\n    `https://kitsu.io/api/edge/mappings?filter[externalSite]=myanimelist/${type}&filter[externalId]=${malid}&include=item&fields[item]=id`,\n    {},\n    false,\n  );\n}\n\nexport function kitsuToMal(kitsuId: number, type: 'anime' | 'manga') {\n  return api.request\n    .xhr('GET', {\n      url: `https://kitsu.io/api/edge/${type}/${kitsuId}/mappings?filter[externalSite]=myanimelist/${type}`,\n      headers: {\n        'Content-Type': 'application/vnd.api+json',\n        Accept: 'application/vnd.api+json',\n      },\n    })\n    .then(response => {\n      const res = JSON.parse(response.responseText);\n      con.log('[KtoM]', res);\n      if (typeof res.data === 'undefined' || !res.data.length) return null;\n      return Number(res.data[0].attributes.externalId);\n    });\n}\n\nexport function apiCall(mode, url, variables = {}, authentication = true) {\n  const headers: any = {\n    'Content-Type': 'application/vnd.api+json',\n    Accept: 'application/vnd.api+json',\n  };\n  if (authentication) headers.Authorization = `Bearer ${api.settings.get('kitsuToken')}`;\n  return api.request\n    .xhr(mode, {\n      url,\n      headers,\n      data: JSON.stringify(variables),\n    })\n    .then(response => {\n      if ((response.status > 499 && response.status < 600) || response.status === 0) {\n        throw new ServerOfflineError(`Server Offline status: ${response.status}`);\n      }\n\n      if (response.status === 204) {\n        return {};\n      }\n\n      const res = parseJson(response.responseText);\n\n      if (typeof res.errors !== 'undefined' && res.errors.length) {\n        logger.error('[SINGLE]', 'Error', res.errors);\n        const error = res.errors[0];\n        switch (parseInt(error.status)) {\n          case 401:\n          case 403:\n            throw new NotAutenticatedError(error.detail);\n          case 404:\n            throw new NotFoundError(error.detail);\n          default:\n            throw new Error(error.detail);\n        }\n      }\n\n      return res;\n    });\n}\n","import { NotAutenticatedError } from '../Errors';\nimport { ListAbstract, listElement } from '../listAbstract';\nimport * as helper from './helper';\n\nexport class UserList extends ListAbstract {\n  name = 'Kitsu';\n\n  authenticationUrl = 'https://kitsu.io/404?mal-sync=authentication';\n\n  async getUserObject() {\n    const user = await this.userRequest();\n\n    const opt = api.settings.get('kitsuOptions');\n    opt.titleLanguagePreference = user.attributes.titleLanguagePreference;\n    opt.sfwFilter = user.attributes.sfwFilter;\n    opt.ratingSystem = user.attributes.ratingSystem;\n    api.settings.set('kitsuOptions', opt);\n\n    return {\n      username: user.attributes.name,\n      picture: user.attributes.avatar?.large || '',\n      href: `https://kitsu.io/users/${user.attributes.slug}`,\n    };\n    return user.attributes.name;\n  }\n\n  async getUserId() {\n    const userId = await api.storage.get('kitsuUserId');\n    if (typeof userId !== 'undefined' && userId) {\n      return userId;\n    }\n    const user = await this.userRequest();\n    api.storage.set('kitsuUserId', user.id);\n    return user.id;\n  }\n\n  private userRequest() {\n    return helper.apiCall('GET', 'https://kitsu.io/api/edge/users?filter[self]=true').then(res => {\n      con.log(res);\n      if (typeof res.data[0] === 'undefined') {\n        throw new NotAutenticatedError('Not Authenticated');\n      }\n      return res.data[0];\n    });\n  }\n\n  deauth() {\n    return api.settings.set('kitsuToken', '').then(() => api.storage.set('kitsuUserId', ''));\n  }\n\n  accessToken() {\n    return api.settings.get('kitsuToken');\n  }\n\n  _getSortingOptions() {\n    return [\n      {\n        icon: 'sort_by_alpha',\n        title: api.storage.lang('list_sorting_alpha'),\n        value: 'alpha',\n        asc: true,\n      },\n      {\n        icon: 'history',\n        title: api.storage.lang('list_sorting_history'),\n        value: 'updated',\n        asc: true,\n      },\n      {\n        icon: 'score',\n        title: api.storage.lang('list_sorting_score'),\n        value: 'score',\n        asc: true,\n      },\n    ];\n  }\n\n  getOrder(sort) {\n    let pre = '';\n\n    if (!sort.endsWith('_asc')) pre = '-';\n\n    const sortString = sort.replace('_asc', '');\n    switch (sortString) {\n      case 'alpha':\n        pre = pre ? '' : '-';\n        return `${pre}${this.listType}.titles.en`;\n      case 'updated':\n        return `${pre}progressed_at`;\n      case 'score':\n        return `${pre}rating`;\n      default:\n        if (this.status === 1) return this.getOrder('updated');\n        if (this.status === 6) return this.getOrder('updated');\n        return this.getOrder('alpha');\n    }\n  }\n\n  async getPart() {\n    const userid = await this.getUserId();\n\n    let statusPart = '';\n    let sorting = '';\n\n    const order = this.getOrder(this.sort);\n    if (order) {\n      sorting = `&sort=${order}`;\n    }\n\n    if (this.status !== 7) {\n      const statusTemp = helper.translateList(this.status, this.status);\n      statusPart = `&filter[status]=${statusTemp}`;\n    }\n\n    con.log(\n      '[UserList][Kitsu]',\n      `user: ${userid}`,\n      `status: ${this.status}`,\n      `offset: ${this.offset}`,\n    );\n\n    return helper\n      .apiCall(\n        'GET',\n        `https://kitsu.io/api/edge/library-entries?filter[user_id]=${userid}${statusPart}&filter[kind]=${\n          this.listType\n        }&page[offset]=${this.offset}&page[limit]=50${sorting}&include=${this.listType},${\n          this.listType\n        }.mappings,${this.listType}.mappings.item&fields[${\n          this.listType\n        }]=slug,titles,canonicalTitle,averageRating,posterImage,coverImage,${\n          this.listType === 'anime' ? 'episodeCount' : 'chapterCount,volumeCount'\n        }`,\n      )\n      .then(res => {\n        con.log(res);\n\n        this.offset += 50;\n\n        if (!(res.meta.count > this.offset)) {\n          this.done = true;\n        }\n\n        return this.prepareData(res, this.listType);\n      });\n  }\n\n  private async prepareData(data, listType): Promise<listElement[]> {\n    const newData = [] as listElement[];\n    for (let i = 0; i < data.data.length; i++) {\n      const list = data.data[i];\n      const el = data.included[i];\n\n      const name = helper.getTitle(el.attributes.titles, el.attributes.canonicalTitle);\n\n      let malId = NaN;\n      for (let k = 0; k < data.included.length; k++) {\n        const mapping = data.included[k];\n        if (mapping.type === 'mappings') {\n          if (mapping.attributes.externalSite === `myanimelist/${listType}`) {\n            if (mapping.relationships.item.data.id === el.id) {\n              malId = Number(mapping.attributes.externalId);\n              data.included.splice(k, 1);\n              break;\n            }\n          }\n        }\n      }\n      let tempData;\n      if (listType === 'anime') {\n        tempData = await this.fn({\n          malId,\n          apiCacheKey: malId,\n          uid: Number(el.id),\n          cacheKey: helper.getCacheKey(malId, el.id),\n          kitsuSlug: el.attributes.slug,\n          type: listType,\n          title: name,\n          url: `https://kitsu.io/${listType}/${el.attributes.slug}`,\n          watchedEp: list.attributes.progress,\n          totalEp: el.attributes.episodeCount,\n          status: helper.translateList(list.attributes.status),\n          score: Math.round(list.attributes.ratingTwenty / 2),\n          image:\n            el.attributes.posterImage && el.attributes.posterImage.small\n              ? el.attributes.posterImage.small\n              : '',\n          imageLarge:\n            el.attributes.posterImage && el.attributes.posterImage.original\n              ? el.attributes.posterImage.original\n              : '',\n          imageBanner:\n            el.attributes.coverImage && el.attributes.coverImage.large\n              ? el.attributes.coverImage.large\n              : '',\n          tags: list.attributes.notes,\n          airingState: el.anime_airing_status,\n        });\n      } else {\n        tempData = await this.fn({\n          malId,\n          apiCacheKey: malId,\n          uid: Number(el.id),\n          cacheKey: helper.getCacheKey(malId, el.id),\n          kitsuSlug: el.attributes.slug,\n          type: listType,\n          title: name,\n          url: `https://kitsu.io/${listType}/${el.attributes.slug}`,\n          watchedEp: list.attributes.progress,\n          totalEp: el.attributes.chapterCount,\n          status: helper.translateList(list.attributes.status),\n          score: Math.round(list.attributes.ratingTwenty / 2),\n          image:\n            el.attributes.posterImage && el.attributes.posterImage.small\n              ? el.attributes.posterImage.small\n              : '',\n          imageLarge:\n            el.attributes.posterImage && el.attributes.posterImage.original\n              ? el.attributes.posterImage.original\n              : '',\n          imageBanner:\n            el.attributes.coverImage && el.attributes.coverImage.large\n              ? el.attributes.coverImage.large\n              : '',\n          tags: list.attributes.notes,\n          airingState: el.anime_airing_status,\n        });\n      }\n\n      if (tempData.totalEp === null) {\n        tempData.totalEp = 0;\n      }\n\n      newData.push(tempData);\n    }\n    return newData;\n  }\n}\n","import { NotAutenticatedError, parseJson, ServerOfflineError } from '../Errors';\n\nexport const client_id = '39e8640b6f1a60aaf60f3f3313475e830517badab8048a4e52ff2d10deb2b9b0';\n\nexport function translateList(simklStatus, malStatus: null | number = null) {\n  const list = {\n    watching: 1,\n    plantowatch: 6,\n    completed: 2,\n    notinteresting: 4,\n    hold: 3,\n  };\n  if (malStatus !== null) {\n    return Object.keys(list).find(key => list[key] === malStatus);\n  }\n  return list[simklStatus];\n}\n\nexport function getCacheKey(id, simklId) {\n  if (Number.isNaN(id) || !id) {\n    return `simkl:${simklId}`;\n  }\n  return id;\n}\n\nexport function getEpisode(episode: string): number {\n  if (typeof episode === 'number') return episode;\n  if (episode) {\n    const temp = episode.match(/e\\d+/i);\n    if (temp !== null) {\n      const episodePart = parseInt(temp[0].replace(/\\D/, ''));\n      if (Number.isNaN(episodePart)) return 0;\n      return episodePart;\n    }\n  }\n  return 0;\n}\n\nlet cacheList;\n\nexport async function syncList(lazy = false) {\n  const logger = con.m('Simkl', '#9b7400').m('list');\n\n  if (typeof cacheList === 'undefined') {\n    cacheList = await api.storage.get('simklList');\n  } else if (lazy) {\n    return cacheList;\n  }\n\n  const lastCheck = await api.storage.get('simklLastCheck');\n  const activity = await this.call('https://api.simkl.com/sync/activities');\n  logger.log('Activity', lastCheck, activity.anime);\n\n  // removed_from_list\n  if (lastCheck && lastCheck.removed_from_list !== activity.anime.removed_from_list) {\n    const checkRemoveList = await this.call('https://api.simkl.com/sync/all-items/anime');\n    const newCacheList = {};\n    if (checkRemoveList) {\n      for (let i = 0; i < checkRemoveList.anime.length; i++) {\n        const el = checkRemoveList.anime[i];\n        if (cacheList[el.show.ids.simkl] !== undefined) {\n          newCacheList[el.show.ids.simkl] = cacheList[el.show.ids.simkl];\n        }\n      }\n    }\n    cacheList = newCacheList;\n    logger.log('remove', cacheList);\n  }\n\n  // Check if update Needed\n  let dateFrom = '';\n  if (lastCheck && cacheList) {\n    dateFrom = `date_from=${lastCheck.all}`;\n    if (lastCheck.all === activity.anime.all) {\n      logger.log('Up to date');\n      return cacheList;\n    }\n  }\n\n  if (!cacheList) cacheList = {};\n\n  if (lastCheck && lastCheck.rated_at !== activity.anime.rated_at) {\n    const rated = await this.call(`https://api.simkl.com/sync/ratings/anime?${dateFrom}`);\n    logger.log('ratedUpdate', rated);\n    if (rated) {\n      for (let i = 0; i < rated.anime.length; i++) {\n        const el = rated.anime[i];\n        cacheList[el.show.ids.simkl] = el;\n      }\n    }\n  }\n\n  const list = await this.call(`https://api.simkl.com/sync/all-items/anime?${dateFrom}`);\n  logger.log('listUpdate', list);\n  if (list) {\n    for (let i = 0; i < list.anime.length; i++) {\n      const el = list.anime[i];\n      cacheList[el.show.ids.simkl] = el;\n    }\n  }\n  logger.log('totalList', cacheList);\n  await api.storage.set('simklList', cacheList);\n  await api.storage.set('simklLastCheck', activity.anime);\n  return cacheList;\n}\n\nexport async function getSingle(\n  ids: { simkl?: string | number; mal?: string | number },\n  lazy = false,\n) {\n  const list = await this.syncList(lazy);\n  if (ids.simkl) {\n    if (list[ids.simkl] !== undefined) {\n      return list[ids.simkl];\n    }\n  } else if (ids.mal) {\n    // TODO: Use map for better performance\n    const listVal = Object.values(list);\n    for (let i = 0; i < listVal.length; i++) {\n      const el: any = listVal[i];\n      if (typeof el.show.ids.mal !== 'undefined' && Number(el.show.ids.mal) === Number(ids.mal)) {\n        return el;\n      }\n    }\n  } else {\n    throw 'No id passed';\n  }\n  return null;\n}\n\nexport async function call(\n  url,\n  sData: any = {},\n  asParameter = false,\n  method: 'GET' | 'POST' = 'GET',\n  login = true,\n) {\n  const logger = con.m('Simkl', '#9b7400').m('call');\n\n  if (asParameter) {\n    url += `?${new URLSearchParams(Object.entries(sData))}`;\n    sData = undefined;\n  }\n  logger.log(method, url, sData);\n\n  const headers: any = {\n    'simkl-api-key': client_id,\n    Accept: 'application/vnd.api+json',\n    'Content-Type': 'application/json',\n  };\n\n  if (login) headers.Authorization = `Bearer ${api.settings.get('simklToken')}`;\n  else logger.log('No login');\n\n  return api.request\n    .xhr(method, {\n      url,\n      headers,\n      data: sData,\n    })\n    .then(async response => {\n      const res = parseJson(response.responseText);\n      this.errorHandling(res, response.status);\n      return res;\n    });\n}\n\nexport function errorHandling(res, code) {\n  if ((code > 499 && code < 600) || code === 0) {\n    throw new ServerOfflineError(`Server Offline status: ${code}`);\n  }\n\n  if (res && typeof res.error !== 'undefined') {\n    this.logger.error('[SINGLE]', 'Error', res.error);\n    const { error } = res;\n    if (error.code) {\n      switch (error.code) {\n        default:\n          throw new Error(error.error);\n      }\n    } else {\n      switch (error) {\n        case 'user_token_failed':\n          throw new NotAutenticatedError('user_token_failed');\n        default:\n          throw error;\n      }\n    }\n  }\n}\n","import { NotAutenticatedError } from '../Errors';\nimport { ListAbstract, listElement } from '../listAbstract';\nimport * as helper from './helper';\n\nexport class UserList extends ListAbstract {\n  name = 'Simkl';\n\n  authenticationUrl =\n    'https://simkl.com/oauth/authorize?response_type=code&client_id=39e8640b6f1a60aaf60f3f3313475e830517badab8048a4e52ff2d10deb2b9b0&redirect_uri=https://simkl.com/apps/chrome/mal-sync/connected/';\n\n  async getUserObject() {\n    return this.call('https://api.simkl.com/users/settings').then(res => {\n      if (res && res.user && typeof res.user.name !== 'undefined') {\n        return {\n          username: res.user.name,\n          picture: res.user.avatar || '',\n          href: `https://simkl.com/${res.account.id}`,\n        };\n      }\n\n      throw new NotAutenticatedError('Not Authenticated');\n    });\n  }\n\n  deauth() {\n    return api.settings.set('simklToken', '');\n  }\n\n  errorHandling = helper.errorHandling;\n\n  _getSortingOptions() {\n    return [];\n  }\n\n  async getPart() {\n    con.log('[UserList][Simkl]', `status: ${this.status}`);\n    if (this.listType === 'manga') throw new Error('Does not support manga');\n    return this.syncList().then(async list => {\n      this.done = true;\n      const data = await this.prepareData(Object.values(list), this.listType, this.status);\n      con.log(data);\n      return data;\n    });\n  }\n\n  private async prepareData(data, listType, status): Promise<listElement[]> {\n    const newData = [] as listElement[];\n    for (let i = 0; i < data.length; i++) {\n      const el = data[i];\n      const st = this.translateList(el.status);\n      if (status !== 7 && parseInt(st) !== status) {\n        continue;\n      }\n\n      let curep = this.getEpisode(el.last_watched);\n      if (st === 2) curep = el.total_episodes_count;\n\n      if (listType === 'anime') {\n        const tempData = await this.fn({\n          malId: el.show.ids.mal,\n          apiCacheKey: el.show.ids.mal,\n          uid: el.show.ids.simkl,\n          cacheKey: this.getCacheKey(el.show.ids.mal, el.show.ids.simkl),\n          type: listType,\n          title: el.show.title,\n          url: `https://simkl.com/${listType}/${el.show.ids.simkl}`,\n          watchedEp: curep,\n          totalEp: el.total_episodes_count,\n          status: st,\n          score: el.user_rating ? el.user_rating : 0,\n          image: `https://simkl.in/posters/${el.show.poster}_ca.jpg`,\n          imageLarge: `https://simkl.in/posters/${el.show.poster}_m.jpg`,\n          imageBanner: `https://simkl.in/posters/${el.show.poster}_w.jpg`,\n          tags: el.private_memo,\n          airingState: el.anime_airing_status,\n        });\n        newData.push(tempData);\n      } else {\n        // placeholder\n      }\n    }\n    return newData;\n  }\n\n  protected syncList = helper.syncList;\n\n  protected translateList = helper.translateList;\n\n  protected getCacheKey = helper.getCacheKey;\n\n  protected getEpisode = helper.getEpisode;\n\n  protected call = helper.call;\n}\n","import { NotAutenticatedError, NotFoundError, ServerOfflineError } from '../Errors';\nimport { status } from '../definitions';\nimport { Cache } from '../../utils/Cache';\n\nconst clientId = 'z3NJ84kK9iy5NU6SnhdCDB38rr4-jFIJ67bMIUDzdoo';\n\nexport const authUrl = `https://shikimori.me/oauth/authorize?client_id=${clientId}&redirect_uri=https%3A%2F%2Fmalsync.moe%2Fshikimori%2Foauth&response_type=code&scope=user_rates`;\n\nconst apiDomain = 'https://shikimori.me/api/';\n\nexport const domain = 'https://shikimori.me';\n\nexport async function apiCall(options: {\n  type: 'GET' | 'PUT' | 'DELETE' | 'POST';\n  path: string;\n  parameter?: { [key: string]: string | number };\n  dataObj?: { [key: string]: any };\n  auth?: boolean;\n}) {\n  const type = options.type || 'GET';\n  const token = api.settings.get('shikiToken');\n\n  if (!token && !token.access_token && !options.auth) {\n    throw new NotAutenticatedError('No token set');\n  }\n\n  let url = apiDomain + options.path;\n  if (options.parameter && Object.keys(options.parameter).length) {\n    url += url.includes('?') ? '&' : '?';\n    const params = [] as string[];\n    for (const key in options.parameter) {\n      params.push(`${key}=${options.parameter[key]}`);\n    }\n    url += params.join('&');\n  }\n\n  const headers: any = {\n    Authorization: `Bearer ${token.access_token}`,\n    'User-Agent': 'MAL-Sync',\n    'Content-Type': 'application/json',\n  };\n\n  let data = '';\n  if (options.dataObj) {\n    data = JSON.stringify(options.dataObj);\n  }\n\n  if (options.auth) {\n    delete headers.Authorization;\n    url = 'https://shikimori.me/oauth/token';\n  }\n\n  return api.request\n    .xhr(type, {\n      url,\n      headers,\n      data,\n    })\n    .then(async response => {\n      if ((response.status > 499 && response.status < 600) || response.status === 0) {\n        throw new ServerOfflineError(`Server Offline status: ${response.status}`);\n      }\n\n      let res: any = null;\n      if (response.responseText) {\n        res = JSON.parse(response.responseText);\n      }\n\n      if (response.status === 401) {\n        if (options.auth) throw new NotAutenticatedError(res.message ?? res.error);\n        await refreshToken(token.refresh_token);\n        return apiCall(options);\n      }\n\n      if (res && res.error) {\n        switch (res.error) {\n          case 'forbidden':\n          case 'invalid_token':\n            if (options.auth) throw new NotAutenticatedError(res.message ?? res.error);\n            await refreshToken(token.refresh_token);\n            return apiCall(options);\n          case 'not_found':\n            throw new NotFoundError(res.message ?? res.error);\n          default:\n            throw new Error(res.message ?? res.error);\n        }\n      }\n\n      switch (response.status) {\n        case 400:\n          throw new Error('Invalid Parameters');\n        case 403:\n        default:\n      }\n\n      return res;\n    });\n}\n\nexport function authRequest(data: { code: string } | { refresh_token: string }) {\n  const dataObj: any = {\n    client_id: clientId,\n    client_secret: '6vkFaJN_wxQHmBoq23ac1z6tZKiAD7xqsXGudkkOqTg',\n    redirect_uri: 'https://malsync.moe/shikimori/oauth',\n  };\n\n  if ('code' in data) {\n    dataObj.code = data.code;\n    dataObj.grant_type = 'authorization_code';\n  }\n\n  if ('refresh_token' in data) {\n    dataObj.refresh_token = data.refresh_token;\n    dataObj.grant_type = 'refresh_token';\n  }\n\n  return apiCall({\n    type: 'POST',\n    path: 'oauth/token',\n    auth: true,\n    dataObj,\n  });\n}\n\nasync function refreshToken(refresh_token: string) {\n  const res = await authRequest({ refresh_token }).catch(err => {\n    if (err.message === 'invalid_request') {\n      api.settings.set('shikiToken', '');\n    }\n    throw err;\n  });\n  await api.settings.set('shikiToken', {\n    access_token: res.access_token,\n    refresh_token: res.refresh_token,\n  });\n}\n\nexport function userRequest(): Promise<userRequest> {\n  return apiCall({\n    type: 'GET',\n    path: 'users/whoami',\n  }).then(res => {\n    if (res.locale) {\n      api.settings.set('shikiOptions', {\n        locale: res.locale,\n      });\n    }\n    return res;\n  });\n}\n\nexport async function userId() {\n  const cacheObj = new Cache(`shiki/userId`, 4 * 60 * 60 * 1000);\n\n  if (await cacheObj.hasValue()) {\n    return cacheObj.getValue();\n  }\n\n  const res = await userRequest();\n  if (res.id) {\n    cacheObj.setValue(res.id);\n  }\n  return res.id;\n}\n\nexport function title(rus: string, eng: string, headline = false) {\n  const options = api.settings.get('shikiOptions');\n  const locale = options && options.locale ? options.locale : 'ru';\n  if (locale === 'ru') return rus || eng;\n  if (headline && eng && rus) return `${eng} / ${rus}`;\n  return eng || rus;\n}\n\nexport type StatusType =\n  | 'planned'\n  | 'watching'\n  | 'rewatching'\n  | 'completed'\n  | 'on_hold'\n  | 'dropped';\n\n// eslint-disable-next-line no-shadow\nexport enum statusTranslate {\n  'watching' = status.Watching,\n  'planned' = status.PlanToWatch,\n  'completed' = status.Completed,\n  'dropped' = status.Dropped,\n  'on_hold' = status.Onhold,\n  'rewatching' = status.Rewatching,\n}\n\nexport interface StatusRequest {\n  id?: number;\n  user_id: number;\n  target_id: number;\n  target_type: 'Anime' | 'Manga';\n  score: number;\n  status: StatusType;\n  rewatches: number;\n  episodes: number;\n  volumes: number;\n  chapters: number;\n  text: string;\n  text_html?: string;\n  created_at?: Date;\n  updated_at?: Date;\n}\n\nexport interface Image {\n  original: string;\n  preview: string;\n  x96: string;\n  x48: string;\n}\n\nexport interface MetaRequest {\n  id: number;\n  name: string;\n  russian: string;\n  image: Image;\n  url: string;\n  kind: string;\n  score: string;\n  status: string;\n  volumes: number;\n  chapters: number;\n  episodes: number;\n  aired_on: string;\n  released_on: string;\n}\n\nexport interface userRequest {\n  id: number;\n  nickname: string;\n  avatar: string;\n  image: {\n    x80: string;\n  };\n  url: string;\n  locale: string;\n}\n","import { ListAbstract, listElement } from '../listAbstract';\nimport * as helper from './helper';\n\nconst pageSize = 25;\n\nexport class UserList extends ListAbstract {\n  name = 'Shiki';\n\n  public seperateRewatching = true;\n\n  authenticationUrl = helper.authUrl;\n\n  tempList: helper.StatusRequest[] = [];\n\n  getUserObject() {\n    return helper.userRequest().then(res => ({\n      username: res.nickname,\n      picture: res.image.x80,\n      href: res.url,\n    }));\n  }\n\n  deauth() {\n    return api.settings.set('shikiToken', '');\n  }\n\n  _getSortingOptions() {\n    return [];\n  }\n\n  getSortingOptions() {\n    return [];\n  }\n\n  async getPart(): Promise<any> {\n    if (this.offset < 2) this.offset = 0;\n    con.log(\n      '[UserList][Shiki]',\n      `username: ${this.username}`,\n      `status: ${this.status}`,\n      `offset: ${this.offset}`,\n    );\n\n    if (!this.tempList.length) {\n      let curSt = '';\n      if (this.status !== 7) {\n        curSt = helper.statusTranslate[this.status];\n      }\n\n      const userId = await helper.userId();\n\n      this.tempList = await helper.apiCall({\n        path: `v2/user_rates`,\n        type: 'GET',\n        parameter: {\n          user_id: userId,\n          target_type: this.listType === 'anime' ? 'Anime' : 'Manga',\n          status: curSt,\n        },\n      });\n    }\n\n    const list = this.tempList.slice(this.offset, this.offset + pageSize);\n\n    this.offset += pageSize;\n\n    if (this.offset >= this.tempList.length) {\n      this.done = true;\n    }\n\n    const ids = list.map(el => el.target_id);\n\n    const metadata: helper.MetaRequest[] = await helper.apiCall({\n      path: `${this.listType}s`,\n      parameter: { ids: ids.join(','), limit: pageSize },\n      type: 'GET',\n    });\n\n    const keyedMetadata: { [key: string]: helper.MetaRequest } = {};\n    for (const key in metadata) {\n      const entry = metadata[key];\n      keyedMetadata[entry.id] = entry;\n    }\n\n    if (this.listType === 'manga') {\n      const keyedIds = Object.keys(keyedMetadata);\n      const diffArr = ids.filter((o: any) => !keyedIds.includes(o));\n      if (diffArr.length) {\n        const diffMetadata: helper.MetaRequest[] = await helper.apiCall({\n          path: `ranobe`,\n          parameter: { ids: diffArr.join(','), limit: pageSize },\n          type: 'GET',\n        });\n        for (const key in diffMetadata) {\n          const entry = diffMetadata[key];\n          keyedMetadata[entry.id] = entry;\n        }\n      }\n    }\n\n    return this.prepareData(list, keyedMetadata);\n  }\n\n  private async prepareData(\n    data: helper.StatusRequest[],\n    metadata: { [key: string]: helper.MetaRequest },\n  ): Promise<listElement[]> {\n    const newData = [] as listElement[];\n    for (const key in data) {\n      const entry = data[key];\n      const meta = metadata[entry.target_id];\n\n      // eslint-disable-next-line no-await-in-loop\n      const tempData = await this.fn({\n        malId: entry.target_id,\n        apiCacheKey: entry.target_id,\n        uid: entry.target_id,\n        cacheKey: entry.target_id,\n        type: entry.target_type === 'Anime' ? 'anime' : 'manga',\n        title: helper.title(meta.russian, meta.name),\n        url: `${helper.domain}${meta.url}`,\n        watchedEp: entry.target_type === 'Anime' ? entry.episodes : entry.chapters,\n        totalEp: entry.target_type === 'Anime' ? meta.episodes : meta.chapters,\n        status: helper.statusTranslate[entry.status],\n        score: entry.score ? entry.score : 0,\n        image: meta.image.original ? `${helper.domain}${meta.image.original}` : '',\n        imageLarge: meta.image.original ? `${helper.domain}${meta.image.original}` : '',\n        tags: entry.text,\n      });\n      newData.push(tempData);\n    }\n\n    return newData;\n  }\n}\n","export function getCacheKey(id, page) {\n  return `local:${id}:${page}`;\n}\n\nexport async function getSyncList() {\n  let data;\n\n  // @ts-ignore\n  if (api.type === 'userscript') {\n    const list = await api.storage.list('sync');\n    for (const key in list) {\n      list[key] = await api.storage.get(key);\n    }\n    data = list;\n  } else {\n    data = api.storage.list('sync');\n  }\n  return data;\n}\n\nexport function getRegex(listType) {\n  return new RegExp(`^local://[^/]*/${listType}`, 'i');\n}\n","import { ListAbstract, listElement } from '../listAbstract';\nimport * as helper from './helper';\n\nexport class UserList extends ListAbstract {\n  name = 'local';\n\n  authenticationUrl = '';\n\n  async getUserObject() {\n    return Promise.resolve({ username: 'local', picture: '', href: '' });\n  }\n\n  _getSortingOptions() {\n    return [];\n  }\n\n  async getPart() {\n    con.log('[UserList][Local]', `status: ${this.status}`);\n    this.done = true;\n    const data = await this.prepareData(await this.getSyncList(), this.listType, this.status);\n    return data;\n  }\n\n  private async prepareData(data, listType, status): Promise<listElement[]> {\n    const newData = [] as listElement[];\n    for (const key in data) {\n      if (this.getRegex(listType).test(key)) {\n        const el = data[key];\n        con.log(key, el);\n        if (status !== 7 && parseInt(el.status) !== status) {\n          continue;\n        }\n        if (listType === 'anime') {\n          newData.push(\n            await this.fn(\n              {\n                airingState: 2,\n                image: el.image ?? '',\n                imageLarge: el.image ?? '',\n                malId: 0,\n                apiCacheKey: 0,\n                tags: el.tags,\n                title: `[L] ${el.name}`,\n                totalEp: 0,\n                status: el.status,\n                score: el.score,\n                type: 'anime',\n                uid: key,\n                url: key,\n                cacheKey: this.getCacheKey(utils.urlPart(key, 4), utils.urlPart(key, 2)),\n                watchedEp: el.progress,\n              },\n              el.sUrl,\n            ),\n          );\n        } else {\n          newData.push(\n            await this.fn(\n              {\n                airingState: 2,\n                image: el.image ?? '',\n                imageLarge: el.image ?? '',\n                malId: 0,\n                apiCacheKey: 0,\n                tags: el.tags,\n                title: `[L] ${el.name}`,\n                totalEp: 0,\n                status: el.status,\n                score: el.score,\n                type: 'manga',\n                uid: key,\n                url: key,\n                cacheKey: this.getCacheKey(utils.urlPart(key, 4), utils.urlPart(key, 2)),\n                watchedEp: el.progress,\n              },\n              el.sUrl,\n            ),\n          );\n        }\n      }\n    }\n\n    con.log('data', newData);\n    return newData;\n  }\n\n  private getRegex = helper.getRegex;\n\n  protected getSyncList = helper.getSyncList;\n\n  protected getCacheKey = helper.getCacheKey;\n}\n","import * as helper from './helper';\nimport { listElement } from './listAbstract';\nimport { UserList as MalList } from './MyAnimeList_hybrid/list';\nimport { UserList as MalApiList } from './MyAnimeList_api/list';\nimport { UserList as AnilistList } from './AniList/list';\nimport { UserList as KitsuList } from './Kitsu/list';\nimport { UserList as SimklList } from './Simkl/list';\nimport { UserList as ShikiList } from './Shikimori/list';\nimport { UserList as LocalList } from './Local/list';\n\nexport async function getList(...args) {\n  let tempList: listElement[] = [];\n  if (api.settings.get('localSync')) {\n    const [status, listType] = args;\n    const localListEl = new LocalList(status, listType);\n    localListEl.modes.initProgress = true;\n    tempList = await localListEl.getCompleteList();\n  }\n\n  const list = getListObj(args);\n  list.setTemplist(tempList);\n  return list;\n}\n\nexport function getOnlyList(...args) {\n  return getListObj(args);\n}\n\nexport function getListbyType(syncMode: string, args = []) {\n  return getListObj(args, syncMode);\n}\n\nfunction getListObj(args, syncMode = '') {\n  if (!syncMode) {\n    syncMode = helper.getSyncMode(args[1] ? args[1] : 'anime');\n  }\n\n  const [status, listType, sorting] = args;\n\n  if (syncMode === 'MAL') {\n    return new MalList(status, listType, sorting);\n  }\n  if (syncMode === 'MALAPI') {\n    return new MalApiList(status, listType, sorting);\n  }\n  if (syncMode === 'ANILIST') {\n    return new AnilistList(status, listType, sorting);\n  }\n  if (syncMode === 'KITSU') {\n    return new KitsuList(status, listType, sorting);\n  }\n  if (syncMode === 'SIMKL') {\n    return new SimklList(status, listType, sorting);\n  }\n  if (syncMode === 'SHIKI') {\n    return new ShikiList(status, listType, sorting);\n  }\n  throw 'Unknown sync mode';\n}\n","import { Cache } from '../utils/Cache';\nimport { getList } from '../_provider/listFactory';\nimport { listElement } from '../_provider/listAbstract';\nimport { xhrResponseI } from '../api/messageInterface';\n\nexport interface releaseItemInterface {\n  timestamp: number;\n  value: any;\n  finished: boolean;\n  mode: string;\n}\n\nexport function initProgressScheduler() {\n  chrome.alarms.get('progressSync', async a => {\n    const progressInterval = parseInt(await api.settings.getAsync('progressInterval'));\n    const progressSyncLast = await api.storage.get('progressSyncLast');\n    if (!progressInterval) {\n      con.log('progressSync disabled', progressInterval);\n      if (a) chrome.alarms.clear('progressSync');\n      return;\n    }\n\n    if (typeof a !== 'undefined' && Date.now() - progressSyncLast < progressInterval * 60 * 1000) {\n      con.log('progressSync already set and on time', progressSyncLast, a);\n      return;\n    }\n\n    if (a) chrome.alarms.clear('progressSync');\n\n    con.log('Create progressSync Alarm', progressInterval, progressSyncLast);\n    chrome.alarms.create('progressSync', {\n      periodInMinutes: progressInterval,\n      when: Date.now() + 1000,\n    });\n  });\n\n  chrome.alarms.onAlarm.addListener(alarm => {\n    if (alarm.name === 'progressSync') {\n      api.storage.set('progressSyncLast', Date.now());\n      api.settings.init().then(async () => {\n        console.groupCollapsed('Progress');\n        await main();\n        console.groupEnd();\n      });\n    }\n  });\n}\n\nexport async function initUserProgressScheduler() {\n  setTimeout(async () => {\n    const progressInterval = await api.settings.getAsync('progressInterval');\n    const progressSyncLast = await api.storage.get('progressSyncLast');\n    if (Date.now() - progressSyncLast < progressInterval * 60 * 1000) {\n      con.log('Progress on time');\n      return;\n    }\n    if (await main()) {\n      api.storage.set('progressSyncLast', Date.now());\n    }\n  }, 30 * 1000);\n}\n\nexport async function main() {\n  try {\n    setBadgeText('⌛');\n    await api.settings.init();\n    if (!api.settings.get('epPredictions')) {\n      throw 'epPredictions disabled';\n    }\n    await listUpdateWithPOST(1, 'anime');\n    await listUpdateWithPOST(1, 'manga');\n    if (api.settings.get('loadPTWForProgress')) {\n      await listUpdateWithPOST(6, 'anime');\n      await listUpdateWithPOST(6, 'manga');\n    }\n    con.log('Progress done');\n    setBadgeText('');\n    return true;\n  } catch (e) {\n    con.log('Progress Failed', e);\n  }\n  setBadgeText('');\n  return false;\n}\n\n/*\nexport async function listUpdate(state, type) {\n  const logger = con.m('release').m(type);\n  logger.log('Start', type, state);\n  const listProvider = await getList(state, type);\n  return listProvider\n    .get()\n    .then(async list => {\n      for (let i = 0; i < list.length; i++) {\n        try {\n          if (list[i].options) {\n            await single(list[i], type, list[i].options!.p, logger);\n          }\n        } catch (e) {\n          logger.error(e);\n        }\n      }\n    })\n    .catch(e => {\n      logger.error(e);\n    });\n}\n*/\n\nexport async function listUpdateWithPOST(state, type) {\n  const logger = con.m('release').m(type);\n  logger.log('Start', type, state);\n  const listProvider = await getList(state, type);\n  return listProvider\n    .getCompleteList()\n    .then(async list => {\n      if (list.length > 0) {\n        try {\n          await multiple(list, type, logger);\n        } catch (e) {\n          logger.error(e);\n        }\n      }\n    })\n    .catch(e => {\n      logger.error(e);\n    });\n}\n\nexport async function predictionXhrGET(type: string, apiCacheKey: number | string | null) {\n  if (!apiCacheKey) return {};\n  const response = await api.request.xhr(\n    'GET',\n    `https://api.malsync.moe/nc/mal/${type}/${apiCacheKey}/pr`,\n  );\n  return JSON.parse(response.responseText);\n}\n\nexport async function predictionXhrPOST(type: string, malDATA: listElement[] | null) {\n  if (malDATA === null) return [];\n  if (malDATA.length <= 0) return [];\n  const malDATAID = malDATA.map(el => el.apiCacheKey);\n  const returnArray: xhrResponseI[] = [];\n  for (let i = 0; i <= malDATAID.length; ) {\n    const tempArray = malDATAID.slice(i, i + 49);\n    const Request = {\n      url: `https://api.malsync.moe/nc/mal/${type}/POST/pr`,\n      data: JSON.stringify({ malids: tempArray }),\n      headers: { 'Content-Type': 'application/json' },\n    };\n    await utils.wait(5000);\n    const response = await api.request.xhr('POST', Request);\n    returnArray.push(JSON.parse(response.responseText));\n    i += 50;\n  }\n\n  return returnArray.reduce((acc: xhrResponseI[], val) => acc.concat(val), []);\n}\n\nexport async function multiple(Array: listElement[], type, logger = con.m('release')) {\n  if (!Array) {\n    logger.log('No MAL Id List');\n  } else {\n    Array.forEach(el => {\n      let mode = el.options!.p;\n      if (!mode) mode = 'default';\n      logger.m(el.apiCacheKey).log(el.title, el.cacheKey, el.apiCacheKey, `Mode: ${mode}`);\n    });\n  }\n\n  if (!api.settings.get('epPredictions')) {\n    logger.log('epPredictions disabled');\n    return;\n  }\n\n  async function asyncForEach(array, callback) {\n    for (let index = 0; index < array.length; index++) {\n      await callback(array[index], index, array);\n    }\n  }\n\n  const remoteUpdateList: listElement[] = [];\n  await asyncForEach(Array, async el => {\n    if (!el.apiCacheKey) return;\n\n    const releaseItem: undefined | releaseItemInterface = await api.storage.get(\n      `release/${type}/${el.cacheKey}`,\n    );\n\n    if (releaseItem && releaseItem.value) {\n      el.fn.progress = releaseItem.value;\n    }\n\n    let mode = el.options!.p;\n    if (!mode) mode = 'default';\n    logger.m(el.apiCacheKey).m('Load').log(releaseItem);\n\n    if (releaseItem && releaseItem.mode && releaseItem.mode !== mode) {\n      remoteUpdateList.push(el);\n    } else if (\n      releaseItem &&\n      releaseItem.timestamp &&\n      Date.now() - releaseItem.timestamp < 2 * 60 * 1000\n    ) {\n      logger.m(el.apiCacheKey).log('Up to date');\n    } else if (\n      releaseItem &&\n      releaseItem.finished &&\n      releaseItem.timestamp &&\n      Date.now() - releaseItem.timestamp < 7 * 24 * 60 * 60 * 1000\n    ) {\n      logger.m(el.apiCacheKey).log('Fininshed');\n    } else if (\n      releaseItem &&\n      !releaseItem.value &&\n      releaseItem.timestamp &&\n      Date.now() - releaseItem.timestamp < 1 * 24 * 60 * 60 * 1000\n    ) {\n      logger.m(el.apiCacheKey).log('Nulled');\n    } else {\n      remoteUpdateList.push(el);\n    }\n  });\n\n  let xhrArray: any = [];\n  if (remoteUpdateList.length > 0) {\n    xhrArray = await predictionXhrPOST(type, remoteUpdateList);\n    await utils.wait(500);\n  }\n\n  xhrArray.forEach(async xhr => {\n    const elRef = remoteUpdateList.find(el => xhr.malid === el.apiCacheKey);\n    if (!elRef) {\n      return;\n    }\n    logger.m(elRef.malId).log(xhr.data);\n    let mode = elRef.options!.p;\n    if (!mode) mode = 'default';\n    const progressValue = getProgress(xhr.data, mode, type);\n\n    if (!progressValue) {\n      logger.m(elRef.malId).log('No value for the selected mode');\n    }\n    let finished = false;\n\n    if (progressValue && progressValue.state && progressValue.state === 'complete') finished = true;\n\n    logger.m(elRef.malId).m('Save').log(progressValue);\n    if (elRef.cacheKey) {\n      if (elRef && elRef.fn && elRef.fn.progress) {\n        notificationCheck(elRef, elRef.fn.progress, progressValue, type);\n      }\n      await api.storage.set(`release/${type}/${elRef.cacheKey}`, {\n        timestamp: Date.now(),\n        value: progressValue,\n        mode,\n        finished,\n      } as releaseItemInterface);\n    }\n  });\n}\n\nexport async function single(\n  el: {\n    uid: number;\n    apiCacheKey: number | string | null;\n    title: string;\n    cacheKey: string;\n    watchedEp: number;\n    single: any;\n    xhr?: object;\n  },\n  type,\n  mode = 'default',\n  logger = con.m('release'),\n) {\n  if (!mode) mode = 'default';\n  logger = logger.m(el.uid.toString());\n  logger.log(el.title, el.cacheKey, el.apiCacheKey, `Mode: ${mode}`);\n  if (!el.apiCacheKey) {\n    logger.log('No Api Cache Id');\n    return;\n  }\n  if (!api.settings.get('epPredictions')) {\n    logger.log('epPredictions disabled');\n    return;\n  }\n  const releaseItem: undefined | releaseItemInterface = await api.storage.get(\n    `release/${type}/${el.cacheKey}`,\n  );\n\n  logger.m('Load').log(releaseItem);\n\n  let force = false;\n\n  if (releaseItem && releaseItem.mode && releaseItem.mode !== mode) force = true;\n\n  if (\n    releaseItem &&\n    releaseItem.timestamp &&\n    Date.now() - releaseItem.timestamp < 2 * 60 * 1000 &&\n    !force\n  ) {\n    logger.log('Up to date');\n    return;\n  }\n\n  if (\n    releaseItem &&\n    releaseItem.finished &&\n    releaseItem.timestamp &&\n    Date.now() - releaseItem.timestamp < 7 * 24 * 60 * 60 * 1000 &&\n    !force\n  ) {\n    logger.log('Fininshed');\n    return;\n  }\n\n  if (\n    releaseItem &&\n    !releaseItem.value &&\n    releaseItem.timestamp &&\n    Date.now() - releaseItem.timestamp < 1 * 24 * 60 * 60 * 1000 &&\n    !force\n  ) {\n    logger.log('Nulled');\n    return;\n  }\n\n  if (force) logger.log('Update forced');\n\n  if (mode === 'off') {\n    logger.log('Disabled');\n    el.xhr = [];\n  }\n\n  let xhr;\n  if (typeof el.xhr !== 'undefined') {\n    xhr = el.xhr;\n  } else {\n    xhr = await predictionXhrGET(type, el.apiCacheKey);\n    await utils.wait(500);\n  }\n  logger.log(xhr);\n\n  const progressValue = getProgress(xhr, mode, type);\n\n  if (!progressValue) {\n    logger.log('No value for the selected mode');\n  }\n\n  let finished = false;\n\n  if (progressValue && progressValue.state && progressValue.state === 'complete') finished = true;\n\n  logger.m('Save').log(progressValue);\n  if (releaseItem && releaseItem.value) {\n    notificationCheck(el, releaseItem.value, progressValue, type);\n  }\n\n  await api.storage.set(`release/${type}/${el.cacheKey}`, {\n    timestamp: Date.now(),\n    value: progressValue,\n    mode,\n    finished,\n  } as releaseItemInterface);\n}\n\nexport function progressIsOld(releaseItem: releaseItemInterface) {\n  if (releaseItem && releaseItem.timestamp) {\n    const diff = new Date().getTime() - releaseItem.timestamp;\n\n    if (releaseItem.finished && diff < 7 * 24 * 60 * 60 * 1000) {\n      // logger.log('Fininshed');\n      return false;\n    }\n\n    if (!releaseItem.value && diff < 1 * 24 * 60 * 60 * 1000) {\n      // logger.log('Nulled');\n      return false;\n    }\n\n    if (diff < 1 * 24 * 60 * 60 * 1000) {\n      // logger.log('not old');\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function getProgress(res, mode, type) {\n  const config: {\n    mainId?: string;\n    fallbackPrediction?: string;\n    fallback?: string;\n  } = {};\n\n  if (!res.length) return null;\n\n  if (mode === 'default') {\n    if (type === 'anime') {\n      config.mainId = api.settings.get('progressIntervalDefaultAnime');\n    } else {\n      config.mainId = api.settings.get('progressIntervalDefaultManga');\n    }\n    config.fallback = 'en/sub';\n  } else {\n    config.mainId = mode;\n  }\n\n  config.fallbackPrediction = 'jp/dub';\n\n  let top;\n\n  if (config.mainId) {\n    const mainTemp = res.find(el => el.id === config.mainId);\n    if (mainTemp) top = mainTemp;\n  }\n\n  if (config.fallback && !top) {\n    const mainTemp = res.find(el => el.id === config.fallback);\n    if (mainTemp) top = mainTemp;\n  }\n\n  if (config.fallbackPrediction && top && !top.predicition && top.lastEp && top.lastEp.timestamp) {\n    const predTemp = res.find(el => el.id === config.fallbackPrediction);\n    const predTime = top.lastEp.timestamp + 7 * 24 * 60 * 60 * 1000;\n    if (predTime && predTemp && predTemp.predicition) {\n      if (top.lastEp.total === predTemp.lastEp.total) {\n        if (Math.abs(predTime - predTemp.predicition.timestamp) < 30 * 60 * 60 * 1000) {\n          top.predicition = {\n            timestamp: predTime,\n            probability: 'medium',\n          };\n        }\n      } else if (predTemp.lastEp.total && top.lastEp.total === predTemp.lastEp.total - 1) {\n        if (\n          Math.abs(predTime - (predTemp.predicition.timestamp - 7 * 24 * 60 * 60 * 1000)) <\n          30 * 60 * 60 * 1000\n        ) {\n          top.predicition = {\n            timestamp: predTime,\n            probability: 'medium',\n          };\n        }\n      }\n    }\n  }\n\n  // Fallback to jp if no other language found and episode 0 -> Before release\n  if (config.fallbackPrediction && !top) {\n    const predSoon = res.find(el => el.id === config.fallbackPrediction);\n    if (predSoon && predSoon.lastEp && predSoon.predicition && predSoon.lastEp.total === 0) {\n      top = predSoon;\n      top.predicition.probability = 'medium';\n    }\n  }\n\n  if (!top) return null;\n\n  return top;\n}\n\nexport async function getProgressTypeList(\n  type: 'anime' | 'manga',\n): Promise<{ key: string; label: string }[]> {\n  const cacheObj = new Cache(`ProgressTypeList${type}`, 24 * 60 * 60 * 1000, false);\n  if (!(await cacheObj.hasValueAndIsNotEmpty())) {\n    con.log('Getting new ProgressTypeList Cache');\n    const url = `https://api.malsync.moe/general/progress/${type}`;\n    const request = await api.request.xhr('GET', url).then(async response => {\n      if (response.status === 200 && response.responseText) {\n        return JSON.parse(response.responseText);\n      }\n      return [];\n    });\n    await cacheObj.setValue(request);\n    return request;\n  }\n  con.log('PageSearch Cached');\n  return cacheObj.getValue();\n}\n\nasync function notificationCheck(el, cProgress, nProgress, type) {\n  try {\n    if (\n      (type === 'anime' && !api.settings.get('progressNotificationsAnime')) ||\n      (type === 'manga' && !api.settings.get('progressNotificationsManga'))\n    ) {\n      return;\n    }\n    if (el && nProgress && nProgress) {\n      if (\n        cProgress.lastEp &&\n        typeof cProgress.lastEp.total !== 'undefined' &&\n        nProgress.lastEp &&\n        nProgress.lastEp.total &&\n        cProgress.lang === nProgress.lang &&\n        cProgress.type === nProgress.type\n      ) {\n        if (cProgress.lastEp.total < nProgress.lastEp.total) {\n          // Check if new ep is one higher than the watched one\n          if (el.watchedEp + 1 === nProgress.lastEp.total) {\n            let noti;\n            if (el.single) {\n              noti = {\n                title: el.title,\n                text: api.storage.lang(`syncPage_malObj_nextEp_${type}`, [nProgress.lastEp.total]),\n                sticky: true,\n                image: await el.single.getImage(),\n                url: el.single.getStreamingUrl() ? el.single.getStreamingUrl() : el.single.getUrl(),\n              };\n            } else {\n              noti = {\n                title: el.title,\n                text: api.storage.lang(`syncPage_malObj_nextEp_${type}`, [nProgress.lastEp.total]),\n                sticky: true,\n                image: el.image,\n                url: el.options && el.options.u ? el.options.u : el.url,\n              };\n            }\n            api.request.notification(noti);\n          }\n        }\n      }\n    }\n  } catch (e) {\n    con.error('Could not check notification Progress', e);\n  }\n}\n\nfunction setBadgeText(text: string) {\n  // @ts-ignore\n  if (api.type === 'userscript') return;\n  try {\n    chrome.browserAction.setBadgeText({ text });\n  } catch (e) {\n    con.error(e);\n  }\n}\n","/* eslint-disable operator-assignment */\n\nexport interface timeElement {\n  y: number;\n  d: number;\n  h: number;\n  m: number;\n  s: number;\n}\n\nexport function msToTime(milliseconds: number): timeElement {\n  let day;\n  let hour;\n  let minute;\n  let seconds;\n  seconds = Math.floor(milliseconds / 1000);\n  minute = Math.floor(seconds / 60);\n  seconds = seconds % 60;\n  hour = Math.floor(minute / 60);\n  minute = minute % 60;\n  day = Math.floor(hour / 24);\n  hour = hour % 24;\n  const year = Math.floor(day / 365);\n  day = day % 365;\n  return {\n    y: year,\n    d: day,\n    h: hour,\n    m: minute,\n    s: seconds,\n  };\n}\n\nexport function shortTime(el: timeElement): timeElement {\n  if (el.y > 1) {\n    if (el.d > 182) {\n      return {\n        y: el.y + 1,\n        d: 0,\n        h: 0,\n        m: 0,\n        s: 0,\n      };\n    }\n    return {\n      y: el.y,\n      d: 0,\n      h: 0,\n      m: 0,\n      s: 0,\n    };\n  }\n  if (el.y) {\n    return {\n      y: el.y,\n      d: el.d,\n      h: 0,\n      m: 0,\n      s: 0,\n    };\n  }\n  if (el.d > 3) {\n    if (el.h > 11) {\n      return {\n        y: 0,\n        d: el.d + 1,\n        h: 0,\n        m: 0,\n        s: 0,\n      };\n    }\n    return {\n      y: 0,\n      d: el.d,\n      h: 0,\n      m: 0,\n      s: 0,\n    };\n  }\n  if (el.d) {\n    return {\n      y: 0,\n      d: el.d,\n      h: el.h,\n      m: 0,\n      s: 0,\n    };\n  }\n  if (el.h > 5) {\n    if (el.m > 29) {\n      return {\n        y: 0,\n        d: 0,\n        h: el.h + 1,\n        m: 0,\n        s: 0,\n      };\n    }\n    return {\n      y: 0,\n      d: 0,\n      h: el.h,\n      m: 0,\n      s: 0,\n    };\n  }\n  if (el.h) {\n    return {\n      y: 0,\n      d: 0,\n      h: el.h,\n      m: el.m,\n      s: 0,\n    };\n  }\n  if (el.m > 14) {\n    return {\n      y: 0,\n      d: 0,\n      h: 0,\n      m: el.m,\n      s: 0,\n    };\n  }\n  return {\n    y: 0,\n    d: 0,\n    h: 0,\n    m: el.m,\n    s: el.s,\n  };\n}\n\nexport function timeToString(el: timeElement): string {\n  let output = '';\n\n  if (el.y === 1) {\n    output += ` ${el.y} ${api.storage.lang('bookmarksItem_Year')}`;\n  } else if (el.y > 1) {\n    output += ` ${el.y} ${api.storage.lang('bookmarksItem_Years')}`;\n  }\n\n  if (el.d === 1) {\n    output += ` ${el.d} ${api.storage.lang('bookmarksItem_Day')}`;\n  } else if (el.d > 1) {\n    output += ` ${el.d} ${api.storage.lang('bookmarksItem_Days')}`;\n  }\n\n  if (el.h === 1) {\n    output += ` ${el.h} ${api.storage.lang('bookmarksItem_Hour')}`;\n  } else if (el.h > 1) {\n    output += ` ${el.h} ${api.storage.lang('bookmarksItem_Hours')}`;\n  }\n\n  if (el.m === 1) {\n    output += ` ${el.m} ${api.storage.lang('bookmarksItem_min')}`;\n  } else if (el.m > 1) {\n    output += ` ${el.m} ${api.storage.lang('bookmarksItem_mins')}`;\n  }\n\n  if (el.s === 1) {\n    output += ` ${el.s} ${api.storage.lang('bookmarksItem_sec')}`;\n  } else if (el.s > 1) {\n    output += ` ${el.s} ${api.storage.lang('bookmarksItem_secs')}`;\n  }\n\n  return output.trim();\n}\n\nexport function msDiffToShortTimeString(ms: number): string {\n  return timeToString(shortTime(msToTime(ms)));\n}\n\nexport function timestampToShortTime(tm: number, ago = true): string {\n  if (!tm) return '';\n  const curTime = Date.now();\n  let diff;\n  let future;\n  if (curTime > tm) {\n    future = false;\n    diff = curTime - tm;\n  } else {\n    future = true;\n    diff = tm - curTime;\n  }\n\n  if (diff < 30 * 1000) return api.storage.lang('bookmarksItem_now');\n\n  let short = msDiffToShortTimeString(diff);\n\n  if (!future && ago) short = api.storage.lang('bookmarksItem_ago', [short]);\n\n  return short;\n}\n\nexport function timestampToShortDate(ts: number): string {\n  const date = new Date(ts);\n\n  const monthAbbreviation = date.toLocaleString('default', { month: 'short' });\n  const dayOfMonth = date.getDate();\n  const year = date.getFullYear();\n\n  return `${monthAbbreviation} ${dayOfMonth}, ${year}`;\n}\n","import {\n  releaseItemInterface,\n  progressIsOld,\n  single as updateProgress,\n} from '../background/releaseProgress';\nimport { timestampToShortTime } from './time';\n\nexport class Progress {\n  protected logger;\n\n  protected releaseItem: undefined | releaseItemInterface = undefined;\n\n  constructor(protected cacheKey: string, protected type: 'anime' | 'manga') {\n    this.logger = con.m('progress').m(cacheKey.toString());\n    return this;\n  }\n\n  // Progress\n  protected async initReleaseProgress(liveData) {\n    if (liveData) await updateProgress(liveData, this.type, liveData.progressMode);\n\n    const releaseItem: undefined | releaseItemInterface = await api.storage.get(\n      `release/${this.type}/${this.cacheKey}`,\n    );\n\n    this.logger.m('Init Release').log(releaseItem);\n    if (!releaseItem) return;\n    if (progressIsOld(releaseItem)) {\n      this.logger.log('Too old');\n      return;\n    }\n\n    this.releaseItem = releaseItem;\n  }\n\n  protected getProgressCurrentEpisode() {\n    const re = this.releaseItem;\n    if (re && re.value && re.value.lastEp && re.value.lastEp.total) return re.value.lastEp.total;\n    return null;\n  }\n\n  protected isProgressFinished() {\n    const re = this.releaseItem;\n    if (re && re.finished) return true;\n    return false;\n  }\n\n  protected getProgressPrediction() {\n    const re = this.releaseItem;\n    if (re && re.value && re.value.predicition && re.value.predicition.timestamp)\n      return re.value.predicition.timestamp;\n    return null;\n  }\n\n  protected getProgressLastTimestamp() {\n    const re = this.releaseItem;\n    if (re && re.value && re.value.lastEp && re.value.lastEp.timestamp)\n      return re.value.lastEp.timestamp;\n    return null;\n  }\n\n  // General\n  async init(\n    live:\n      | {\n          uid: number;\n          apiCacheKey: number | string | null;\n          title: string;\n          cacheKey: string;\n          progressMode: string;\n          watchedEp: number;\n          single: any;\n          xhr?: object;\n        }\n      | false = false,\n  ) {\n    await Promise.all([this.initReleaseProgress(live)]);\n\n    return this;\n  }\n\n  getCurrentEpisode(): number {\n    // @ts-ignore\n    if (!api.settings.get('epPredictions')) return null;\n    return this.getProgressCurrentEpisode();\n  }\n\n  isFinished(): boolean {\n    return this.isProgressFinished();\n  }\n\n  isAiring(): boolean {\n    return !this.isFinished();\n  }\n\n  getPredictionTimestamp(): number {\n    if (!this.getProgressPrediction() || new Date().getTime() > this.getProgressPrediction())\n      return NaN;\n    return this.getProgressPrediction();\n  }\n\n  getPrediction(): string {\n    return timestampToShortTime(this.getPredictionTimestamp());\n  }\n\n  getPredictionText(): string {\n    const pre = this.getPrediction();\n    if (pre) return api.storage.lang(`prediction_Episode_${this.type}`, [pre]);\n    return '';\n  }\n\n  getLastTimestamp(): number {\n    return this.getProgressLastTimestamp();\n  }\n\n  getLast(ago = true): string {\n    return timestampToShortTime(this.getLastTimestamp(), ago);\n  }\n\n  getLastText(): string {\n    const last = this.getLast(false);\n    if (last) return api.storage.lang(`prediction_Last_${this.type}`, [last]);\n    return '';\n  }\n\n  getAuto(): string {\n    const preT = this.getPrediction();\n    if (preT) return preT;\n    const lastT = this.getLast();\n    if (lastT) return lastT;\n    return '';\n  }\n\n  getAutoText(): string {\n    const preT = this.getPredictionText();\n    if (preT) return preT;\n    const lastT = this.getLastText();\n    if (lastT) return lastT;\n    return '';\n  }\n\n  getColor(): string {\n    return '#f57c00';\n  }\n\n  getBars(curEp, totalEp): { totalWidth: number; epWidth: number; predWidth: number } {\n    const predEp = this.getCurrentEpisode();\n    const res = {\n      totalWidth: 100,\n      epWidth: 0,\n      predWidth: 0,\n    };\n    if (!totalEp) {\n      res.totalWidth = 0;\n      if (curEp && (!predEp || curEp >= predEp)) {\n        totalEp = Math.ceil(curEp * 1.2);\n      } else if (predEp && (!curEp || curEp < predEp)) {\n        totalEp = Math.ceil(predEp * 1.2);\n      } else {\n        return res;\n      }\n    }\n    if (curEp) {\n      res.epWidth = (curEp / totalEp) * 100;\n      if (res.epWidth > 100) res.epWidth = 100;\n    }\n    if (predEp) {\n      res.predWidth = (predEp / totalEp) * 100;\n      if (res.predWidth > 100) res.predWidth = 100;\n    }\n    return res;\n  }\n}\n","/* eslint-disable max-classes-per-file */\nexport class MissingPlayerError extends Error {\n  public url;\n\n  constructor(url: string) {\n    const parts = url.split('/');\n    let domain = url;\n    if (parts.length > 2) domain = parts[2];\n    super(domain);\n    this.url = url;\n    this.name = 'MissingPlayerError';\n  }\n}\n\nexport class SafeError extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = 'SafeError';\n  }\n}\n\nexport class MissingDataError extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = 'MissingDataError';\n  }\n}\n\nexport class CustomDomainError extends Error {\n  constructor(message: string) {\n    super(message);\n    this.name = 'CustomDomainError';\n  }\n}\n","import { ScoreModeStrategy } from './ScoreModeStrategy';\n\nexport const point10: ScoreModeStrategy = {\n  ui: {\n    module: 'dropdown',\n  },\n  getOptions() {\n    return [\n      { value: 0, label: api.storage.lang('UI_Score_Not_Rated') },\n      { value: 100, label: api.storage.lang('UI_Score_Masterpiece') },\n      { value: 90, label: api.storage.lang('UI_Score_Great') },\n      { value: 80, label: api.storage.lang('UI_Score_VeryGood') },\n      { value: 70, label: api.storage.lang('UI_Score_Good') },\n      { value: 60, label: api.storage.lang('UI_Score_Fine') },\n      { value: 50, label: api.storage.lang('UI_Score_Average') },\n      { value: 40, label: api.storage.lang('UI_Score_Bad') },\n      { value: 30, label: api.storage.lang('UI_Score_VeryBad') },\n      { value: 20, label: api.storage.lang('UI_Score_Horrible') },\n      { value: 10, label: api.storage.lang('UI_Score_Appalling') },\n    ];\n  },\n  valueToOptionValue(value) {\n    if (!value) return 0;\n    if (value < 10) return 10;\n    return Math.round(value / 10) * 10;\n  },\n  optionValueToValue(optionValue) {\n    if (!optionValue) return 0;\n    return Number(optionValue);\n  },\n};\n","import * as definitions from './definitions';\n\nimport { Progress } from '../utils/progress';\nimport { predictionXhrGET } from '../background/releaseProgress';\n\nimport { emitter, globalEmit } from '../utils/emitter';\nimport { SafeError } from '../utils/errors';\nimport { errorMessage as _errorMessage } from './Errors';\nimport { point10 } from './ScoreMode/point10';\nimport { SyncTypes } from './helper';\n\nObject.seal(emitter);\n\nexport abstract class SingleAbstract {\n  constructor(protected url: string) {\n    this.handleUrl(url);\n    this.logger = con.m('[S]', '#348fff');\n    return this;\n  }\n\n  protected logger;\n\n  protected type: definitions.contentType | null = null;\n\n  protected persistanceState;\n\n  protected undoState;\n\n  protected lastError;\n\n  public abstract shortName: string;\n\n  protected abstract authenticationUrl: string;\n\n  protected rewatchingSupport = true;\n\n  protected ids = {\n    mal: NaN,\n    ani: NaN,\n    kitsu: {\n      id: NaN,\n      slug: '',\n    },\n    simkl: NaN,\n  };\n\n  protected options: {\n    u: string;\n    c: any;\n    r: any;\n    p: any;\n  } | null = null;\n\n  protected abstract handleUrl(url: string);\n\n  public getType() {\n    return this.type;\n  }\n\n  public getUrl() {\n    return this.url;\n  }\n\n  public supportsRewatching() {\n    return this.rewatchingSupport;\n  }\n\n  public abstract getCacheKey();\n\n  public abstract getPageId();\n\n  public getApiCacheKey(): string | number {\n    return this.getKey(['ANILIST']);\n  }\n\n  public getRulesCacheKey(): string | number {\n    return this.getKey(['ANILIST', 'KITSU'], false);\n  }\n\n  abstract _setStatus(status: definitions.status): void;\n\n  public setStatus(status: definitions.status): SingleAbstract {\n    status = Number(status);\n    this._setStatus(status);\n    return this;\n  }\n\n  abstract _getStatus(): definitions.status | number;\n\n  public getStatus(): definitions.status {\n    if (!this.isOnList()) return definitions.status.NoState;\n    return this._getStatus();\n  }\n\n  public getScoreMode() {\n    return point10;\n  }\n\n  abstract _setScore(score: definitions.score): void;\n\n  /**\n   * @deprecated Use setAbsoluteScore instead\n   */\n  public setScore(score: definitions.score): SingleAbstract {\n    score = parseInt(`${score}`);\n    if (!score) score = 0;\n    this._setScore(score);\n    return this;\n  }\n\n  abstract _getScore(): definitions.score;\n\n  /**\n   * @deprecated Use getAbsoluteScore instead\n   */\n  public getScore(): definitions.score {\n    const score = this._getScore();\n    if (!score) return 0;\n    return score;\n  }\n\n  abstract _setAbsoluteScore(score: definitions.score100): void;\n\n  public setAbsoluteScore(score: definitions.score100): SingleAbstract {\n    score = parseInt(`${score}`);\n    this._setAbsoluteScore(score);\n    return this;\n  }\n\n  abstract _getAbsoluteScore(): definitions.score100;\n\n  public getAbsoluteScore(): definitions.score100 {\n    const score = this._getAbsoluteScore();\n    if (!score) return 0;\n    return score;\n  }\n\n  abstract _setEpisode(episode: number): void;\n\n  public setEpisode(episode: number): SingleAbstract {\n    episode = parseInt(`${episode}`);\n    if (this.getTotalEpisodes() && episode > this.getTotalEpisodes())\n      episode = this.getTotalEpisodes();\n    this._setEpisode(episode);\n    return this;\n  }\n\n  abstract _getEpisode(): number;\n\n  public getEpisode(): number {\n    return this._getEpisode();\n  }\n\n  abstract _setVolume(volume: number): void;\n\n  public setVolume(volume: number): SingleAbstract {\n    this._setVolume(volume);\n    return this;\n  }\n\n  abstract _getVolume(): number;\n\n  public getVolume(): number {\n    return this._getVolume();\n  }\n\n  abstract _setTags(tags: string): void;\n\n  abstract _getTags(): string;\n\n  public setStreamingUrl(streamingUrl: string): SingleAbstract {\n    if (this.options) {\n      this.options.u = streamingUrl;\n    }\n    return this;\n  }\n\n  public getStreamingUrl(): string | undefined {\n    if (this.options && this.options.u) {\n      return this.options.u;\n    }\n\n    return undefined;\n  }\n\n  public cleanTags() {\n    this.options = null;\n  }\n\n  protected progress: false | Progress = false;\n\n  protected progressXhr;\n\n  public async initProgress() {\n    const xhr = await predictionXhrGET(this.getType()!, this.getApiCacheKey());\n    return new Progress(this.getCacheKey(), this.getType()!)\n      .init({\n        uid: this.getCacheKey(),\n        apiCacheKey: this.getApiCacheKey(),\n        title: this.getTitle(),\n        cacheKey: this.getCacheKey(),\n        progressMode: this.getProgressMode(),\n        watchedEp: this.getEpisode(),\n        single: this,\n        xhr,\n      })\n      .then(progress => {\n        this.updateProgress = false;\n        this.progress = progress;\n        this.progressXhr = xhr;\n      });\n  }\n\n  public getProgress() {\n    if (!this.progress) return false;\n    return this.progress;\n  }\n\n  public getProgressFormated() {\n    const op: {\n      label: string;\n      key: string;\n      state: 'complete' | 'ongoing' | 'dropped' | 'discontinued';\n      type: 'dub' | 'sub';\n      dropped: boolean;\n      episode: Number;\n      lastEp?: {\n        total: number;\n        timestamp?: number;\n      };\n      predicition?: {\n        timestamp: number;\n        probability: 'low' | 'medium' | 'high';\n      };\n    }[] = [];\n    const languageNames = new Intl.DisplayNames('en', { type: 'language' });\n    con.log(this.progressXhr);\n    if (this.progressXhr && Object.keys(this.progressXhr).length) {\n      this.progressXhr.forEach(el => {\n        op.push({\n          type: el.type,\n          key: el.id,\n          state: el.state,\n          label: languageNames.of(el.lang.replace(/^jp$/, 'ja')) || el.lang,\n          dropped: el.state === 'dropped' || el.state === 'discontinued',\n          episode: el.lastEp && el.lastEp.total ? el.lastEp.total : 0,\n          lastEp: el.lastEp,\n          predicition: el.prediction,\n        });\n      });\n    }\n    return op;\n  }\n\n  public getProgressOptions() {\n    return this.getProgressFormated().filter(el => el.state !== 'complete');\n  }\n\n  public getProgressCompleted() {\n    return this.getProgressFormated().filter(el => el.state === 'complete');\n  }\n\n  private updateProgress = false;\n\n  public getProgressMode(): string {\n    if (this.options && this.options.p) {\n      return this.options.p;\n    }\n\n    return '';\n  }\n\n  public setProgressMode(mode: string): void {\n    if (this.options) {\n      this.options.p = mode;\n      this.updateProgress = true;\n    }\n    if (!api.settings.get('malTags')) {\n      utils\n        .setEntrySettings(this.type, this.getCacheKey(), this.options, this._getTags())\n        .then(() => this.initProgress());\n    }\n  }\n\n  public getProgressKey() {\n    let mode = this.getProgressMode();\n\n    if (!mode) {\n      if (this.getType() === 'anime') {\n        mode = api.settings.get('progressIntervalDefaultAnime');\n      } else {\n        mode = api.settings.get('progressIntervalDefaultManga');\n      }\n    }\n\n    if (!mode) return null;\n\n    const res = /^([^/]*)\\/(.*)$/.exec(mode);\n\n    if (!res) return null;\n\n    return {\n      key: mode,\n      lang: res[1],\n      type: res[2],\n    };\n  }\n\n  public getPageRelations(): { name: string; icon: string; link: string }[] {\n    const name = this.shortName;\n    const res: { name: string; icon: string; link: string }[] = [];\n\n    if (this.ids.mal && name !== 'MAL') {\n      res.push({\n        name: 'MAL',\n        icon: 'https://cdn.myanimelist.net/images/favicon.ico',\n        link: `https://myanimelist.net/${this.type}/${this.ids.mal}`,\n      });\n    }\n\n    if (this.ids.ani && name !== 'AniList') {\n      res.push({\n        name: 'AniList',\n        icon: 'https://anilist.co/img/icons/favicon-32x32.png',\n        link: `https://anilist.co/${this.type}/${this.ids.ani}`,\n      });\n    }\n\n    if (this.ids.kitsu.id && name !== 'Kitsu') {\n      res.push({\n        name: 'Kitsu',\n        icon: 'https://kitsu.io/favicon-32x32-3e0ecb6fc5a6ae681e65dcbc2bdf1f17.png',\n        link: `https://kitsu.io/${this.type}/${this.ids.kitsu.id}`,\n      });\n    }\n\n    if (this.ids.simkl && name !== 'Simkl') {\n      res.push({\n        name: 'Simkl',\n        icon: 'https://eu.simkl.in/img_favicon/v2/favicon-32x32.png',\n        link: `https://simkl.com/${this.type}/${this.ids.simkl}`,\n      });\n    }\n\n    return res;\n  }\n\n  public fillRelations(): Promise<void> {\n    return Promise.resolve();\n  }\n\n  abstract _update(): Promise<void>;\n\n  public update(): Promise<void> {\n    this.logger.log('[SINGLE]', 'Update info', this.ids);\n    this.lastError = null;\n    return this._update()\n      .catch(e => {\n        this.lastError = e;\n        throw e;\n      })\n      .then(() => {\n        this.persistanceState = this.getStateEl();\n\n        return utils.getEntrySettings(this.type, this.getCacheKey(), this._getTags());\n      })\n      .then(options => {\n        this.options = options;\n        this.registerEvent();\n        this.emitUpdate('state');\n      });\n  }\n\n  abstract _sync(): Promise<void>;\n\n  public async sync(): Promise<void> {\n    this.logger.log('[SINGLE]', 'Sync', this.ids);\n    this.lastError = null;\n    this._setTags(\n      await utils.setEntrySettings(this.type, this.getCacheKey(), this.options, this._getTags()),\n    );\n    return this._sync()\n      .catch(e => {\n        this.lastError = e;\n        throw e;\n      })\n      .then(() => {\n        this.undoState = this.persistanceState;\n        if (this.updateProgress) this.initProgress();\n        this._onList = true;\n        this.emitUpdate();\n      });\n  }\n\n  public emitUpdate(action: 'update' | 'state' = 'update') {\n    globalEmit(`${action}.${this.getCacheKey()}`, {\n      id: this.getPageId(),\n      type: this.getType(),\n      cacheKey: this.getCacheKey(),\n      state: this.getStateEl(),\n      meta: {\n        title: this.getTitle(),\n        image: this.getImage(),\n        malId: this.getMalId(),\n        totalEp: this.getTotalEpisodes(),\n        url: this.getUrl(),\n      },\n    });\n  }\n\n  abstract _delete(): Promise<void>;\n\n  public async delete(): Promise<void> {\n    return this._delete().then(() => {\n      this._onList = false;\n      globalEmit(`delete.${this.getCacheKey()}`, {\n        id: this.getPageId(),\n        type: this.getType(),\n        cacheKey: this.getCacheKey(),\n      });\n    });\n  }\n\n  protected globalUpdateEvent;\n\n  protected registerEvent() {\n    if (!this.globalUpdateEvent) {\n      this.globalUpdateEvent = emitter.on(`update.${this.getCacheKey()}`, data =>\n        this.updateEvent(data),\n      );\n    }\n  }\n\n  protected updateEvent(data) {\n    if (this.isDirty()) {\n      this.logger.log('Ignore event');\n      return;\n    }\n\n    if (data && data.state) {\n      this.setStateEl(data.state);\n      this.persistanceState = this.getStateEl();\n      emitter.emit('syncPage_fillUi');\n    }\n  }\n\n  public isDirty(): boolean {\n    return (\n      JSON.stringify(this.persistanceState) !== JSON.stringify(this.getStateEl()) ||\n      this.updateProgress\n    );\n  }\n\n  public undo(): Promise<void> {\n    this.logger.log('[SINGLE]', 'Undo', this.undoState);\n    if (!this.undoState) throw new SafeError('No undo state found');\n    if (!this.undoState.onList) {\n      // @ts-ignore\n      if (typeof this.delete === 'undefined') throw new Error('Deleting an entry is not supported');\n      // @ts-ignore\n      return this.delete().then(() => {\n        this.setStateEl(this.undoState);\n        this.undoState = null;\n      });\n    }\n    this.setStateEl(this.undoState);\n    return this.sync().then(() => {\n      this.undoState = null;\n    });\n  }\n\n  abstract _getTitle(raw: boolean): string;\n\n  public getTitle(raw = false) {\n    return this._getTitle(raw);\n  }\n\n  abstract _getTotalEpisodes(): number;\n\n  public getTotalEpisodes() {\n    let eps = this._getTotalEpisodes();\n    if (!eps) eps = 0;\n    return eps;\n  }\n\n  abstract _getTotalVolumes(): number;\n\n  public getTotalVolumes() {\n    return this._getTotalVolumes();\n  }\n\n  protected _onList = false;\n\n  public isOnList() {\n    return this._onList;\n  }\n\n  protected _authenticated = false;\n\n  public isAuthenticated() {\n    return this._authenticated;\n  }\n\n  abstract _getDisplayUrl(): string;\n\n  public getDisplayUrl(): string {\n    return this._getDisplayUrl();\n  }\n\n  public getMalUrl(): string | null {\n    if (!Number.isNaN(this.ids.mal)) {\n      return `https://myanimelist.net/${this.getType()}/${this.ids.mal}`;\n    }\n    return null;\n  }\n\n  public getMalId(): number | null {\n    if (!Number.isNaN(this.ids.mal)) {\n      return this.ids.mal;\n    }\n    return null;\n  }\n\n  public getIds() {\n    return this.ids;\n  }\n\n  abstract _getImage(): string;\n\n  public getImage(): string {\n    return this._getImage();\n  }\n\n  public setImage?(url: string): void;\n\n  abstract _getRating(): Promise<string>;\n\n  public getRating(): Promise<string> {\n    return this._getRating().then(rating => {\n      if (!rating) return 'N/A';\n      return rating;\n    });\n  }\n\n  public setResumeWatching(url: string, ep: number) {\n    return utils.setResumeWaching(url, ep, this.type, this.getCacheKey());\n  }\n\n  public getResumeWatching(): { url: string; ep: number } | null {\n    if (this.options && this.options.r) return this.options.r;\n    return null;\n  }\n\n  public setContinueWatching(url: string, ep: number) {\n    return utils.setContinueWaching(url, ep, this.type, this.getCacheKey());\n  }\n\n  public getContinueWatching(): { url: string; ep: number } | null {\n    if (this.options && this.options.c) return this.options.c;\n    return null;\n  }\n\n  public increaseRewatchCount(): void {\n    //  do nothing\n  }\n\n  getStateEl() {\n    return {\n      onList: this.isOnList(),\n      episode: this.getEpisode(),\n      volume: this.getVolume(),\n      status: this.getStatus(),\n      score: this.getScore(),\n      absoluteScore: this.getAbsoluteScore(),\n    };\n  }\n\n  setStateEl(state) {\n    this._onList = state.onList;\n    this.setEpisode(state.episode);\n    this.setVolume(state.volume);\n    this.setStatus(state.status);\n    this.setScore(state.score);\n    if (state.absoluteScore) this.setAbsoluteScore(state.absoluteScore);\n  }\n\n  getStateDiff() {\n    const persistance = this.getStateEl();\n    if (persistance && this.undoState) {\n      const diff: any = {};\n      for (const key in persistance) {\n        if (persistance[key] !== this.undoState[key]) {\n          diff[key] = persistance[key];\n        }\n      }\n      return diff;\n    }\n    return undefined;\n  }\n\n  public async checkSync(episode: number, volume?: number): Promise<boolean> {\n    const curEpisode = this.getEpisode();\n    const curStatus = this.getStatus();\n    const curVolume = this.getVolume();\n\n    if (curStatus === definitions.status.Completed) {\n      if (episode === 1) {\n        return this.startRewatchingMessage();\n      }\n      return false;\n    }\n\n    if (\n      curEpisode >= episode &&\n      // Novel Volume\n      !(\n        typeof volume !== 'undefined' &&\n        (curVolume || volume > 1 || !episode) &&\n        volume > curVolume\n      )\n    ) {\n      return false;\n    }\n\n    if (episode && episode === this.getTotalEpisodes()) {\n      if (curStatus === definitions.status.Rewatching) {\n        await this.finishRewatchingMessage();\n      } else {\n        await this.finishWatchingMessage();\n      }\n      return true;\n    }\n\n    if (curStatus !== definitions.status.Watching && curStatus !== definitions.status.Rewatching) {\n      return this.startWatchingMessage();\n    }\n\n    return true;\n  }\n\n  public async startWatchingMessage() {\n    return utils\n      .flashConfirm(api.storage.lang(`syncPage_flashConfirm_start_${this.getType()}`), 'add')\n      .then(res => {\n        if (res) this.setStatus(definitions.status.Watching);\n        return res;\n      });\n  }\n\n  public async finishWatchingMessage(): Promise<boolean> {\n    const currentScore = this.getScoreCheckboxValue();\n\n    let checkHtml =\n      '<div><select id=\"finish_score\" style=\"margin-top:5px; color:white; background-color:#4e4e4e; border: none;\">';\n    this.getScoreCheckbox().forEach(el => {\n      checkHtml += `<option value=\"${el.value}\" ${currentScore === el.value ? 'selected' : ''}>${\n        el.label\n      }</option>`;\n    });\n    checkHtml += '</select></div>';\n\n    return utils\n      .flashConfirm(api.storage.lang('syncPage_flashConfirm_complete') + checkHtml, 'complete')\n      .then(res => {\n        if (res) {\n          this.setStatus(definitions.status.Completed);\n          const finishScore = Number(j.$('#finish_score').val());\n          if (finishScore > 0) {\n            this.logger.log(`finish_score: ${j.$('#finish_score :selected').val()}`);\n            this.handleScoreCheckbox(j.$('#finish_score :selected').val());\n          }\n        }\n\n        return res;\n      });\n  }\n\n  public async startRewatchingMessage(): Promise<boolean> {\n    return utils\n      .flashConfirm(\n        api.storage.lang(`syncPage_flashConfirm_rewatch_start_${this.getType()}`),\n        'add',\n      )\n      .then(res => {\n        if (res) this.setStatus(definitions.status.Rewatching);\n        return res;\n      });\n  }\n\n  public async finishRewatchingMessage(): Promise<boolean> {\n    return utils\n      .flashConfirm(\n        api.storage.lang(`syncPage_flashConfirm_rewatch_finish_${this.getType()}`),\n        'complete',\n      )\n      .then(res => {\n        if (res) {\n          this.setStatus(definitions.status.Completed);\n          this.increaseRewatchCount();\n        }\n        return res;\n      });\n  }\n\n  public getScoreCheckbox() {\n    return this.getScoreMode().getOptions();\n  }\n\n  public getScoreCheckboxValue() {\n    return this.getScoreMode().valueToOptionValue(this.getAbsoluteScore());\n  }\n\n  public handleScoreCheckbox(value) {\n    this.setAbsoluteScore(this.getScoreMode().optionValueToValue(value));\n  }\n\n  public getDisplayScoreCheckbox() {\n    const curScore = this.getScoreCheckboxValue();\n    const labelEl = this.getScoreCheckbox().filter(el => el.value === curScore);\n    if (labelEl.length) return labelEl[0].label;\n    return '';\n  }\n\n  public getStatusCheckbox() {\n    const statusEs = [\n      {\n        value: '1',\n        label: api.storage.lang(`UI_Status_watching_${this.getType()}`),\n      },\n      { value: '2', label: api.storage.lang('UI_Status_Completed') },\n      { value: '3', label: api.storage.lang('UI_Status_OnHold') },\n      { value: '4', label: api.storage.lang('UI_Status_Dropped') },\n      {\n        value: '6',\n        label: api.storage.lang(`UI_Status_planTo_${this.getType()}`),\n      },\n    ];\n\n    if (this.rewatchingSupport) {\n      statusEs.push({\n        value: '23',\n        label: api.storage.lang(`UI_Status_Rewatching_${this.getType()}`),\n      });\n    }\n\n    return statusEs;\n  }\n\n  public handleStatusCheckbox(value) {\n    this.setStatus(value);\n  }\n\n  public getStatusCheckboxValue() {\n    return this.getStatus();\n  }\n\n  public getKey(allowed: SyncTypes[], forceMal = true) {\n    if (forceMal && this.ids.mal) return this.ids.mal;\n    if (this.ids.ani && allowed.includes('ANILIST')) return `anilist:${this.ids.ani}`;\n    if (this.ids.kitsu.id && allowed.includes('KITSU')) return `kitsu:${this.ids.kitsu.id}`;\n    if (this.ids.simkl && allowed.includes('SIMKL')) return `simkl:${this.ids.simkl}`;\n    return this.ids.mal;\n  }\n\n  public getLastError() {\n    return this.lastError;\n  }\n\n  public getLastErrorMessage() {\n    return this.errorMessage(this.getLastError());\n  }\n\n  flashmError(error) {\n    utils.flashm(this.errorMessage(error), { error: true, type: 'error' });\n  }\n\n  errorMessage(error) {\n    return _errorMessage(error, this.authenticationUrl);\n  }\n}\n","import { Single as temp } from '../MyAnimeList_api/single';\n\nexport const Single = temp;\n","import { SingleAbstract } from '../singleAbstract';\nimport { NotAutenticatedError, UrlNotSupportedError } from '../Errors';\nimport * as helper from './helper';\nimport { malToAnilist } from '../AniList/helper';\nimport { Cache } from '../../utils/Cache';\nimport { returnYYYYMMDD } from '../../utils/general';\n\nexport class Single extends SingleAbstract {\n  constructor(protected url: string) {\n    super(url);\n    this.logger = con.m(this.shortName, '#2e51a2');\n    return this;\n  }\n\n  private animeInfo: any;\n\n  private displayUrl = '';\n\n  private pending = false;\n\n  shortName = 'MAL';\n\n  authenticationUrl = helper.authenticationUrl;\n\n  protected handleUrl(url) {\n    if (url.match(/myanimelist\\.net\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.ids.mal = Number(utils.urlPart(url, 4));\n      return;\n    }\n    throw new UrlNotSupportedError(url);\n  }\n\n  getCacheKey() {\n    return this.ids.mal;\n  }\n\n  getPageId() {\n    return this.ids.mal;\n  }\n\n  _getStatus() {\n    let curSt;\n    if (this.type === 'manga') {\n      curSt = parseInt(helper.mangaStatus[this.animeInfo.my_list_status.status]);\n    } else {\n      curSt = parseInt(helper.animeStatus[this.animeInfo.my_list_status.status]);\n    }\n    if (this.getRewatching() && curSt === 2) return 23;\n    return curSt;\n  }\n\n  _setStatus(status) {\n    if (status === 23) {\n      status = 2;\n      this.setRewatching(true);\n    } else {\n      this.setRewatching(false);\n    }\n    if (this.type === 'manga') {\n      this.animeInfo.my_list_status.status = helper.mangaStatus[status];\n      return;\n    }\n    this.animeInfo.my_list_status.status = helper.animeStatus[status];\n  }\n\n  increaseRewatchCount(): void {\n    if (this.type === 'manga') {\n      this.animeInfo.my_list_status.num_times_reread++;\n    } else {\n      this.animeInfo.my_list_status.num_times_rewatched++;\n    }\n  }\n\n  _getScore() {\n    return this.animeInfo.my_list_status.score;\n  }\n\n  _setScore(score) {\n    this.animeInfo.my_list_status.score = score;\n  }\n\n  _getAbsoluteScore() {\n    return this.getScore() * 10;\n  }\n\n  _setAbsoluteScore(score) {\n    if (!score) {\n      this.setScore(0);\n      return;\n    }\n    if (score < 10) {\n      this.setScore(1);\n      return;\n    }\n\n    this.setScore(Math.round(score / 10));\n  }\n\n  _getEpisode() {\n    if (this.type === 'manga') {\n      return this.animeInfo.my_list_status.num_chapters_read;\n    }\n    return this.animeInfo.my_list_status.num_watched_episodes;\n  }\n\n  _setEpisode(episode) {\n    if (!episode) episode = 0;\n    if (this.type === 'manga') {\n      this.animeInfo.my_list_status.num_chapters_read = episode;\n      return;\n    }\n    this.animeInfo.my_list_status.num_watched_episodes = episode;\n  }\n\n  _getVolume() {\n    if (this.type === 'manga') {\n      return this.animeInfo.my_list_status.num_volumes_read;\n    }\n    return 0;\n  }\n\n  _setVolume(volume) {\n    if (this.type === 'manga') {\n      this.animeInfo.my_list_status.num_volumes_read = volume;\n    }\n  }\n\n  _getTags() {\n    if (!this.animeInfo.my_list_status.tags.length) {\n      return '';\n    }\n    return this.animeInfo.my_list_status.tags.join(',');\n  }\n\n  _setTags(tags) {\n    if (!tags || tags.trim() === ',') {\n      this.animeInfo.my_list_status.tags = [];\n      return;\n    }\n    this.animeInfo.my_list_status.tags = tags.split(',');\n  }\n\n  private getRewatching(): boolean {\n    if (this.type === 'manga') {\n      return this.animeInfo.my_list_status.is_rereading;\n    }\n    return this.animeInfo.my_list_status.is_rewatching;\n  }\n\n  private setRewatching(state: boolean) {\n    if (this.type === 'manga') {\n      this.animeInfo.my_list_status.is_rereading = state;\n      return;\n    }\n    this.animeInfo.my_list_status.is_rewatching = state;\n  }\n\n  _getTitle() {\n    return this.animeInfo.title;\n  }\n\n  _getTotalEpisodes() {\n    if (this.type === 'manga') {\n      return this.animeInfo.num_chapters;\n    }\n    return this.animeInfo.num_episodes;\n  }\n\n  _getTotalVolumes() {\n    if (this.type === 'manga') {\n      return this.animeInfo.num_volumes;\n    }\n    return 0;\n  }\n\n  _getDisplayUrl() {\n    return this.url;\n  }\n\n  _getImage() {\n    return this.animeInfo.main_picture?.medium ?? '';\n  }\n\n  _getRating() {\n    return Promise.resolve(this.animeInfo.mean);\n  }\n\n  async _update() {\n    return this.apiCall({\n      type: 'GET',\n      path: `${this.type}/${this.ids.mal}`,\n      fields: [\n        'my_list_status{tags,is_rewatching,is_rereading,num_times_rewatched,num_times_reread,start_date,finish_date}',\n        'num_episodes',\n        'mean',\n        // Manga\n        'num_chapters',\n        'num_volumes',\n      ],\n    })\n      .catch(e => {\n        if (e instanceof NotAutenticatedError) {\n          this._authenticated = false;\n        }\n        throw e;\n      })\n      .then(res => {\n        this.logger.m('Api').log(res);\n        this._authenticated = true;\n        this.animeInfo = res;\n        this._onList = true;\n        if (!this.animeInfo.my_list_status) {\n          this._onList = false;\n          if (this.type === 'manga') {\n            this.animeInfo.my_list_status = {\n              is_rereading: false,\n              num_chapters_read: 0,\n              num_volumes_read: 0,\n              score: 0,\n              status: 'plan_to_read',\n              tags: [],\n            };\n          } else {\n            this.animeInfo.my_list_status = {\n              is_rewatching: false,\n              num_watched_episodes: 0,\n              score: 0,\n              status: 'plan_to_watch',\n              tags: [],\n            };\n          }\n        }\n\n        // Handle api bug\n        if (\n          this.animeInfo.my_list_status &&\n          typeof this.animeInfo.my_list_status.num_episodes_watched !== 'undefined'\n        ) {\n          this.animeInfo.my_list_status.num_watched_episodes =\n            this.animeInfo.my_list_status.num_episodes_watched;\n          delete this.animeInfo.my_list_status.num_episodes_watched;\n        }\n      });\n  }\n\n  async _sync() {\n    if (\n      typeof this.animeInfo.my_list_status.start_date === 'undefined' &&\n      this._getStatus() === 1 &&\n      this._getEpisode() > 0\n    ) {\n      this.animeInfo.my_list_status.start_date = returnYYYYMMDD();\n    }\n\n    if (\n      typeof this.animeInfo.my_list_status.finish_date === 'undefined' &&\n      this._getStatus() === 2\n    ) {\n      this.animeInfo.my_list_status.finish_date = returnYYYYMMDD();\n\n      if (typeof this.animeInfo.my_list_status.start_date === 'undefined') {\n        this.animeInfo.my_list_status.start_date = returnYYYYMMDD();\n      }\n    }\n\n    const sentData = {};\n    for (const property in this.animeInfo.my_list_status) {\n      switch (property) {\n        case 'priority':\n        case 'num_watched_episodes':\n        case 'num_volumes_read':\n        case 'num_chapters_read':\n        case 'score':\n        case 'is_rewatching':\n        case 'is_rereading':\n        case 'num_times_rewatched':\n        case 'num_times_reread':\n        case 'rewatch_value':\n        case 'reread_value':\n        case 'tags':\n        case 'comments':\n        case 'status':\n        case 'start_date':\n        case 'finish_date':\n          sentData[property] = this.animeInfo.my_list_status[property];\n          break;\n        default:\n      }\n    }\n    this.logger.m('Sync').log(this.ids.mal, sentData);\n    return this.apiCall({\n      type: 'PUT',\n      path: `${this.type}/${this.ids.mal}/my_list_status`,\n      dataObj: sentData,\n    }).then(res => {\n      this.logger.m('Sync').log('res', res);\n    });\n  }\n\n  _delete() {\n    return this.apiCall({\n      type: 'DELETE',\n      path: `${this.type}/${this.ids.mal}/my_list_status`,\n    });\n  }\n\n  public async fillRelations(): Promise<void> {\n    const cacheObj = new Cache(\n      `fillRelations/${this.ids.mal}/${this.getType()}`,\n      7 * 24 * 60 * 60 * 1000,\n    );\n\n    return cacheObj.hasValueAndIsNotEmpty().then(exists => {\n      if (!exists) {\n        return malToAnilist(this.ids.mal, this.getType()!).then(el => {\n          if (el && parseInt(el)) {\n            this.ids.ani = parseInt(el);\n          }\n          return cacheObj.setValue({ da: el });\n        });\n      }\n      return cacheObj.getValue().then(res => {\n        if (res && res.da && parseInt(res.da)) {\n          this.ids.ani = parseInt(res.da);\n        }\n      });\n    });\n  }\n\n  apiCall = helper.apiCall;\n}\n","import { ScoreModeStrategy } from './ScoreModeStrategy';\n\nexport const point100: ScoreModeStrategy = {\n  ui: {\n    module: 'input',\n    pattern: '^([0-9]{1,2}|100)$',\n  },\n  getOptions() {\n    const resArr = [{ value: 0, label: api.storage.lang('UI_Score_Not_Rated') }];\n    for (let i = 1; i < 101; i++) {\n      resArr.push({ value: i, label: String(i) });\n    }\n    return resArr;\n  },\n  valueToOptionValue(value) {\n    if (!value) return 0;\n    return Number(value);\n  },\n  optionValueToValue(optionValue) {\n    if (!optionValue) return 0;\n    return Number(optionValue);\n  },\n};\n","import { ScoreModeStrategy } from './ScoreModeStrategy';\n\nexport const smiley3: ScoreModeStrategy = {\n  ui: {\n    module: 'click',\n    type: 'smiley',\n  },\n  getOptions() {\n    return [\n      { value: 0, label: api.storage.lang('UI_Score_Not_Rated') },\n      { value: 85, label: '🙂' },\n      { value: 60, label: '😐' },\n      { value: 35, label: '🙁' },\n    ];\n  },\n  valueToOptionValue(value) {\n    if (!value) return 0;\n    if (value >= 73) return 85;\n    if (value <= 47) return 35;\n    return 60;\n  },\n  optionValueToValue(optionValue) {\n    if (!optionValue) return 0;\n    return Number(optionValue);\n  },\n};\n","import { ScoreModeStrategy } from './ScoreModeStrategy';\n\nexport const stars5: ScoreModeStrategy = {\n  ui: {\n    module: 'click',\n    type: 'star',\n  },\n  getOptions() {\n    return [\n      { value: 0, label: api.storage.lang('UI_Score_Not_Rated') },\n      { value: 90, label: '★★★★★' },\n      { value: 70, label: '★★★★' },\n      { value: 50, label: '★★★' },\n      { value: 30, label: '★★' },\n      { value: 10, label: '★' },\n    ];\n  },\n  valueToOptionValue(value) {\n    if (!value) return 0;\n    if (value < 20) return 10;\n    if (value < 40) return 30;\n    if (value < 60) return 50;\n    if (value < 80) return 70;\n    return 90;\n  },\n  optionValueToValue(optionValue) {\n    if (!optionValue) return 0;\n    return Number(optionValue);\n  },\n};\n","import { ScoreModeStrategy } from './ScoreModeStrategy';\n\nexport const point100decimal: ScoreModeStrategy = {\n  ui: {\n    module: 'input',\n    pattern: '^([0-9](\\\\.[0-9]?)?|10(.0)?)$',\n  },\n  getOptions() {\n    const resArr = [{ value: 0, label: api.storage.lang('UI_Score_Not_Rated') }];\n    for (let i = 1; i < 101; i++) {\n      resArr.push({ value: i / 10, label: (i / 10).toFixed(1) });\n    }\n    return resArr;\n  },\n  valueToOptionValue(value) {\n    if (!value) return 0;\n    return Number(value / 10);\n  },\n  optionValueToValue(optionValue) {\n    if (!optionValue) return 0;\n    return Number(optionValue * 10);\n  },\n};\n","import { SingleAbstract } from '../singleAbstract';\nimport * as helper from './helper';\nimport { NotAutenticatedError, UrlNotSupportedError } from '../Errors';\nimport { point100 } from '../ScoreMode/point100';\nimport { point10 } from '../ScoreMode/point10';\nimport { smiley3 } from '../ScoreMode/smiley3';\nimport { stars5 } from '../ScoreMode/stars5';\nimport { point100decimal } from '../ScoreMode/point100decimal';\n\nexport class Single extends SingleAbstract {\n  constructor(protected url: string) {\n    super(url);\n    this.logger = con.m(this.shortName, '#3db4f2');\n    return this;\n  }\n\n  private animeInfo: any;\n\n  private displayUrl = '';\n\n  shortName = 'AniList';\n\n  authenticationUrl =\n    'https://anilist.co/api/v2/oauth/authorize?client_id=1487&response_type=token';\n\n  protected handleUrl(url) {\n    if (url.match(/anilist\\.co\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.ids.ani = Number(utils.urlPart(url, 4));\n      return;\n    }\n    if (url.match(/myanimelist\\.net\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.ids.mal = Number(utils.urlPart(url, 4));\n      return;\n    }\n    throw new UrlNotSupportedError(url);\n  }\n\n  getCacheKey() {\n    return this.getKey(['ANILIST']);\n  }\n\n  getPageId() {\n    return this.ids.ani;\n  }\n\n  _getStatus() {\n    return parseInt(helper.statusTranslate[this.animeInfo.mediaListEntry.status]);\n  }\n\n  _setStatus(status) {\n    this.animeInfo.mediaListEntry.status = helper.statusTranslate[status];\n  }\n\n  _getScore() {\n    if (Number(this.animeInfo.mediaListEntry.score) === 0) return 0;\n    const score = Math.round(Number(this.animeInfo.mediaListEntry.score) / 10);\n    if (score === 0) return 1;\n    return score;\n  }\n\n  _setScore(score) {\n    this.animeInfo.mediaListEntry.score = score * 10;\n  }\n\n  _getAbsoluteScore() {\n    return Number(this.animeInfo.mediaListEntry.score);\n  }\n\n  _setAbsoluteScore(score) {\n    this.animeInfo.mediaListEntry.score = Number(score);\n  }\n\n  _getEpisode() {\n    return this.animeInfo.mediaListEntry.progress;\n  }\n\n  _setEpisode(episode) {\n    this.animeInfo.mediaListEntry.progress = parseInt(`${episode}`);\n  }\n\n  _getVolume() {\n    return this.animeInfo.mediaListEntry.progressVolumes;\n  }\n\n  _setVolume(volume) {\n    this.animeInfo.mediaListEntry.progressVolumes = volume;\n  }\n\n  _getTags() {\n    let tags = this.animeInfo.mediaListEntry.notes;\n    if (tags === null || tags === 'null') tags = '';\n    return tags;\n  }\n\n  _setTags(tags) {\n    this.animeInfo.mediaListEntry.notes = tags;\n  }\n\n  _getTitle() {\n    return this.animeInfo.title.userPreferred;\n  }\n\n  _getTotalEpisodes() {\n    const eps = this.animeInfo.episodes ? this.animeInfo.episodes : this.animeInfo.chapters;\n    if (eps === null) return 0;\n    return eps;\n  }\n\n  _getTotalVolumes() {\n    const vol = this.animeInfo.volumes;\n    if (!vol) return 0;\n    return vol;\n  }\n\n  _getDisplayUrl() {\n    return this.displayUrl !== '' && this.displayUrl !== null ? this.displayUrl : this.url;\n  }\n\n  _getImage() {\n    return helper.imgCheck(this.animeInfo.coverImage.large);\n  }\n\n  _getRating() {\n    return Promise.resolve(this.animeInfo.averageScore);\n  }\n\n  async _update() {\n    let selectId = this.ids.mal;\n    let selectQuery = 'idMal';\n    if (Number.isNaN(this.ids.mal)) {\n      selectId = this.ids.ani;\n      selectQuery = 'id';\n    }\n\n    const query = `\n    query ($id: Int, $type: MediaType) {\n      Media (${selectQuery}: $id, type: $type) {\n        id\n        idMal\n        siteUrl\n        episodes\n        chapters\n        volumes\n        averageScore\n        coverImage{\n          large\n        }\n        title {\n          userPreferred\n        }\n        mediaListEntry {\n          id\n          status\n          progress\n          progressVolumes\n          score(format: POINT_100)\n          repeat\n          notes\n        }\n      }\n    }\n    `;\n    const variables = {\n      id: selectId,\n      type: this.type!.toUpperCase(),\n    };\n\n    this._authenticated = true;\n\n    return this.apiCall(query, variables)\n      .catch(e => {\n        if (e instanceof NotAutenticatedError) {\n          this._authenticated = false;\n          return this.apiCall(query, variables, false);\n        }\n        throw e;\n      })\n      .then(json => {\n        this.logger.log('[SINGLE]', 'Data', json);\n\n        this.animeInfo = json.data.Media;\n\n        this.ids.ani = this.animeInfo.id;\n        if (Number.isNaN(this.ids.mal) && this.animeInfo.idMal) {\n          this.ids.mal = this.animeInfo.idMal;\n        }\n\n        this.displayUrl = this.animeInfo.siteUrl;\n        this._onList = true;\n        if (this.animeInfo.mediaListEntry === null) {\n          this._onList = false;\n          this.animeInfo.mediaListEntry = {\n            notes: '',\n            progress: 0,\n            progressVolumes: 0,\n            repeat: 0,\n            score: 0,\n            status: 'PLANNING',\n          };\n        }\n\n        if (!this._authenticated) throw new NotAutenticatedError('Not Authenticated');\n      });\n  }\n\n  async _sync() {\n    let query = `\n      mutation ($mediaId: Int, $status: MediaListStatus, $progress: Int, $scoreRaw: Int, $notes: String) {\n        SaveMediaListEntry (mediaId: $mediaId, status: $status, progress: $progress, scoreRaw: $scoreRaw, notes: $notes) {\n          id\n          status\n          progress\n        }\n      }\n    `;\n    const variables = {\n      mediaId: this.ids.ani,\n      status: this.animeInfo.mediaListEntry.status,\n      progress: this.animeInfo.mediaListEntry.progress,\n      scoreRaw: this.animeInfo.mediaListEntry.score,\n      notes: this.animeInfo.mediaListEntry.notes,\n      volumes: null,\n    };\n\n    if (this.type === 'manga') {\n      query = `\n        mutation ($mediaId: Int, $status: MediaListStatus, $progress: Int, $scoreRaw: Int, $notes: String, $volumes: Int) {\n          SaveMediaListEntry (mediaId: $mediaId, status: $status, progress: $progress, scoreRaw: $scoreRaw, notes: $notes, progressVolumes: $volumes) {\n            id\n            status\n            progress\n            progressVolumes\n          }\n        }\n      `;\n      variables.volumes = this.animeInfo.mediaListEntry.progressVolumes;\n    }\n\n    return this.apiCall(query, variables).then(json => {\n      if (json && json.data && json.data.SaveMediaListEntry && json.data.SaveMediaListEntry.id) {\n        this.animeInfo.mediaListEntry.id = json.data.SaveMediaListEntry.id;\n      }\n      return json;\n    });\n  }\n\n  protected apiCall(query, variables, authentication = true) {\n    return helper.apiCall(query, variables, authentication);\n  }\n\n  public getScoreMode() {\n    switch (api.settings.get('anilistOptions').scoreFormat) {\n      case 'POINT_100':\n        return point100;\n      case 'POINT_3':\n        return smiley3;\n      case 'POINT_5':\n        return stars5;\n      case 'POINT_10_DECIMAL':\n        return point100decimal;\n      default:\n        return point10;\n    }\n  }\n\n  _delete() {\n    const query = `\n      mutation ($mediaId: Int) {\n        DeleteMediaListEntry(id: $mediaId) {\n          deleted\n        }\n      }\n    `;\n    const variables = {\n      mediaId: this.animeInfo.mediaListEntry.id,\n    };\n\n    return this.apiCall(query, variables);\n  }\n}\n","import { ScoreModeStrategy } from './ScoreModeStrategy';\n\nexport const point20decimal: ScoreModeStrategy = {\n  ui: {\n    module: 'dropdown',\n  },\n  getOptions() {\n    const resArr = [{ value: 0, label: api.storage.lang('UI_Score_Not_Rated') }];\n    for (let i = 2; i < 21; i++) {\n      resArr.push({\n        value: i * 5,\n        label: (i / 2).toFixed(1).toString(),\n      });\n    }\n    return resArr;\n  },\n  valueToOptionValue(value) {\n    if (!value) return 0;\n    if (value < 10) return 10;\n    return Math.round(Number(value) / 5) * 5;\n  },\n  optionValueToValue(optionValue) {\n    if (!optionValue) return 0;\n    return Number(optionValue);\n  },\n};\n","import { ScoreModeStrategy } from './ScoreModeStrategy';\n\nexport const smiley4: ScoreModeStrategy = {\n  ui: {\n    module: 'click',\n    type: 'smiley',\n  },\n  getOptions() {\n    return [\n      { value: 0, label: api.storage.lang('UI_Score_Not_Rated') },\n      { value: 100, label: '😀' },\n      { value: 70, label: '🙂' },\n      { value: 40, label: '😐' },\n      { value: 10, label: '🙁' },\n    ];\n  },\n  valueToOptionValue(value) {\n    if (!value) return 0;\n    if (value < 25) return 10;\n    if (value < 55) return 40;\n    if (value < 85) return 70;\n    return 100;\n  },\n  optionValueToValue(optionValue) {\n    if (!optionValue) return 0;\n    return Number(optionValue);\n  },\n};\n","import { ScoreModeStrategy } from './ScoreModeStrategy';\n\nexport const point10decimal: ScoreModeStrategy = {\n  ui: {\n    module: 'dropdown',\n  },\n  getOptions() {\n    const resArr = [{ value: 0, label: api.storage.lang('UI_Score_Not_Rated') }];\n    for (let i = 1; i < 11; i++) {\n      resArr.push({\n        value: i * 10,\n        label: (i / 2).toFixed(1).toString(),\n      });\n    }\n    return resArr;\n  },\n  valueToOptionValue(value) {\n    if (!value) return 0;\n    if (value < 10) return 10;\n    return Math.round(value / 10) * 10;\n  },\n  optionValueToValue(optionValue) {\n    if (!optionValue) return 0;\n    return Number(optionValue);\n  },\n};\n","import { SingleAbstract } from '../singleAbstract';\nimport * as helper from './helper';\nimport { NotAutenticatedError, NotFoundError, UrlNotSupportedError } from '../Errors';\nimport { point10 } from '../ScoreMode/point10';\nimport { point20decimal } from '../ScoreMode/point20decimal';\nimport { smiley4 } from '../ScoreMode/smiley4';\nimport { point10decimal } from '../ScoreMode/point10decimal';\n\nexport class Single extends SingleAbstract {\n  constructor(protected url: string) {\n    super(url);\n    this.logger = con.m(this.shortName, '#d65e43');\n    return this;\n  }\n\n  private animeInfo: any;\n\n  listI() {\n    return this.animeInfo.data[0];\n  }\n\n  animeI() {\n    return this.animeInfo.included[0];\n  }\n\n  shortName = 'Kitsu';\n\n  authenticationUrl = 'https://kitsu.io/404?mal-sync=authentication';\n\n  protected handleUrl(url) {\n    if (url.match(/kitsu\\.io\\/(anime|manga)\\/.*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.ids.kitsu.slug = utils.urlPart(url, 4);\n      return;\n    }\n    if (url.match(/myanimelist\\.net\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.ids.mal = Number(utils.urlPart(url, 4));\n      return;\n    }\n    throw new UrlNotSupportedError(url);\n  }\n\n  getCacheKey() {\n    return this.getKey(['KITSU']);\n  }\n\n  getPageId() {\n    return this.ids.kitsu.id;\n  }\n\n  _getStatus() {\n    if (this.listI().attributes.reconsuming && this.listI().attributes.status === 'current')\n      return 23;\n    return parseInt(helper.translateList(this.listI().attributes.status));\n  }\n\n  _setStatus(status) {\n    if (status === 23) {\n      status = 1;\n      this.listI().attributes.reconsuming = true;\n    } else {\n      this.listI().attributes.reconsuming = false;\n    }\n    this.listI().attributes.status = helper.translateList(status, parseInt(status.toString()));\n  }\n\n  _getScore() {\n    if (!this.listI().attributes.ratingHundred) return 0;\n    const score = Math.round(this.listI().attributes.ratingHundred / 10);\n    if (score === 0) return 1;\n    return score;\n  }\n\n  _setScore(score) {\n    if (!score) {\n      this.listI().attributes.ratingHundred = null;\n      return;\n    }\n    this.listI().attributes.ratingHundred = score * 10;\n  }\n\n  _getAbsoluteScore() {\n    return Number(this.listI().attributes.ratingHundred);\n  }\n\n  _setAbsoluteScore(score) {\n    this.listI().attributes.ratingHundred = Number(score);\n  }\n\n  _getTwentyScore() {\n    const score = this.listI().attributes.ratingHundred;\n    if (!score) return null;\n    if (score < 5) return 1;\n    return Math.round(score / 5);\n  }\n\n  _getEpisode() {\n    return this.listI().attributes.progress;\n  }\n\n  _setEpisode(episode) {\n    this.listI().attributes.progress = parseInt(`${episode}`);\n  }\n\n  _getVolume() {\n    return this.listI().attributes.volumesOwned;\n  }\n\n  _setVolume(volume) {\n    this.listI().attributes.volumesOwned = volume;\n  }\n\n  _getTags() {\n    let tags = this.listI().attributes.notes;\n    if (tags === null || tags === 'null') tags = '';\n    return tags;\n  }\n\n  _setTags(tags) {\n    this.listI().attributes.notes = tags;\n  }\n\n  _getTitle() {\n    try {\n      return helper.getTitle(\n        this.animeI().attributes.titles,\n        this.animeI().attributes.canonicalTitle,\n      );\n    } catch (e) {\n      console.error('title', e);\n      return 'Failed';\n    }\n  }\n\n  _getTotalEpisodes() {\n    const eps = this.animeI().attributes.episodeCount\n      ? this.animeI().attributes.episodeCount\n      : this.animeI().attributes.chapterCount;\n    if (eps === null) return 0;\n    return eps;\n  }\n\n  _getTotalVolumes() {\n    const vol = this.animeI().attributes.volumeCount;\n    if (!vol) return 0;\n    return vol;\n  }\n\n  _getDisplayUrl() {\n    return `https://kitsu.io/${this.getType()}/${this.animeI().attributes.slug}`;\n  }\n\n  _getImage() {\n    return this.animeI().attributes.posterImage && this.animeI().attributes.posterImage.large\n      ? this.animeI().attributes.posterImage.large\n      : '';\n  }\n\n  _getRating() {\n    if (this.animeI().attributes.averageRating === null) return Promise.resolve('');\n    return Promise.resolve(`${this.animeI().attributes.averageRating}%`);\n  }\n\n  async _update() {\n    if (Number.isNaN(this.ids.mal)) {\n      /* eslint-disable-next-line no-var */\n      var kitsuSlugRes = await this.kitsuSlugtoKitsu(this.ids.kitsu.slug, this.getType());\n      try {\n        this.ids.kitsu.id = Number(kitsuSlugRes.res.data[0].id);\n        this.ids.mal = Number(kitsuSlugRes.malId);\n      } catch (e) {\n        this._authenticated = true;\n        throw new NotFoundError('Not found');\n      }\n    }\n    if (Number.isNaN(this.ids.kitsu.id)) {\n      /* eslint-disable-next-line no-var */\n      var kitsuRes = await this.malToKitsu(this.ids.mal, this.getType());\n      try {\n        this.ids.kitsu.id = Number(kitsuRes.data[0].relationships.item.data.id);\n      } catch (e) {\n        this._authenticated = true;\n        throw new NotFoundError('Not found');\n      }\n    }\n\n    this._authenticated = true;\n    return this.userId()\n      .then(userId => {\n        return this.apiCall(\n          'GET',\n          `https://kitsu.io/api/edge/library-entries?filter[user_id]=${userId}&filter[kind]=${this.getType()}&filter[${this.getType()}_id]=${\n            this.ids.kitsu.id\n          }&page[limit]=1&page[limit]=1&include=${this.getType()}&fields[${this.getType()}]=slug,titles,canonicalTitle,averageRating,posterImage,${\n            this.getType() === 'anime' ? 'episodeCount' : 'chapterCount,volumeCount'\n          }`,\n        );\n      })\n      .catch(e => {\n        if (e instanceof NotAutenticatedError) {\n          this._authenticated = false;\n          return { data: [], included: [] };\n        }\n        throw e;\n      })\n      .then(async res => {\n        const tempAnimeInfo = res;\n\n        this._onList = true;\n\n        if (!res.data.length) {\n          this._onList = false;\n          tempAnimeInfo.data[0] = {\n            attributes: {\n              notes: '',\n              progress: 0,\n              volumesOwned: 0,\n              reconsuming: false,\n              reconsumeCount: false,\n              ratingTwenty: null,\n              status: 'planned',\n            },\n          };\n          if (typeof kitsuRes !== 'undefined') {\n            tempAnimeInfo.included = kitsuRes.included;\n          } else if (kitsuSlugRes) {\n            tempAnimeInfo.included = kitsuSlugRes.res.data;\n          } else {\n            kitsuRes = await this.malToKitsu(this.ids.mal, this.getType());\n            tempAnimeInfo.included = kitsuRes.included;\n          }\n        }\n\n        if (tempAnimeInfo.data[0].attributes.ratingHundred) {\n          tempAnimeInfo.data[0].attributes.ratingHundred = 0;\n        } else {\n          tempAnimeInfo.data[0].attributes.ratingHundred = Number(\n            tempAnimeInfo.data[0].attributes.ratingTwenty * 5,\n          );\n        }\n\n        this.animeInfo = tempAnimeInfo;\n\n        try {\n          this.animeI();\n        } catch (e) {\n          this.logger.error(e);\n          throw new NotFoundError('Not found');\n        }\n\n        if (!this._authenticated) throw new NotAutenticatedError('Not Authenticated');\n      });\n  }\n\n  async _sync() {\n    const variables: any = {\n      data: {\n        attributes: {\n          notes: this.listI().attributes.notes,\n          progress: this.listI().attributes.progress,\n          volumesOwned: this.listI().attributes.volumesOwned,\n          reconsuming: this.listI().attributes.reconsuming,\n          reconsumeCount: this.listI().attributes.reconsumeCount,\n          ratingTwenty: this._getTwentyScore(),\n          status: this.listI().attributes.status,\n        },\n        type: 'library-entries',\n      },\n    };\n    const tType = this.getType();\n    if (!tType) return Promise.resolve();\n    let updateUrl;\n    let post;\n    if (this.isOnList()) {\n      updateUrl = `https://kitsu.io/api/edge/library-entries/${this.listI().id}`;\n      variables.data.id = this.listI().id;\n      post = 'PATCH';\n    } else {\n      updateUrl = 'https://kitsu.io/api/edge/library-entries/';\n      variables.data.relationships = {\n        [tType]: {\n          data: {\n            type: tType,\n            id: this.ids.kitsu.id,\n          },\n        },\n        user: {\n          data: {\n            type: 'users',\n            id: await this.userId(),\n          },\n        },\n      };\n      post = 'POST';\n    }\n\n    this.logger.log(post, variables);\n\n    return this.apiCall(post, updateUrl, variables).then(res => {\n      if (res && res.data && res.data.id) {\n        this.listI().id = res.data.id;\n      }\n      return res;\n    });\n  }\n\n  protected apiCall(mode, url, variables = {}, authentication = true) {\n    return helper.apiCall(mode, url, variables, authentication).catch(e => {\n      if (e instanceof NotAutenticatedError) throw new NotAutenticatedError(e.message);\n      throw e;\n    });\n  }\n\n  protected kitsuSlugtoKitsu(kitsuSlug: string, type: any) {\n    return this.apiCall(\n      'Get',\n      `https://kitsu.io/api/edge/${type}?filter[slug]=${kitsuSlug}&page[limit]=1&include=mappings`,\n      {},\n    )\n      .catch(e => {\n        if (e instanceof NotAutenticatedError) {\n          this._authenticated = false;\n          return this.apiCall(\n            'Get',\n            `https://kitsu.io/api/edge/${type}?filter[slug]=${kitsuSlug}&page[limit]=1&include=mappings`,\n            {},\n            false,\n          );\n        }\n        throw e;\n      })\n      .then(res => {\n        let malId = NaN;\n        if (typeof res !== 'undefined' && typeof res.included !== 'undefined') {\n          for (let k = 0; k < res.included.length; k++) {\n            const mapping = res.included[k];\n            if (mapping.type === 'mappings') {\n              if (mapping.attributes.externalSite === `myanimelist/${type}`) {\n                malId = Number(mapping.attributes.externalId);\n                res.included.splice(k, 1);\n                break;\n              } else if (mapping.attributes.externalSite === `anilist/${type}`) {\n                this.ids.ani = Number(mapping.attributes.externalId);\n              }\n            }\n          }\n        }\n        return { res, malId };\n      });\n  }\n\n  protected malToKitsu(malid: number, type: any) {\n    return this.apiCall(\n      'Get',\n      `https://kitsu.io/api/edge/mappings?filter[externalSite]=myanimelist/${type}&filter[externalId]=${malid}&include=item&fields[item]=id`,\n      {},\n    )\n      .catch(e => {\n        if (e instanceof NotAutenticatedError) {\n          this._authenticated = false;\n          return this.apiCall(\n            'Get',\n            `https://kitsu.io/api/edge/mappings?filter[externalSite]=myanimelist/${type}&filter[externalId]=${malid}&include=item&fields[item]=id`,\n            {},\n            false,\n          );\n        }\n        throw e;\n      })\n      .then(res => {\n        return res;\n      });\n  }\n\n  protected async userId() {\n    const userId = await api.storage.get('kitsuUserId');\n    if (typeof userId !== 'undefined' && userId) {\n      return userId;\n    }\n    return this.apiCall('Get', 'https://kitsu.io/api/edge/users?filter[self]=true').then(res => {\n      if (\n        typeof res.data === 'undefined' ||\n        !res.data.length ||\n        typeof res.data[0] === 'undefined'\n      ) {\n        throw new NotAutenticatedError('Not Authenticated');\n      }\n      api.storage.set('kitsuUserId', res.data[0].id);\n      return res.data[0].id;\n    });\n  }\n\n  public getScoreMode() {\n    switch (api.settings.get('kitsuOptions').ratingSystem) {\n      case 'simple':\n        return smiley4;\n      case 'regular':\n        return point10decimal;\n      case 'advanced':\n        return point20decimal;\n      default:\n        return point10;\n    }\n  }\n\n  _delete() {\n    return this.apiCall('DELETE', `https://kitsu.io/api/edge/library-entries/${this.listI().id}`);\n  }\n}\n","import { SingleAbstract } from '../singleAbstract';\nimport * as helper from './helper';\nimport { NotAutenticatedError, NotFoundError, UrlNotSupportedError } from '../Errors';\n\nexport class Single extends SingleAbstract {\n  constructor(protected url: string) {\n    super(url);\n    this.logger = con.m(this.shortName, '#9b7400');\n    return this;\n  }\n\n  private animeInfo: any;\n\n  private episodeUpdate = false;\n\n  private statusUpdate = false;\n\n  private ratingUpdate = false;\n\n  private minWatchedEp = 1;\n\n  private curWatchedEp = 0;\n\n  shortName = 'Simkl';\n\n  authenticationUrl =\n    'https://simkl.com/oauth/authorize?response_type=code&client_id=39e8640b6f1a60aaf60f3f3313475e830517badab8048a4e52ff2d10deb2b9b0&redirect_uri=https://simkl.com/apps/chrome/mal-sync/connected/';\n\n  protected rewatchingSupport = false;\n\n  protected handleUrl(url) {\n    if (url.match(/simkl\\.com\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.ids.simkl = parseInt(utils.urlPart(url, 4));\n      if (this.type === 'manga') throw 'Simkl has no manga support';\n      return;\n    }\n    if (url.match(/myanimelist\\.net\\/(anime|manga)\\/\\d*/i)) {\n      this.type = utils.urlPart(url, 3) === 'anime' ? 'anime' : 'manga';\n      this.ids.mal = Number(utils.urlPart(url, 4));\n      if (this.type === 'manga') throw 'Simkl has no manga support';\n      return;\n    }\n    throw new UrlNotSupportedError(url);\n  }\n\n  getCacheKey() {\n    return this.getKey(['SIMKL']);\n  }\n\n  getPageId() {\n    return this.ids.simkl;\n  }\n\n  _getStatus() {\n    return parseInt(helper.translateList(this.animeInfo.status));\n  }\n\n  _setStatus(status) {\n    if (status === 23) status = 1;\n    status = helper.translateList(status, parseInt(status.toString()));\n    if (status !== this.animeInfo.status) this.statusUpdate = true;\n    this.animeInfo.status = status;\n  }\n\n  _getScore() {\n    const score = this.animeInfo.user_rating;\n    if (score === null) return 0;\n    return score;\n  }\n\n  _setScore(score) {\n    if (score === 0) score = null;\n    if (score !== this.animeInfo.user_rating) this.ratingUpdate = true;\n    this.animeInfo.user_rating = score;\n  }\n\n  _getAbsoluteScore() {\n    return this.getScore() * 10;\n  }\n\n  _setAbsoluteScore(score) {\n    if (!score) {\n      this.setScore(0);\n      return;\n    }\n    if (score < 10) {\n      this.setScore(1);\n      return;\n    }\n\n    this.setScore(Math.round(score / 10));\n  }\n\n  _getEpisode() {\n    if (this._getStatus() === 2) return this._getTotalEpisodes();\n    return this.curWatchedEp;\n  }\n\n  _setEpisode(episode) {\n    if (episode !== this.curWatchedEp) this.episodeUpdate = true;\n    this.curWatchedEp = episode;\n  }\n\n  _getVolume() {\n    return 0;\n  }\n\n  _setVolume(volume) {\n    this.logger.error('You cant set Volumes for animes');\n  }\n\n  _getTags() {\n    let tags = this.animeInfo.private_memo;\n    if (tags === null || tags === 'null') tags = '';\n    return tags;\n  }\n\n  _setTags(tags) {\n    this.animeInfo.private_memo = tags;\n  }\n\n  _getTitle() {\n    return this.animeInfo.show.title;\n  }\n\n  _getTotalEpisodes() {\n    const eps = this.animeInfo.total_episodes_count;\n    if (eps === null) return 0;\n    return eps;\n  }\n\n  _getTotalVolumes() {\n    return 0;\n  }\n\n  _getDisplayUrl() {\n    return `https://simkl.com/${this.getType()}/${this.ids.simkl}`;\n  }\n\n  _getImage() {\n    return `https://simkl.in/posters/${this.animeInfo.show.poster}_ca.jpg`;\n  }\n\n  async _getRating() {\n    try {\n      const el = await this.call('https://api.simkl.com/ratings', { simkl: this.ids.simkl }, true);\n      return el.simkl.rating;\n    } catch (e) {\n      this.logger.error(e);\n      return 'N/A';\n    }\n  }\n\n  async _update() {\n    let de;\n    if (Number.isNaN(this.ids.mal)) {\n      de = { simkl: this.ids.simkl };\n    } else {\n      de = { mal: this.ids.mal };\n    }\n\n    this._authenticated = true;\n\n    return this.getSingle(de)\n      .catch(e => {\n        if (e instanceof NotAutenticatedError) {\n          this._authenticated = false;\n          return '';\n        }\n        throw e;\n      })\n      .then(async res => {\n        this.logger.log(res);\n\n        this.episodeUpdate = false;\n        this.statusUpdate = false;\n        this.ratingUpdate = false;\n\n        this.animeInfo = res;\n\n        this._onList = true;\n\n        if (!this.animeInfo) {\n          this._onList = false;\n          let el;\n          if (de.simkl) {\n            el = await this.call(\n              `https://api.simkl.com/anime/${de.simkl}`,\n              { extended: 'full' },\n              true,\n            );\n            if (!el) throw new NotFoundError('Anime not found');\n          } else {\n            el = await this.call('https://api.simkl.com/search/id', de, true);\n            if (!el) throw new NotFoundError('Anime not found');\n            if (el[0].mal && el[0].mal.type && el[0].mal.type === 'Special')\n              throw new Error('Is a special');\n            el = el[0];\n          }\n\n          this.animeInfo = {\n            last_watched: '',\n            last_watched_at: '',\n            next_to_watch: '',\n            not_aired_episodes_count: 0,\n            private_memo: '',\n            status: 'plantowatch',\n            total_episodes_count: 0,\n            user_rating: null,\n            watched_episodes_count: 0,\n            show: el,\n          };\n          this.logger.log('Add anime', this.animeInfo);\n        }\n\n        if (Number.isNaN(this.ids.simkl)) {\n          this.ids.simkl = parseInt(this.animeInfo.show.ids.simkl);\n        }\n\n        if (Number.isNaN(this.ids.mal) && typeof this.animeInfo.show.ids.mal !== 'undefined') {\n          this.ids.mal = this.animeInfo.show.ids.mal;\n        }\n\n        this.curWatchedEp = helper.getEpisode(this.animeInfo.last_watched);\n        if (!this.curWatchedEp && this.animeInfo.next_to_watch) {\n          const next = helper.getEpisode(this.animeInfo.next_to_watch);\n          if (next) this.curWatchedEp = next - 1;\n        }\n        this.minWatchedEp = this.curWatchedEp + 1;\n\n        if (!this._authenticated) throw new NotAutenticatedError('Not Authenticated');\n      });\n  }\n\n  async _sync() {\n    this.logger.log(\n      '[SET] Object:',\n      this.animeInfo,\n      'status',\n      this.statusUpdate,\n      'episode',\n      this.episodeUpdate,\n      'rating',\n      this.ratingUpdate,\n      'minWatchedEp',\n      this.minWatchedEp,\n      'curWatchedEp',\n      this.curWatchedEp,\n    );\n    // Status\n    if (this.statusUpdate || !this.isOnList()) {\n      const response = await this.call(\n        'https://api.simkl.com/sync/add-to-list',\n        JSON.stringify({\n          shows: [\n            {\n              to: this.animeInfo.status,\n              ids: {\n                simkl: this.ids.simkl,\n              },\n            },\n          ],\n        }),\n        false,\n        'POST',\n      );\n      this.logger.log('Status response', response);\n    }\n\n    // Episode and memo\n    if (this.episodeUpdate || !this.isOnList()) {\n      const curEp = this.curWatchedEp;\n      const episodes: { number: number }[] = [];\n\n      if (this.minWatchedEp <= curEp) {\n        if (curEp) {\n          for (let i = this.minWatchedEp; i <= curEp; i++) {\n            episodes.push({\n              number: i,\n            });\n          }\n\n          const response = await this.call(\n            'https://api.simkl.com/sync/history',\n            JSON.stringify({\n              shows: [\n                {\n                  ids: {\n                    simkl: this.ids.simkl,\n                  },\n                  private_memo: this.animeInfo.private_memo,\n                  seasons: [\n                    {\n                      number: 1,\n                      episodes,\n                    },\n                  ],\n                },\n              ],\n            }),\n            false,\n            'POST',\n          );\n          this.logger.log('Episode response', response);\n        }\n      } else {\n        for (let i = this.minWatchedEp - 1; i > curEp; i -= 1) {\n          episodes.push({\n            number: i,\n          });\n        }\n\n        const response = await this.call(\n          'https://api.simkl.com/sync/history/remove',\n          JSON.stringify({\n            shows: [\n              {\n                ids: {\n                  simkl: this.ids.simkl,\n                },\n                seasons: [\n                  {\n                    number: 1,\n                    episodes,\n                  },\n                ],\n              },\n            ],\n          }),\n          false,\n          'POST',\n        );\n        this.logger.log('Episode remove response', response);\n      }\n\n      this.minWatchedEp = curEp + 1;\n    }\n\n    // Rating\n    if (this.ratingUpdate) {\n      if (this.animeInfo.user_rating) {\n        const response = await this.call(\n          'https://api.simkl.com/sync/ratings',\n          JSON.stringify({\n            shows: [\n              {\n                rating: this.animeInfo.user_rating,\n                ids: {\n                  simkl: this.ids.simkl,\n                },\n              },\n            ],\n          }),\n          false,\n          'POST',\n        );\n        this.logger.log('Rating response', response);\n      } else {\n        const response = await this.call(\n          'https://api.simkl.com/sync/ratings/remove',\n          JSON.stringify({\n            shows: [\n              {\n                ids: {\n                  simkl: this.ids.simkl,\n                },\n              },\n            ],\n          }),\n          false,\n          'POST',\n        );\n        this.logger.log('Rating remove response', response);\n      }\n    }\n\n    this.episodeUpdate = false;\n    this.statusUpdate = false;\n    this.ratingUpdate = false;\n  }\n\n  protected syncList = helper.syncList;\n\n  protected getSingle = helper.getSingle;\n\n  protected call = helper.call;\n\n  protected errorHandling = helper.errorHandling;\n\n  _delete() {\n    return this.call(\n      'https://api.simkl.com/sync/history/remove',\n      JSON.stringify({\n        shows: [\n          {\n            ids: {\n              simkl: this.ids.simkl,\n            },\n          },\n        ],\n      }),\n      false,\n      'POST',\n    );\n  }\n}\n","import { Single as MalSingle } from '../_provider/MyAnimeList_hybrid/single';\nimport { Single as AniListSingle } from '../_provider/AniList/single';\nimport { Single as KitsuSingle } from '../_provider/Kitsu/single';\nimport { Single as SimklSingle } from '../_provider/Simkl/single';\n\nimport { UserList as MalList } from '../_provider/MyAnimeList_hybrid/list';\nimport { UserList as AnilistList } from '../_provider/AniList/list';\nimport { UserList as KitsuList } from '../_provider/Kitsu/list';\nimport { UserList as SimklList } from '../_provider/Simkl/list';\nimport { getSyncMode } from '../_provider/helper';\n\nexport function generateSync(\n  masterList: object,\n  slaveLists: object[],\n  mode,\n  typeArray,\n  list,\n  missing,\n) {\n  mapToArray(masterList, list, true);\n\n  for (const i in slaveLists) {\n    mapToArray(slaveLists[i], list, false);\n  }\n\n  for (const i in list) {\n    changeCheck(list[i], mode);\n    missingCheck(list[i], missing, typeArray, mode);\n  }\n}\n\nexport function getType(url) {\n  if (utils.isDomainMatching(url, 'anilist.co')) return 'ANILIST';\n  if (utils.isDomainMatching(url, 'kitsu.io')) return 'KITSU';\n  if (utils.isDomainMatching(url, 'myanimelist.net')) return 'MAL';\n  if (utils.isDomainMatching(url, 'simkl.com')) return 'SIMKL';\n  throw 'Type not found';\n}\n\nexport function mapToArray(provierList, resultList, masterM = false) {\n  for (let i = 0; i < provierList.length; i++) {\n    const el = provierList[i];\n    let temp = resultList[el.malId];\n    if (typeof temp === 'undefined') {\n      temp = {\n        diff: false,\n        master: {},\n        slaves: [],\n      };\n    }\n\n    if (masterM) {\n      temp.master = el;\n    } else {\n      el.diff = {};\n      temp.slaves.push(el);\n    }\n    if (!Number.isNaN(el.malId) && el.malId) {\n      resultList[el.malId] = temp;\n    } else {\n      // TODO: List them\n    }\n  }\n}\n\nexport function changeCheck(item, mode) {\n  if (item.master && item.master.uid) {\n    for (let i = 0; i < item.slaves.length; i++) {\n      const slave = item.slaves[i];\n      if (slave.watchedEp !== item.master.watchedEp) {\n        if (item.master.status === 2) {\n          if (slave.watchedEp !== slave.totalEp) {\n            item.diff = true;\n            slave.diff.watchedEp = slave.totalEp;\n          }\n        } else {\n          item.diff = true;\n          slave.diff.watchedEp = item.master.watchedEp;\n        }\n      }\n      if (slave.status !== item.master.status) {\n        item.diff = true;\n        slave.diff.status = item.master.status;\n      }\n      if (slave.score !== item.master.score) {\n        item.diff = true;\n        slave.diff.score = item.master.score;\n      }\n    }\n  }\n}\n\nexport function missingCheck(item, missing, types, mode) {\n  if (item.master && item.master.uid) {\n    const tempTypes: any[] = [];\n    tempTypes.push(getType(item.master.url));\n    for (let i = 0; i < item.slaves.length; i++) {\n      const slave = item.slaves[i];\n      tempTypes.push(getType(slave.url));\n    }\n    for (const t in types) {\n      const type = types[t];\n      if (!tempTypes.includes(type)) {\n        missing.push({\n          title: item.master.title,\n          syncType: type,\n          malId: item.master.malId,\n          watchedEp: item.master.watchedEp,\n          score: item.master.score,\n          status: item.master.status,\n          url: `https://myanimelist.net/${item.master.type}/${item.master.malId}`,\n          error: null,\n        });\n      }\n    }\n  }\n}\n\n// Sync\n\nexport async function syncList(list, thisMissing) {\n  for (const i in list) {\n    const el = list[i];\n    if (el.diff) {\n      try {\n        await syncListItem(el);\n        el.diff = false;\n      } catch (e) {\n        con.error(e);\n      }\n    }\n  }\n\n  const missing = thisMissing.slice();\n  for (const i in missing) {\n    const miss = missing[i];\n    con.log('Sync missing', miss);\n    await syncMissing(miss)\n      .then(() => {\n        thisMissing.splice(thisMissing.indexOf(miss), 1);\n      })\n      .catch(e => {\n        con.error('Error', e);\n        miss.error = e;\n      });\n  }\n}\n\nexport async function syncListItem(item) {\n  for (let i = 0; i < item.slaves.length; i++) {\n    const slave = item.slaves[i];\n    con.log('sync list item', slave);\n    await syncItem(slave, getType(slave.url));\n  }\n}\n\nexport async function syncMissing(item) {\n  item.diff = {\n    watchedEp: item.watchedEp,\n    status: item.status,\n    score: item.score,\n  };\n  return syncItem(item, item.syncType);\n}\n\n// eslint-disable-next-line consistent-return\nexport function syncItem(slave, pageType) {\n  if (Object.keys(slave.diff).length !== 0) {\n    let singleClass: any;\n    if (pageType === 'MAL') {\n      singleClass = new MalSingle(slave.url);\n    } else if (pageType === 'ANILIST') {\n      singleClass = new AniListSingle(slave.url);\n    } else if (pageType === 'KITSU') {\n      singleClass = new KitsuSingle(slave.url);\n    } else if (pageType === 'SIMKL') {\n      singleClass = new SimklSingle(slave.url);\n    } else {\n      throw 'No sync type';\n    }\n\n    return singleClass\n      .update()\n      .then(() => {\n        if (typeof slave.diff.watchedEp !== 'undefined')\n          singleClass.setEpisode(slave.diff.watchedEp);\n        if (typeof slave.diff.status !== 'undefined') singleClass.setStatus(slave.diff.status);\n        if (typeof slave.diff.score !== 'undefined') singleClass.setScore(slave.diff.score);\n        return singleClass.sync();\n      })\n      .then(() => {\n        return utils.wait(3000);\n      })\n      .catch(async e => {\n        await utils.wait(3000);\n        throw e;\n      });\n  }\n}\n\n// retrive lists\nexport async function retriveLists(\n  providerList: {\n    providerType: string;\n    providerSettings: any;\n    listProvider: any;\n  }[],\n  type,\n  getListF,\n) {\n  const typeArray: any = [];\n\n  const tempMode = getSyncMode(type);\n  const masterMode = tempMode === 'MALAPI' ? 'MAL' : tempMode;\n\n  const listP: any = [];\n\n  providerList.forEach(pi => {\n    pi.providerSettings.text = 'Loading';\n    // @ts-ignore\n    listP.push(\n      getListF(pi.listProvider, type)\n        .then((list: any) => {\n          pi.providerSettings.list = list;\n          pi.providerSettings.text = 'Done';\n          if (masterMode === pi.providerType) pi.providerSettings.master = true;\n          typeArray.push(pi.providerType);\n        })\n        .catch(e => {\n          pi.providerSettings.text = e;\n        }),\n    );\n  });\n\n  await Promise.all(listP);\n\n  let master = false;\n  const slaves: any = [];\n\n  providerList.forEach(function (pi) {\n    if (pi.providerSettings.master) {\n      master = pi.providerSettings.list;\n    } else if (pi.providerSettings.list !== null) slaves.push(pi.providerSettings.list);\n  });\n\n  return {\n    master,\n    slaves,\n    typeArray,\n  };\n}\n\nexport function getListProvider(providerSettingList) {\n  return [\n    {\n      providerType: 'MAL',\n      providerSettings: providerSettingList.mal,\n      listProvider: MalList,\n    },\n    {\n      providerType: 'ANILIST',\n      providerSettings: providerSettingList.anilist,\n      listProvider: AnilistList,\n    },\n    {\n      providerType: 'KITSU',\n      providerSettings: providerSettingList.kitsu,\n      listProvider: KitsuList,\n    },\n    {\n      providerType: 'SIMKL',\n      providerSettings: providerSettingList.simkl,\n      listProvider: SimklList,\n    },\n  ];\n}\n\nexport function getList(Prov, type) {\n  const listProvider = new Prov(7, type);\n\n  return listProvider\n    .getCompleteList()\n    .then(list => {\n      return list;\n    })\n    .catch(e => {\n      con.m(listProvider.name).error(e);\n      throw listProvider.errorMessage(e);\n    });\n}\n\nexport const background = {\n  async isEnabled() {\n    return api.storage.get('backgroundListSync').then(async function (state) {\n      con.info('background list sync state', state);\n      if (state && state.mode === (await api.settings.getAsync('syncMode'))) return true;\n      background.disable();\n      return false;\n    });\n  },\n  async enable() {\n    return api.storage.set('backgroundListSync', {\n      mode: await api.settings.getAsync('syncMode'),\n    });\n  },\n  disable() {\n    return api.storage.remove('backgroundListSync');\n  },\n  async sync() {\n    if (await background.isEnabled()) {\n      con.log('Start Background list Sync');\n      setBadgeText('♻');\n\n      return syncLists('anime')\n        .then(() => {\n          return syncLists('manga');\n        })\n        .then(() => {\n          setBadgeText('');\n        })\n        .catch(e => {\n          con.error(e);\n          setBadgeText('');\n        });\n    }\n    con.error('Background list Sync not allowed');\n    return [];\n\n    async function syncLists(type) {\n      const mode = 'mirror';\n      const list = {};\n      const missing = [];\n\n      const providerList = getListProvider({\n        mal: {\n          text: 'Init',\n          list: null,\n          master: false,\n        },\n        anilist: {\n          text: 'Init',\n          list: null,\n          master: false,\n        },\n        kitsu: {\n          text: 'Init',\n          list: null,\n          master: false,\n        },\n        simkl: {\n          text: 'Init',\n          list: null,\n          master: false,\n        },\n      });\n\n      const listOptions: any = await retriveLists(providerList, type, getList);\n\n      generateSync(\n        listOptions.master,\n        listOptions.slaves,\n        mode,\n        listOptions.typeArray,\n        list,\n        missing,\n      );\n      con.log('Start syncing', list, missing);\n      await syncList(list, missing);\n    }\n  },\n};\n\nfunction setBadgeText(text: string) {\n  // @ts-ignore\n  if (api.type === 'userscript') return;\n  try {\n    chrome.browserAction.setBadgeText({ text });\n  } catch (e) {\n    con.error(e);\n  }\n}\n","let stopped = 0;\n\nfunction saveInList(key, el) {\n  if (stopped) return Promise.resolve();\n  con.info('Save', key, 'in sync list [', el, ']');\n  return api.storage.get('list-tagSettings').then(list => {\n    try {\n      list = JSON.parse(list);\n      if (!Array.isArray(list)) throw 'Not an array';\n    } catch (e) {\n      list = [];\n    }\n    list.push({\n      key,\n      value: el,\n      timestamp: new Date().getTime(),\n    });\n    while (list.length > 50) {\n      list = list.shift();\n    }\n    api.storage.set('tm-list-tagSettings', new Date().getTime());\n    stopped = 1;\n    return api.storage\n      .set('list-tagSettings', JSON.stringify(list))\n      .then(() => {\n        stopped = 0;\n      })\n      .catch(e => {\n        con.error(e);\n        stopped = 0;\n      });\n  });\n}\n\nfunction importList() {\n  stopped = 1;\n  con.info('Import sync list');\n  let num = 0;\n  return api.storage\n    .get('list-tagSettings')\n    .then(async list => {\n      try {\n        list = JSON.parse(list);\n      } catch (e) {\n        list = [];\n      }\n      let curDate = await api.storage.get('tm-list-tagSettings');\n      if (!curDate) curDate = 2;\n      for (const i in list) {\n        const el = list[i];\n        if (el.timestamp > curDate) {\n          con.info('Import', el.key, el.value);\n          await api.storage.set(el.key, el.value);\n          num++;\n        }\n      }\n      api.storage.set('tm-list-tagSettings', new Date().getTime());\n      con.info('list imported', num);\n      stopped = 0;\n    })\n    .catch(e => {\n      con.error(e);\n      stopped = 0;\n    });\n}\n\nexport function initSyncTags() {\n  con.info('SyncTags Loaded');\n  api.storage.storageOnChanged((changes, namespace) => {\n    if (namespace === 'local') {\n      for (const key in changes) {\n        if (/^tagSettings\\//i.test(key)) {\n          saveInList(key, changes[key].newValue);\n        }\n      }\n    } else {\n      for (const key in changes) {\n        if (key === 'list-tagSettings' && !stopped) {\n          importList();\n        }\n      }\n    }\n  });\n  importList();\n}\n","// Copied from https://github.com/mozilla/gecko-dev/blob/073cc24f53d0cf31403121d768812146e597cc9d/toolkit/components/extensions/schemas/manifest.json#L487-L491\nexport const patternValidationRegex = /^(https?|wss?|file|ftp|\\*):\\/\\/(\\*|\\*\\.[^*/]+|[^*/]+)\\/.*$|^file:\\/\\/\\/.*$|^resource:\\/\\/(\\*|\\*\\.[^*/]+|[^*/]+)\\/.*$|^about:/;\nconst isFirefox = typeof navigator === 'object' && navigator.userAgent.includes('Firefox/');\nexport const allStarsRegex = isFirefox ? /^(https?|wss?):[/][/][^/]+([/].*)?$/ : /^https?:[/][/][^/]+([/].*)?$/;\nexport const allUrlsRegex = /^(https?|file|ftp):[/]+/;\nfunction getRawRegex(matchPattern) {\n    if (!patternValidationRegex.test(matchPattern)) {\n        throw new Error(matchPattern + ' is an invalid pattern, it must match ' + String(patternValidationRegex));\n    }\n    let [, protocol, host, pathname] = matchPattern.split(/(^[^:]+:[/][/])([^/]+)?/);\n    protocol = protocol\n        .replace('*', isFirefox ? '(https?|wss?)' : 'https?') // Protocol wildcard\n        .replace(/[/]/g, '[/]'); // Escape slashes\n    host = (host !== null && host !== void 0 ? host : '') // Undefined for file:///\n        .replace(/^[*][.]/, '([^/]+.)*') // Initial wildcard\n        .replace(/^[*]$/, '[^/]+') // Only wildcard\n        .replace(/[.]/g, '[.]') // Escape dots\n        .replace(/[*]$/g, '[^.]+'); // Last wildcard\n    pathname = pathname\n        .replace(/[/]/g, '[/]') // Escape slashes\n        .replace(/[.]/g, '[.]') // Escape dots\n        .replace(/[*]/g, '.*'); // Any wildcard\n    return '^' + protocol + host + '(' + pathname + ')?$';\n}\nexport function patternToRegex(...matchPatterns) {\n    // No pattern, match nothing https://stackoverflow.com/q/14115522/288906\n    if (matchPatterns.length === 0) {\n        return /$./;\n    }\n    if (matchPatterns.includes('<all_urls>')) {\n        return allUrlsRegex;\n    }\n    if (matchPatterns.includes('*://*/*')) {\n        return allStarsRegex;\n    }\n    return new RegExp(matchPatterns.map(x => getRawRegex(x)).join('|'));\n}\n","import { isIframeUrl } from '../utils/manifest';\n\nconst logger = con.m('Custom Domain');\n\nexport type domainType = { domain: string; page: string; auto?: boolean };\n\nexport async function initCustomDomain() {\n  await setListener();\n  updateListener();\n  logger.log('Initialed');\n}\n\nfunction updateListener() {\n  chrome.permissions.onAdded.addListener(setListener);\n  chrome.permissions.onRemoved.addListener(setListener);\n  api.storage.storageOnChanged((changes, namespace) => {\n    if (namespace === 'sync' && changes['settings/customDomains']) {\n      logger.log('settings/customDomains changed');\n      setListener();\n    }\n  });\n}\n\nasync function setListener() {\n  if (typeof chrome.webNavigation === 'undefined') {\n    con.error('Custom Domain is not possible');\n    return;\n  }\n  const domains: domainType[] = await api.settings.getAsync('customDomains');\n  clearListener();\n  if (domains) domains.forEach(d => singleListener(d));\n}\n\nlet listenerArray: any[] = [];\n\nfunction clearListener() {\n  logger.log('Clear listener', listenerArray.length);\n  listenerArray.forEach(listen => chrome.webNavigation.onCompleted.removeListener(listen));\n  listenerArray = [];\n}\n\nfunction singleListener(domainConfig: domainType) {\n  const callback = data => {\n    logger.m('Navigation').log(domainConfig, data);\n    if (domainConfig.page === 'iframe') {\n      if (!data.frameId) {\n        logger.m('Navigation').log('Do not inject iframe on root page');\n        return;\n      }\n      chrome.tabs.executeScript(data.tabId, {\n        file: 'vendor/jquery.min.js',\n        frameId: data.frameId,\n      });\n      chrome.tabs.executeScript(data.tabId, {\n        file: 'i18n.js',\n        frameId: data.frameId,\n      });\n      chrome.tabs.executeScript(data.tabId, {\n        file: 'content/iframe.js',\n        frameId: data.frameId,\n      });\n    } else {\n      if (data.frameId) {\n        logger.m('Navigation').log('Do not inject page scripts in Iframe');\n        return;\n      }\n      chrome.tabs.executeScript(data.tabId, {\n        file: 'vendor/jquery.min.js',\n        frameId: data.frameId,\n      });\n      chrome.tabs.executeScript(data.tabId, {\n        file: 'i18n.js',\n        frameId: data.frameId,\n      });\n      chrome.tabs.executeScript(data.tabId, {\n        file: `content/page_${domainConfig.page}.js`,\n        frameId: data.frameId,\n      });\n      chrome.tabs.executeScript(data.tabId, {\n        file: 'content/content-script.js',\n        frameId: data.frameId,\n      });\n    }\n  };\n  listenerArray.push(callback);\n\n  const fixDomain = utils.makeDomainCompatible(domainConfig.domain);\n\n  try {\n    chrome.webNavigation.onCompleted.addListener(callback, {\n      url: [{ originAndPathMatches: fixDomain }],\n    });\n  } catch (e) {\n    logger.error(`Could not add listener for ${fixDomain}`, e);\n    return;\n  }\n\n  logger.m('registred').m(domainConfig.page).log(fixDomain);\n}\n\nexport async function cleanupCustomDomains() {\n  const manifest = chrome.runtime.getManifest();\n\n  const pageScripts = manifest.content_scripts!.filter(content_script => {\n    return content_script.js && content_script.js.some(e => /^content\\/page_/.test(e));\n  });\n\n  let pageOrigins: string[] = [];\n  pageScripts.forEach((item: any) => {\n    pageOrigins = pageOrigins.concat(\n      item.matches.map(origin => getComparableDomains(origin)).filter(el => el),\n    );\n  });\n\n  const customDomains = await api.settings.getAsync('customDomains');\n\n  if (customDomains) {\n    api.settings.set(\n      'customDomains',\n      customDomains.filter(customDomain => {\n        const domain = getComparableDomains(customDomain.domain);\n        if (!domain) return true;\n        return !isIframeUrl(customDomain.domain) && !pageOrigins.some(e => e.startsWith(domain));\n      }),\n    );\n  }\n}\n\nfunction getComparableDomains(domainOrigin) {\n  const scriptDomain = domainOrigin.match(/^.+:\\/\\/?(.+)/);\n  if (scriptDomain && scriptDomain.length > 1) {\n    return scriptDomain[1].replace('*.', '').replace(/(\\/|\\/?\\*)$/, '');\n  }\n  return '';\n}\n","import { patternToRegex } from 'webext-patterns';\n\nexport function isIframeUrl(url: string): boolean {\n  try {\n    const manifest = chrome.runtime.getManifest();\n\n    const iframeScript = manifest.content_scripts!.find(content_script => {\n      return content_script.js && content_script.js.includes('content/iframe.js');\n    });\n\n    if (!iframeScript || !iframeScript.matches) return false;\n\n    return patternToRegex(...iframeScript.matches).test(url);\n  } catch (e) {\n    return false;\n  }\n}\n\nexport function hasDomainPermission(url: string): boolean {\n  try {\n    const manifest = chrome.runtime.getManifest();\n\n    const found = manifest.content_scripts!.some(\n      script => script.matches && script.matches.some(pattern => patternToRegex(pattern).test(url)),\n    );\n\n    return found;\n  } catch (e) {\n    return false;\n  }\n}\n","export const defaultImg =\n  'https://raw.githubusercontent.com/MALSync/MALSync/master/assets/icons/icon128.png';\n\n// Only works on the background Page\nexport async function sendNotification(options: {\n  url: string;\n  title: string;\n  text: string;\n  image?: string;\n  sticky?: boolean;\n}) {\n  if (!options.image) options.image = defaultImg;\n\n  con.m('Notification').log(options);\n\n  const imgBlob = await getImageBlob(options.image);\n  const messageArray: chrome.notifications.NotificationOptions<true> = {\n    type: 'basic',\n    title: options.title,\n    message: options.text,\n    iconUrl: imgBlob,\n    contextMessage: 'MAL-Sync',\n    requireInteraction: options.sticky ?? false,\n    eventTime: Date.now(),\n  };\n  try {\n    chrome.notifications.create(options.url, messageArray);\n  } catch (e) {\n    con.error(e);\n    // @ts-ignore\n    delete messageArray.requireInteraction;\n    chrome.notifications.create(options.url, messageArray);\n  }\n}\n\nfunction getImageBlob(url, fallback = false): Promise<string> {\n  if (fallback) url = defaultImg;\n  return new Promise<string>((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n\n    xhr.responseType = 'blob';\n\n    xhr.onload = function () {\n      if (xhr.status === 200) {\n        const blob = xhr.response;\n        resolve(window.URL.createObjectURL(blob));\n      }\n      reject(xhr.status);\n    };\n\n    xhr.onerror = function (e) {\n      reject(e);\n    };\n\n    xhr.send();\n  }).catch(e => {\n    if (!fallback) {\n      con.info('Could not get image for notification', url);\n      return getImageBlob(url, true);\n    }\n    throw e;\n  });\n}\n","const e=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:global,t=Object.keys,n=Array.isArray;function r(e,n){return\"object\"!=typeof n||t(n).forEach((function(t){e[t]=n[t]})),e}\"undefined\"==typeof Promise||e.Promise||(e.Promise=Promise);const s=Object.getPrototypeOf,i={}.hasOwnProperty;function o(e,t){return i.call(e,t)}function a(e,n){\"function\"==typeof n&&(n=n(s(e))),(\"undefined\"==typeof Reflect?t:Reflect.ownKeys)(n).forEach((t=>{l(e,t,n[t])}))}const u=Object.defineProperty;function l(e,t,n,s){u(e,t,r(n&&o(n,\"get\")&&\"function\"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},s))}function c(e){return{from:function(t){return e.prototype=Object.create(t.prototype),l(e.prototype,\"constructor\",e),{extend:a.bind(null,e.prototype)}}}}const h=Object.getOwnPropertyDescriptor;function d(e,t){let n;return h(e,t)||(n=s(e))&&d(n,t)}const f=[].slice;function p(e,t,n){return f.call(e,t,n)}function y(e,t){return t(e)}function m(e){if(!e)throw new Error(\"Assertion Failed\")}function v(t){e.setImmediate?setImmediate(t):setTimeout(t,0)}function g(e,t){return e.reduce(((e,n,r)=>{var s=t(n,r);return s&&(e[s[0]]=s[1]),e}),{})}function b(e,t){if(o(e,t))return e[t];if(!t)return e;if(\"string\"!=typeof t){for(var n=[],r=0,s=t.length;r<s;++r){var i=b(e,t[r]);n.push(i)}return n}var a=t.indexOf(\".\");if(-1!==a){var u=e[t.substr(0,a)];return void 0===u?void 0:b(u,t.substr(a+1))}}function _(e,t,r){if(e&&void 0!==t&&(!(\"isFrozen\"in Object)||!Object.isFrozen(e)))if(\"string\"!=typeof t&&\"length\"in t){m(\"string\"!=typeof r&&\"length\"in r);for(var s=0,i=t.length;s<i;++s)_(e,t[s],r[s])}else{var a=t.indexOf(\".\");if(-1!==a){var u=t.substr(0,a),l=t.substr(a+1);if(\"\"===l)void 0===r?n(e)&&!isNaN(parseInt(u))?e.splice(u,1):delete e[u]:e[u]=r;else{var c=e[u];c&&o(e,u)||(c=e[u]={}),_(c,l,r)}}else void 0===r?n(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function w(e){var t={};for(var n in e)o(e,n)&&(t[n]=e[n]);return t}const x=[].concat;function k(e){return x.apply([],e)}const E=\"Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey\".split(\",\").concat(k([8,16,32,64].map((e=>[\"Int\",\"Uint\",\"Float\"].map((t=>t+e+\"Array\")))))).filter((t=>e[t])),P=E.map((t=>e[t]));g(E,(e=>[e,!0]));let K=null;function O(e){K=\"undefined\"!=typeof WeakMap&&new WeakMap;const t=S(e);return K=null,t}function S(e){if(!e||\"object\"!=typeof e)return e;let t=K&&K.get(e);if(t)return t;if(n(e)){t=[],K&&K.set(e,t);for(var r=0,i=e.length;r<i;++r)t.push(S(e[r]))}else if(P.indexOf(e.constructor)>=0)t=e;else{const n=s(e);for(var a in t=n===Object.prototype?{}:Object.create(n),K&&K.set(e,t),e)o(e,a)&&(t[a]=S(e[a]))}return t}const{toString:A}={};function C(e){return A.call(e).slice(8,-1)}const j=\"undefined\"!=typeof Symbol?Symbol.iterator:\"@@iterator\",D=\"symbol\"==typeof j?function(e){var t;return null!=e&&(t=e[j])&&t.apply(e)}:function(){return null},I={};function B(e){var t,r,s,i;if(1===arguments.length){if(n(e))return e.slice();if(this===I&&\"string\"==typeof e)return[e];if(i=D(e)){for(r=[];!(s=i.next()).done;)r.push(s.value);return r}if(null==e)return[e];if(\"number\"==typeof(t=e.length)){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}const T=\"undefined\"!=typeof Symbol?e=>\"AsyncFunction\"===e[Symbol.toStringTag]:()=>!1;var R=\"undefined\"!=typeof location&&/^(http|https):\\/\\/(localhost|127\\.0\\.0\\.1)/.test(location.href);function F(e,t){R=e,M=t}var M=()=>!0;const N=!new Error(\"\").stack;function q(){if(N)try{throw q.arguments,new Error}catch(e){return e}return new Error}function $(e,t){var n=e.stack;return n?(t=t||0,0===n.indexOf(e.name)&&(t+=(e.name+e.message).split(\"\\n\").length),n.split(\"\\n\").slice(t).filter(M).map((e=>\"\\n\"+e)).join(\"\")):\"\"}var U=[\"Unknown\",\"Constraint\",\"Data\",\"TransactionInactive\",\"ReadOnly\",\"Version\",\"NotFound\",\"InvalidState\",\"InvalidAccess\",\"Abort\",\"Timeout\",\"QuotaExceeded\",\"Syntax\",\"DataClone\"],L=[\"Modify\",\"Bulk\",\"OpenFailed\",\"VersionChange\",\"Schema\",\"Upgrade\",\"InvalidTable\",\"MissingAPI\",\"NoSuchDatabase\",\"InvalidArgument\",\"SubTransaction\",\"Unsupported\",\"Internal\",\"DatabaseClosed\",\"PrematureCommit\",\"ForeignAwait\"].concat(U),V={VersionChanged:\"Database version changed by other database connection\",DatabaseClosed:\"Database has been closed\",Abort:\"Transaction aborted\",TransactionInactive:\"Transaction has already completed or failed\",MissingAPI:\"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\"};function W(e,t){this._e=q(),this.name=e,this.message=t}function Y(e,t){return e+\". Errors: \"+Object.keys(t).map((e=>t[e].toString())).filter(((e,t,n)=>n.indexOf(e)===t)).join(\"\\n\")}function z(e,t,n,r){this._e=q(),this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Y(e,t)}function G(e,t){this._e=q(),this.name=\"BulkError\",this.failures=Object.keys(t).map((e=>t[e])),this.failuresByPos=t,this.message=Y(e,t)}c(W).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+\": \"+this.message+$(this._e,2))}},toString:function(){return this.name+\": \"+this.message}}),c(z).from(W),c(G).from(W);var H=L.reduce(((e,t)=>(e[t]=t+\"Error\",e)),{});const Q=W;var X=L.reduce(((e,t)=>{var n=t+\"Error\";function r(e,r){this._e=q(),this.name=n,e?\"string\"==typeof e?(this.message=`${e}${r?\"\\n \"+r:\"\"}`,this.inner=r||null):\"object\"==typeof e&&(this.message=`${e.name} ${e.message}`,this.inner=e):(this.message=V[t]||n,this.inner=null)}return c(r).from(Q),e[t]=r,e}),{});X.Syntax=SyntaxError,X.Type=TypeError,X.Range=RangeError;var J=U.reduce(((e,t)=>(e[t+\"Error\"]=X[t],e)),{});var Z=L.reduce(((e,t)=>(-1===[\"Syntax\",\"Type\",\"Range\"].indexOf(t)&&(e[t+\"Error\"]=X[t]),e)),{});function ee(){}function te(e){return e}function ne(e,t){return null==e||e===te?t:function(n){return t(e(n))}}function re(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function se(e,t){return e===ee?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var i=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?re(r,this.onsuccess):r),s&&(this.onerror=this.onerror?re(s,this.onerror):s),void 0!==i?i:n}}function ie(e,t){return e===ee?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?re(n,this.onsuccess):n),r&&(this.onerror=this.onerror?re(r,this.onerror):r)}}function oe(e,t){return e===ee?t:function(n){var s=e.apply(this,arguments);r(n,s);var i=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?re(i,this.onsuccess):i),o&&(this.onerror=this.onerror?re(o,this.onerror):o),void 0===s?void 0===a?void 0:a:r(s,a)}}function ae(e,t){return e===ee?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function ue(e,t){return e===ee?t:function(){var n=e.apply(this,arguments);if(n&&\"function\"==typeof n.then){for(var r=this,s=arguments.length,i=new Array(s);s--;)i[s]=arguments[s];return n.then((function(){return t.apply(r,i)}))}return t.apply(this,arguments)}}Z.ModifyError=z,Z.DexieError=W,Z.BulkError=G;var le={};const ce=100,[he,de,fe]=\"undefined\"==typeof Promise?[]:(()=>{let e=Promise.resolve();if(\"undefined\"==typeof crypto||!crypto.subtle)return[e,s(e),e];const t=crypto.subtle.digest(\"SHA-512\",new Uint8Array([0]));return[t,s(t),e]})(),pe=de&&de.then,ye=he&&he.constructor,me=!!fe;var ve=!1,ge=fe?()=>{fe.then($e)}:e.setImmediate?setImmediate.bind(null,$e):e.MutationObserver?()=>{var e=document.createElement(\"div\");new MutationObserver((()=>{$e(),e=null})).observe(e,{attributes:!0}),e.setAttribute(\"i\",\"1\")}:()=>{setTimeout($e,0)},be=function(e,t){Se.push([e,t]),we&&(ge(),we=!1)},_e=!0,we=!0,xe=[],ke=[],Ee=null,Pe=te,Ke={id:\"global\",global:!0,ref:0,unhandleds:[],onunhandled:dt,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach((e=>{try{dt(e[0],e[1])}catch(e){}}))}},Oe=Ke,Se=[],Ae=0,Ce=[];function je(e){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");this._listeners=[],this.onuncatched=ee,this._lib=!1;var t=this._PSD=Oe;if(R&&(this._stackHolder=q(),this._prev=null,this._numPrev=0),\"function\"!=typeof e){if(e!==le)throw new TypeError(\"Not a function\");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Te(this,this._value))}this._state=null,this._value=null,++t.ref,Be(this,e)}const De={get:function(){var e=Oe,t=Xe;function n(n,r){var s=!e.global&&(e!==Oe||t!==Xe);const i=s&&!tt();var o=new je(((t,o)=>{Fe(this,new Ie(lt(n,e,s,i),lt(r,e,s,i),t,o,e))}));return R&&qe(o,this),o}return n.prototype=le,n},set:function(e){l(this,\"then\",e&&e.prototype===le?De:{get:function(){return e},set:De.set})}};function Ie(e,t,n,r,s){this.onFulfilled=\"function\"==typeof e?e:null,this.onRejected=\"function\"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=s}function Be(e,t){try{t((t=>{if(null===e._state){if(t===e)throw new TypeError(\"A promise cannot be resolved with itself.\");var n=e._lib&&Ue();t&&\"function\"==typeof t.then?Be(e,((e,n)=>{t instanceof je?t._then(e,n):t.then(e,n)})):(e._state=!0,e._value=t,Re(e)),n&&Le()}}),Te.bind(null,e))}catch(t){Te(e,t)}}function Te(e,t){if(ke.push(t),null===e._state){var n=e._lib&&Ue();t=Pe(t),e._state=!1,e._value=t,R&&null!==t&&\"object\"==typeof t&&!t._promise&&function(e,t,n){try{e.apply(null,n)}catch(e){t&&t(e)}}((()=>{var n=d(t,\"stack\");t._promise=e,l(t,\"stack\",{get:()=>ve?n&&(n.get?n.get.apply(t):n.value):e.stack})})),function(e){xe.some((t=>t._value===e._value))||xe.push(e)}(e),Re(e),n&&Le()}}function Re(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Fe(e,t[n]);var s=e._PSD;--s.ref||s.finalize(),0===Ae&&(++Ae,be((()=>{0==--Ae&&Ve()}),[]))}function Fe(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Ae,be(Me,[n,e,t])}else e._listeners.push(t)}function Me(e,t,n){try{Ee=t;var r,s=t._value;t._state?r=e(s):(ke.length&&(ke=[]),r=e(s),-1===ke.indexOf(s)&&function(e){var t=xe.length;for(;t;)if(xe[--t]._value===e._value)return void xe.splice(t,1)}(t)),n.resolve(r)}catch(e){n.reject(e)}finally{Ee=null,0==--Ae&&Ve(),--n.psd.ref||n.psd.finalize()}}function Ne(e,t,n){if(t.length===n)return t;var r=\"\";if(!1===e._state){var s,i,o=e._value;null!=o?(s=o.name||\"Error\",i=o.message||o,r=$(o,0)):(s=o,i=\"\"),t.push(s+(i?\": \"+i:\"\")+r)}return R&&((r=$(e._stackHolder,2))&&-1===t.indexOf(r)&&t.push(r),e._prev&&Ne(e._prev,t,n)),t}function qe(e,t){var n=t?t._numPrev+1:0;n<100&&(e._prev=t,e._numPrev=n)}function $e(){Ue()&&Le()}function Ue(){var e=_e;return _e=!1,we=!1,e}function Le(){var e,t,n;do{for(;Se.length>0;)for(e=Se,Se=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(Se.length>0);_e=!0,we=!0}function Ve(){var e=xe;xe=[],e.forEach((e=>{e._PSD.onunhandled.call(null,e._value,e)}));for(var t=Ce.slice(0),n=t.length;n;)t[--n]()}function We(e){return new je(le,!1,e)}function Ye(e,t){var n=Oe;return function(){var r=Ue(),s=Oe;try{return it(n,!0),e.apply(this,arguments)}catch(e){t&&t(e)}finally{it(s,!1),r&&Le()}}}a(je.prototype,{then:De,_then:function(e,t){Fe(this,new Ie(null,null,e,t,Oe))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return\"function\"==typeof t?this.then(null,(e=>e instanceof t?n(e):We(e))):this.then(null,(e=>e&&e.name===t?n(e):We(e)))},finally:function(e){return this.then((t=>(e(),t)),(t=>(e(),We(t))))},stack:{get:function(){if(this._stack)return this._stack;try{ve=!0;var e=Ne(this,[],20).join(\"\\nFrom previous: \");return null!==this._state&&(this._stack=e),e}finally{ve=!1}}},timeout:function(e,t){return e<1/0?new je(((n,r)=>{var s=setTimeout((()=>r(new X.Timeout(t))),e);this.then(n,r).finally(clearTimeout.bind(null,s))})):this}}),\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&l(je.prototype,Symbol.toStringTag,\"Dexie.Promise\"),Ke.env=ot(),a(je,{all:function(){var e=B.apply(null,arguments).map(nt);return new je((function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(((s,i)=>je.resolve(s).then((n=>{e[i]=n,--r||t(e)}),n)))}))},resolve:e=>{if(e instanceof je)return e;if(e&&\"function\"==typeof e.then)return new je(((t,n)=>{e.then(t,n)}));var t=new je(le,!0,e);return qe(t,Ee),t},reject:We,race:function(){var e=B.apply(null,arguments).map(nt);return new je(((t,n)=>{e.map((e=>je.resolve(e).then(t,n)))}))},PSD:{get:()=>Oe,set:e=>Oe=e},totalEchoes:{get:()=>Xe},newPSD:Ze,usePSD:at,scheduler:{get:()=>be,set:e=>{be=e}},rejectionMapper:{get:()=>Pe,set:e=>{Pe=e}},follow:(e,t)=>new je(((n,r)=>Ze(((t,n)=>{var r=Oe;r.unhandleds=[],r.onunhandled=n,r.finalize=re((function(){!function(e){function t(){e(),Ce.splice(Ce.indexOf(t),1)}Ce.push(t),++Ae,be((()=>{0==--Ae&&Ve()}),[])}((()=>{0===this.unhandleds.length?t():n(this.unhandleds[0])}))}),r.finalize),e()}),t,n,r)))}),ye&&(ye.allSettled&&l(je,\"allSettled\",(function(){const e=B.apply(null,arguments).map(nt);return new je((t=>{0===e.length&&t([]);let n=e.length;const r=new Array(n);e.forEach(((e,s)=>je.resolve(e).then((e=>r[s]={status:\"fulfilled\",value:e}),(e=>r[s]={status:\"rejected\",reason:e})).then((()=>--n||t(r)))))}))})),ye.any&&\"undefined\"!=typeof AggregateError&&l(je,\"any\",(function(){const e=B.apply(null,arguments).map(nt);return new je(((t,n)=>{0===e.length&&n(new AggregateError([]));let r=e.length;const s=new Array(r);e.forEach(((e,i)=>je.resolve(e).then((e=>t(e)),(e=>{s[i]=e,--r||n(new AggregateError(s))}))))}))})));const ze={awaits:0,echoes:0,id:0};var Ge=0,He=[],Qe=0,Xe=0,Je=0;function Ze(e,t,n,s){var i=Oe,o=Object.create(i);o.parent=i,o.ref=0,o.global=!1,o.id=++Je;var a=Ke.env;o.env=me?{Promise:je,PromiseProp:{value:je,configurable:!0,writable:!0},all:je.all,race:je.race,allSettled:je.allSettled,any:je.any,resolve:je.resolve,reject:je.reject,nthen:ct(a.nthen,o),gthen:ct(a.gthen,o)}:{},t&&r(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=at(o,e,n,s);return 0===o.ref&&o.finalize(),u}function et(){return ze.id||(ze.id=++Ge),++ze.awaits,ze.echoes+=ce,ze.id}function tt(){return!!ze.awaits&&(0==--ze.awaits&&(ze.id=0),ze.echoes=ze.awaits*ce,!0)}function nt(e){return ze.echoes&&e&&e.constructor===ye?(et(),e.then((e=>(tt(),e)),(e=>(tt(),ft(e))))):e}function rt(e){++Xe,ze.echoes&&0!=--ze.echoes||(ze.echoes=ze.id=0),He.push(Oe),it(e,!0)}function st(){var e=He[He.length-1];He.pop(),it(e,!1)}function it(t,n){var r=Oe;if((n?!ze.echoes||Qe++&&t===Oe:!Qe||--Qe&&t===Oe)||ut(n?rt.bind(null,t):st),t!==Oe&&(Oe=t,r===Ke&&(Ke.env=ot()),me)){var s=Ke.env.Promise,i=t.env;de.then=i.nthen,s.prototype.then=i.gthen,(r.global||t.global)&&(Object.defineProperty(e,\"Promise\",i.PromiseProp),s.all=i.all,s.race=i.race,s.resolve=i.resolve,s.reject=i.reject,i.allSettled&&(s.allSettled=i.allSettled),i.any&&(s.any=i.any))}}function ot(){var t=e.Promise;return me?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(e,\"Promise\"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:de.then,gthen:t.prototype.then}:{}}function at(e,t,n,r,s){var i=Oe;try{return it(e,!0),t(n,r,s)}finally{it(i,!1)}}function ut(e){pe.call(he,e)}function lt(e,t,n,r){return\"function\"!=typeof e?e:function(){var s=Oe;n&&et(),it(t,!0);try{return e.apply(this,arguments)}finally{it(s,!1),r&&ut(tt)}}}function ct(e,t){return function(n,r){return e.call(this,lt(n,t),lt(r,t))}}-1===(\"\"+pe).indexOf(\"[native code]\")&&(et=tt=ee);const ht=\"unhandledrejection\";function dt(t,n){var s;try{s=n.onuncatched(t)}catch(e){}if(!1!==s)try{var i,o={promise:n,reason:t};if(e.document&&document.createEvent?((i=document.createEvent(\"Event\")).initEvent(ht,!0,!0),r(i,o)):e.CustomEvent&&r(i=new CustomEvent(ht,{detail:o}),o),i&&e.dispatchEvent&&(dispatchEvent(i),!e.PromiseRejectionEvent&&e.onunhandledrejection))try{e.onunhandledrejection(i)}catch(e){}R&&i&&!i.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch(e){}}var ft=je.reject;function pt(e,t,n,r){if(e.idbdb&&(e._state.openComplete||Oe.letThrough||e._vip)){var s=e._createTransaction(t,n,e._dbSchema);try{s.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===H.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn(\"Dexie: Need to reopen db\"),e._close(),e.open().then((()=>pt(e,t,n,r)))):ft(s)}return s._promise(t,((e,t)=>Ze((()=>(Oe.trans=s,r(e,t,s)))))).then((e=>s._completion.then((()=>e))))}if(e._state.openComplete)return ft(new X.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return ft(new X.DatabaseClosed);e.open().catch(ee)}return e._state.dbReadyPromise.then((()=>pt(e,t,n,r)))}const yt=\"3.2.4\",mt=String.fromCharCode(65535),vt=-1/0,gt=\"Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.\",bt=\"String expected.\",_t=[],wt=\"undefined\"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),xt=wt,kt=wt,Et=e=>!/(dexie\\.js|dexie\\.min\\.js)/.test(e),Pt=\"__dbnames\",Kt=\"readonly\",Ot=\"readwrite\";function St(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}const At={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ct(e){return\"string\"!=typeof e||/\\./.test(e)?e=>e:t=>(void 0===t[e]&&e in t&&delete(t=O(t))[e],t)}class jt{_trans(e,t,n){const r=this._tx||Oe.trans,s=this.name;function i(e,n,r){if(!r.schema[s])throw new X.NotFound(\"Table \"+s+\" not part of transaction\");return t(r.idbtrans,r)}const o=Ue();try{return r&&r.db===this.db?r===Oe.trans?r._promise(e,i,n):Ze((()=>r._promise(e,i,n)),{trans:r,transless:Oe.transless||Oe}):pt(this.db,e,[this.name],i)}finally{o&&Le()}}get(e,t){return e&&e.constructor===Object?this.where(e).first(t):this._trans(\"readonly\",(t=>this.core.get({trans:t,key:e}).then((e=>this.hook.reading.fire(e))))).then(t)}where(e){if(\"string\"==typeof e)return new this.db.WhereClause(this,e);if(n(e))return new this.db.WhereClause(this,`[${e.join(\"+\")}]`);const r=t(e);if(1===r.length)return this.where(r[0]).equals(e[r[0]]);const s=this.schema.indexes.concat(this.schema.primKey).filter((e=>e.compound&&r.every((t=>e.keyPath.indexOf(t)>=0))&&e.keyPath.every((e=>r.indexOf(e)>=0))))[0];if(s&&this.db._maxKey!==mt)return this.where(s.name).equals(s.keyPath.map((t=>e[t])));!s&&R&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${r.join(\"+\")}]`);const{idxByName:i}=this.schema,o=this.db._deps.indexedDB;function a(e,t){try{return 0===o.cmp(e,t)}catch(e){return!1}}const[u,l]=r.reduce((([t,r],s)=>{const o=i[s],u=e[s];return[t||o,t||!o?St(r,o&&o.multi?e=>{const t=b(e,s);return n(t)&&t.some((e=>a(u,e)))}:e=>a(u,b(e,s))):r]}),[null,null]);return u?this.where(u.name).equals(e[u.keyPath]).filter(l):s?this.filter(l):this.where(r).equals(\"\")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,n(e)?`[${e.join(\"+\")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const t=t=>{if(!t)return t;const n=Object.create(e.prototype);for(var r in t)if(o(t,r))try{n[r]=t[r]}catch(e){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=t,this.hook(\"reading\",t),e}defineClass(){return this.mapToClass((function(e){r(this,e)}))}add(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let s=e;return r&&n&&(s=Ct(r)(e)),this._trans(\"readwrite\",(e=>this.core.mutate({trans:e,type:\"add\",keys:null!=t?[t]:null,values:[s]}))).then((e=>e.numFailures?je.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{_(e,r,t)}catch(e){}return t}))}update(e,r){if(\"object\"!=typeof e||n(e))return this.where(\":id\").equals(e).modify(r);{const n=b(e,this.schema.primKey.keyPath);if(void 0===n)return ft(new X.InvalidArgument(\"Given object does not contain its primary key\"));try{\"function\"!=typeof r?t(r).forEach((t=>{_(e,t,r[t])})):r(e,{value:e,primKey:n})}catch(e){}return this.where(\":id\").equals(n).modify(r)}}put(e,t){const{auto:n,keyPath:r}=this.schema.primKey;let s=e;return r&&n&&(s=Ct(r)(e)),this._trans(\"readwrite\",(e=>this.core.mutate({trans:e,type:\"put\",values:[s],keys:null!=t?[t]:null}))).then((e=>e.numFailures?je.reject(e.failures[0]):e.lastResult)).then((t=>{if(r)try{_(e,r,t)}catch(e){}return t}))}delete(e){return this._trans(\"readwrite\",(t=>this.core.mutate({trans:t,type:\"delete\",keys:[e]}))).then((e=>e.numFailures?je.reject(e.failures[0]):void 0))}clear(){return this._trans(\"readwrite\",(e=>this.core.mutate({trans:e,type:\"deleteRange\",range:At}))).then((e=>e.numFailures?je.reject(e.failures[0]):void 0))}bulkGet(e){return this._trans(\"readonly\",(t=>this.core.getMany({keys:e,trans:t}).then((e=>e.map((e=>this.hook.reading.fire(e)))))))}bulkAdd(e,t,n){const r=Array.isArray(t)?t:void 0,s=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans(\"readwrite\",(t=>{const{auto:n,keyPath:i}=this.schema.primKey;if(i&&r)throw new X.InvalidArgument(\"bulkAdd(): keys argument invalid on tables with inbound keys\");if(r&&r.length!==e.length)throw new X.InvalidArgument(\"Arguments objects and keys must have the same length\");const o=e.length;let a=i&&n?e.map(Ct(i)):e;return this.core.mutate({trans:t,type:\"add\",keys:r,values:a,wantResults:s}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return s?t:n;throw new G(`${this.name}.bulkAdd(): ${e} of ${o} operations failed`,r)}))}))}bulkPut(e,t,n){const r=Array.isArray(t)?t:void 0,s=(n=n||(r?void 0:t))?n.allKeys:void 0;return this._trans(\"readwrite\",(t=>{const{auto:n,keyPath:i}=this.schema.primKey;if(i&&r)throw new X.InvalidArgument(\"bulkPut(): keys argument invalid on tables with inbound keys\");if(r&&r.length!==e.length)throw new X.InvalidArgument(\"Arguments objects and keys must have the same length\");const o=e.length;let a=i&&n?e.map(Ct(i)):e;return this.core.mutate({trans:t,type:\"put\",keys:r,values:a,wantResults:s}).then((({numFailures:e,results:t,lastResult:n,failures:r})=>{if(0===e)return s?t:n;throw new G(`${this.name}.bulkPut(): ${e} of ${o} operations failed`,r)}))}))}bulkDelete(e){const t=e.length;return this._trans(\"readwrite\",(t=>this.core.mutate({trans:t,type:\"delete\",keys:e}))).then((({numFailures:e,lastResult:n,failures:r})=>{if(0===e)return n;throw new G(`${this.name}.bulkDelete(): ${e} of ${t} operations failed`,r)}))}}function Dt(e){var r={},s=function(t,n){if(n){for(var s=arguments.length,i=new Array(s-1);--s;)i[s-1]=arguments[s];return r[t].subscribe.apply(null,i),e}if(\"string\"==typeof t)return r[t]};s.addEventType=a;for(var i=1,o=arguments.length;i<o;++i)a(arguments[i]);return s;function a(e,i,o){if(\"object\"!=typeof e){var u;i||(i=ae),o||(o=ee);var l={subscribers:[],fire:o,subscribe:function(e){-1===l.subscribers.indexOf(e)&&(l.subscribers.push(e),l.fire=i(l.fire,e))},unsubscribe:function(e){l.subscribers=l.subscribers.filter((function(t){return t!==e})),l.fire=l.subscribers.reduce(i,o)}};return r[e]=s[e]=l,l}t(u=e).forEach((function(e){var t=u[e];if(n(t))a(e,u[e][0],u[e][1]);else{if(\"asap\"!==t)throw new X.InvalidArgument(\"Invalid event config\");var r=a(e,te,(function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];r.subscribers.forEach((function(e){v((function(){e.apply(null,t)}))}))}))}}))}}function It(e,t){return c(t).from({prototype:e}),t}function Bt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Tt(e,t){e.filter=St(e.filter,t)}function Rt(e,t,n){var r=e.replayFilter;e.replayFilter=r?()=>St(r(),t()):t,e.justLimit=n&&!r}function Ft(e,t){if(e.isPrimKey)return t.primaryKey;const n=t.getIndexByKeyPath(e.index);if(!n)throw new X.Schema(\"KeyPath \"+e.index+\" on object store \"+t.name+\" is not indexed\");return n}function Mt(e,t,n){const r=Ft(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:\"prev\"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Nt(e,t,n,r){const s=e.replayFilter?St(e.filter,e.replayFilter()):e.filter;if(e.or){const i={},a=(e,n,r)=>{if(!s||s(n,r,(e=>n.stop(e)),(e=>n.fail(e)))){var a=n.primaryKey,u=\"\"+a;\"[object ArrayBuffer]\"===u&&(u=\"\"+new Uint8Array(a)),o(i,u)||(i[u]=!0,t(e,n,r))}};return Promise.all([e.or._iterate(a,n),qt(Mt(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return qt(Mt(e,r,n),St(e.algorithm,s),t,!e.keysOnly&&e.valueMapper)}function qt(e,t,n,r){var s=Ye(r?(e,t,s)=>n(r(e),t,s):n);return e.then((e=>{if(e)return e.start((()=>{var n=()=>e.continue();t&&!t(e,(e=>n=e),(t=>{e.stop(t),n=ee}),(t=>{e.fail(t),n=ee}))||s(e.value,e,(e=>n=e)),n()}))}))}function $t(e,t){try{const n=Ut(e),r=Ut(t);if(n!==r)return\"Array\"===n?1:\"Array\"===r?-1:\"binary\"===n?1:\"binary\"===r?-1:\"string\"===n?1:\"string\"===r?-1:\"Date\"===n?1:\"Date\"!==r?NaN:-1;switch(n){case\"number\":case\"Date\":case\"string\":return e>t?1:e<t?-1:0;case\"binary\":return function(e,t){const n=e.length,r=t.length,s=n<r?n:r;for(let n=0;n<s;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return n===r?0:n<r?-1:1}(Lt(e),Lt(t));case\"Array\":return function(e,t){const n=e.length,r=t.length,s=n<r?n:r;for(let n=0;n<s;++n){const r=$t(e[n],t[n]);if(0!==r)return r}return n===r?0:n<r?-1:1}(e,t)}}catch(e){}return NaN}function Ut(e){const t=typeof e;if(\"object\"!==t)return t;if(ArrayBuffer.isView(e))return\"binary\";const n=C(e);return\"ArrayBuffer\"===n?\"binary\":n}function Lt(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}class Vt{_read(e,t){var n=this._ctx;return n.error?n.table._trans(null,ft.bind(null,n.error)):n.table._trans(\"readonly\",e).then(t)}_write(e){var t=this._ctx;return t.error?t.table._trans(null,ft.bind(null,t.error)):t.table._trans(\"readwrite\",e,\"locked\")}_addAlgorithm(e){var t=this._ctx;t.algorithm=St(t.algorithm,e)}_iterate(e,t){return Nt(this._ctx,e,t,this._ctx.table.core)}clone(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&r(n,e),t._ctx=n,t}raw(){return this._ctx.valueMapper=null,this}each(e){var t=this._ctx;return this._read((n=>Nt(t,e,n,t.table.core)))}count(e){return this._read((e=>{const t=this._ctx,n=t.table.core;if(Bt(t,!0))return n.count({trans:e,query:{index:Ft(t,n.schema),range:t.range}}).then((e=>Math.min(e,t.limit)));var r=0;return Nt(t,(()=>(++r,!1)),e,n).then((()=>r))})).then(e)}sortBy(e,t){const n=e.split(\".\").reverse(),r=n[0],s=n.length-1;function i(e,t){return t?i(e[n[t]],t-1):e[r]}var o=\"next\"===this._ctx.dir?1:-1;function a(e,t){var n=i(e,s),r=i(t,s);return n<r?-o:n>r?o:0}return this.toArray((function(e){return e.sort(a)})).then(t)}toArray(e){return this._read((e=>{var t=this._ctx;if(\"next\"===t.dir&&Bt(t,!0)&&t.limit>0){const{valueMapper:n}=t,r=Ft(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:!0,query:{index:r,range:t.range}}).then((({result:e})=>n?e.map(n):e))}{const n=[];return Nt(t,(e=>n.push(e)),e,t.table.core).then((()=>n))}}),e)}offset(e){var t=this._ctx;return e<=0||(t.offset+=e,Bt(t)?Rt(t,(()=>{var t=e;return(e,n)=>0===t||(1===t?(--t,!1):(n((()=>{e.advance(t),t=0})),!1))})):Rt(t,(()=>{var t=e;return()=>--t<0}))),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),Rt(this._ctx,(()=>{var t=e;return function(e,n,r){return--t<=0&&n(r),t>=0}}),!0),this}until(e,t){return Tt(this._ctx,(function(n,r,s){return!e(n.value)||(r(s),t)})),this}first(e){return this.limit(1).toArray((function(e){return e[0]})).then(e)}last(e){return this.reverse().first(e)}filter(e){var t,n;return Tt(this._ctx,(function(t){return e(t.value)})),t=this._ctx,n=e,t.isMatch=St(t.isMatch,n),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=\"prev\"===this._ctx.dir?\"next\":\"prev\",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.key,n)}))}eachUniqueKey(e){return this._ctx.unique=\"unique\",this.eachKey(e)}eachPrimaryKey(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each((function(t,n){e(n.primaryKey,n)}))}keys(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.key)})).then((function(){return n})).then(e)}primaryKeys(e){var t=this._ctx;if(\"next\"===t.dir&&Bt(t,!0)&&t.limit>0)return this._read((e=>{var n=Ft(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})})).then((({result:e})=>e)).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each((function(e,t){n.push(t.primaryKey)})).then((function(){return n})).then(e)}uniqueKeys(e){return this._ctx.unique=\"unique\",this.keys(e)}firstKey(e){return this.limit(1).keys((function(e){return e[0]})).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};return Tt(this._ctx,(function(e){var t=e.primaryKey.toString(),r=o(n,t);return n[t]=!0,!r})),this}modify(e){var n=this._ctx;return this._write((r=>{var s;if(\"function\"==typeof e)s=e;else{var i=t(e),o=i.length;s=function(t){for(var n=!1,r=0;r<o;++r){var s=i[r],a=e[s];b(t,s)!==a&&(_(t,s,a),n=!0)}return n}}const a=n.table.core,{outbound:u,extractKey:l}=a.schema.primaryKey,c=this.db._options.modifyChunkSize||200,h=[];let d=0;const f=[],p=(e,n)=>{const{failures:r,numFailures:s}=n;d+=e-s;for(let e of t(r))h.push(r[e])};return this.clone().primaryKeys().then((t=>{const i=o=>{const h=Math.min(c,t.length-o);return a.getMany({trans:r,keys:t.slice(o,o+h),cache:\"immutable\"}).then((d=>{const f=[],y=[],m=u?[]:null,v=[];for(let e=0;e<h;++e){const n=d[e],r={value:O(n),primKey:t[o+e]};!1!==s.call(r,r.value,r)&&(null==r.value?v.push(t[o+e]):u||0===$t(l(n),l(r.value))?(y.push(r.value),u&&m.push(t[o+e])):(v.push(t[o+e]),f.push(r.value)))}const g=Bt(n)&&n.limit===1/0&&(\"function\"!=typeof e||e===Wt)&&{index:n.index,range:n.range};return Promise.resolve(f.length>0&&a.mutate({trans:r,type:\"add\",values:f}).then((e=>{for(let t in e.failures)v.splice(parseInt(t),1);p(f.length,e)}))).then((()=>(y.length>0||g&&\"object\"==typeof e)&&a.mutate({trans:r,type:\"put\",keys:m,values:y,criteria:g,changeSpec:\"function\"!=typeof e&&e}).then((e=>p(y.length,e))))).then((()=>(v.length>0||g&&e===Wt)&&a.mutate({trans:r,type:\"delete\",keys:v,criteria:g}).then((e=>p(v.length,e))))).then((()=>t.length>o+h&&i(o+c)))}))};return i(0).then((()=>{if(h.length>0)throw new z(\"Error modifying one or more objects\",h,d,f);return t.length}))}))}))}delete(){var e=this._ctx,t=e.range;return Bt(e)&&(e.isPrimKey&&!kt||3===t.type)?this._write((n=>{const{primaryKey:r}=e.table.core.schema,s=t;return e.table.core.count({trans:n,query:{index:r,range:s}}).then((t=>e.table.core.mutate({trans:n,type:\"deleteRange\",range:s}).then((({failures:e,lastResult:n,results:r,numFailures:s})=>{if(s)throw new z(\"Could not delete some values\",Object.keys(e).map((t=>e[t])),t-s);return t-s}))))})):this.modify(Wt)}}const Wt=(e,t)=>t.value=null;function Yt(e,t){return e<t?-1:e===t?0:1}function zt(e,t){return e>t?-1:e===t?0:1}function Gt(e,t,n){var r=e instanceof en?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Ht(e){return new e.Collection(e,(()=>Zt(\"\"))).limit(0)}function Qt(e,t,n,r,s,i){for(var o=Math.min(e.length,r.length),a=-1,u=0;u<o;++u){var l=t[u];if(l!==r[u])return s(e[u],n[u])<0?e.substr(0,u)+n[u]+n.substr(u+1):s(e[u],r[u])<0?e.substr(0,u)+r[u]+n.substr(u+1):a>=0?e.substr(0,a)+t[a]+n.substr(a+1):null;s(e[u],l)<0&&(a=u)}return o<r.length&&\"next\"===i?e+n.substr(e.length):o<e.length&&\"prev\"===i?e.substr(0,n.length):a<0?null:e.substr(0,a)+r[a]+n.substr(a+1)}function Xt(e,t,n,r){var s,i,o,a,u,l,c,h=n.length;if(!n.every((e=>\"string\"==typeof e)))return Gt(e,bt);function d(e){s=function(e){return\"next\"===e?e=>e.toUpperCase():e=>e.toLowerCase()}(e),i=function(e){return\"next\"===e?e=>e.toLowerCase():e=>e.toUpperCase()}(e),o=\"next\"===e?Yt:zt;var t=n.map((function(e){return{lower:i(e),upper:s(e)}})).sort((function(e,t){return o(e.lower,t.lower)}));a=t.map((function(e){return e.upper})),u=t.map((function(e){return e.lower})),l=e,c=\"next\"===e?\"\":r}d(\"next\");var f=new e.Collection(e,(()=>Jt(a[0],u[h-1]+r)));f._ondirectionchange=function(e){d(e)};var p=0;return f._addAlgorithm((function(e,n,r){var s=e.key;if(\"string\"!=typeof s)return!1;var d=i(s);if(t(d,u,p))return!0;for(var f=null,y=p;y<h;++y){var m=Qt(s,d,a[y],u[y],o,l);null===m&&null===f?p=y+1:(null===f||o(f,m)>0)&&(f=m)}return n(null!==f?function(){e.continue(f+c)}:r),!1})),f}function Jt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Zt(e){return{type:1,lower:e,upper:e}}class en{get Collection(){return this._ctx.table.db.Collection}between(e,t,n,r){n=!1!==n,r=!0===r;try{return this._cmp(e,t)>0||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?Ht(this):new this.Collection(this,(()=>Jt(e,t,!n,!r)))}catch(e){return Gt(this,gt)}}equals(e){return null==e?Gt(this,gt):new this.Collection(this,(()=>Zt(e)))}above(e){return null==e?Gt(this,gt):new this.Collection(this,(()=>Jt(e,void 0,!0)))}aboveOrEqual(e){return null==e?Gt(this,gt):new this.Collection(this,(()=>Jt(e,void 0,!1)))}below(e){return null==e?Gt(this,gt):new this.Collection(this,(()=>Jt(void 0,e,!1,!0)))}belowOrEqual(e){return null==e?Gt(this,gt):new this.Collection(this,(()=>Jt(void 0,e)))}startsWith(e){return\"string\"!=typeof e?Gt(this,bt):this.between(e,e+mt,!0,!0)}startsWithIgnoreCase(e){return\"\"===e?this.startsWith(e):Xt(this,((e,t)=>0===e.indexOf(t[0])),[e],mt)}equalsIgnoreCase(e){return Xt(this,((e,t)=>e===t[0]),[e],\"\")}anyOfIgnoreCase(){var e=B.apply(I,arguments);return 0===e.length?Ht(this):Xt(this,((e,t)=>-1!==t.indexOf(e)),e,\"\")}startsWithAnyOfIgnoreCase(){var e=B.apply(I,arguments);return 0===e.length?Ht(this):Xt(this,((e,t)=>t.some((t=>0===e.indexOf(t)))),e,mt)}anyOf(){const e=B.apply(I,arguments);let t=this._cmp;try{e.sort(t)}catch(e){return Gt(this,gt)}if(0===e.length)return Ht(this);const n=new this.Collection(this,(()=>Jt(e[0],e[e.length-1])));n._ondirectionchange=n=>{t=\"next\"===n?this._ascending:this._descending,e.sort(t)};let r=0;return n._addAlgorithm(((n,s,i)=>{const o=n.key;for(;t(o,e[r])>0;)if(++r,r===e.length)return s(i),!1;return 0===t(o,e[r])||(s((()=>{n.continue(e[r])})),!1)})),n}notEqual(e){return this.inAnyRange([[vt,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=B.apply(I,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return Gt(this,gt)}const t=e.reduce(((e,t)=>e?e.concat([[e[e.length-1][1],t]]):[[vt,t]]),null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,t){const n=this._cmp,r=this._ascending,s=this._descending,i=this._min,o=this._max;if(0===e.length)return Ht(this);if(!e.every((e=>void 0!==e[0]&&void 0!==e[1]&&r(e[0],e[1])<=0)))return Gt(this,\"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower\",X.InvalidArgument);const a=!t||!1!==t.includeLowers,u=t&&!0===t.includeUppers;let l,c=r;function h(e,t){return c(e[0],t[0])}try{l=e.reduce((function(e,t){let r=0,s=e.length;for(;r<s;++r){const s=e[r];if(n(t[0],s[1])<0&&n(t[1],s[0])>0){s[0]=i(s[0],t[0]),s[1]=o(s[1],t[1]);break}}return r===s&&e.push(t),e}),[]),l.sort(h)}catch(e){return Gt(this,gt)}let d=0;const f=u?e=>r(e,l[d][1])>0:e=>r(e,l[d][1])>=0,p=a?e=>s(e,l[d][0])>0:e=>s(e,l[d][0])>=0;let y=f;const m=new this.Collection(this,(()=>Jt(l[0][0],l[l.length-1][1],!a,!u)));return m._ondirectionchange=e=>{\"next\"===e?(y=f,c=r):(y=p,c=s),l.sort(h)},m._addAlgorithm(((e,t,n)=>{for(var s=e.key;y(s);)if(++d,d===l.length)return t(n),!1;return!!function(e){return!f(e)&&!p(e)}(s)||(0===this._cmp(s,l[d][1])||0===this._cmp(s,l[d][0])||t((()=>{c===r?e.continue(l[d][0]):e.continue(l[d][1])})),!1)})),m}startsWithAnyOf(){const e=B.apply(I,arguments);return e.every((e=>\"string\"==typeof e))?0===e.length?Ht(this):this.inAnyRange(e.map((e=>[e,e+mt]))):Gt(this,\"startsWithAnyOf() only works with strings\")}}function tn(e){return Ye((function(t){return nn(t),e(t.target.error),!1}))}function nn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}const rn=\"storagemutated\",sn=\"x-storagemutated-1\",on=Dt(null,rn);class an{_lock(){return m(!Oe.global),++this._reculock,1!==this._reculock||Oe.global||(Oe.lockOwnerFor=this),this}_unlock(){if(m(!Oe.global),0==--this._reculock)for(Oe.global||(Oe.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{at(e[1],e[0])}catch(e){}}return this}_locked(){return this._reculock&&Oe.lockOwnerFor!==this}create(e){if(!this.mode)return this;const t=this.db.idbdb,n=this.db._state.dbOpenError;if(m(!this.idbtrans),!e&&!t)switch(n&&n.name){case\"DatabaseClosedError\":throw new X.DatabaseClosed(n);case\"MissingAPIError\":throw new X.MissingAPI(n.message,n);default:throw new X.OpenFailed(n)}if(!this.active)throw new X.TransactionInactive;return m(null===this._completion._state),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):t.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=Ye((t=>{nn(t),this._reject(e.error)})),e.onabort=Ye((t=>{nn(t),this.active&&this._reject(new X.Abort(e.error)),this.active=!1,this.on(\"abort\").fire(t)})),e.oncomplete=Ye((()=>{this.active=!1,this._resolve(),\"mutatedParts\"in e&&on.storagemutated.fire(e.mutatedParts)})),this}_promise(e,t,n){if(\"readwrite\"===e&&\"readwrite\"!==this.mode)return ft(new X.ReadOnly(\"Transaction is readonly\"));if(!this.active)return ft(new X.TransactionInactive);if(this._locked())return new je(((r,s)=>{this._blockedFuncs.push([()=>{this._promise(e,t,n).then(r,s)},Oe])}));if(n)return Ze((()=>{var e=new je(((e,n)=>{this._lock();const r=t(e,n,this);r&&r.then&&r.then(e,n)}));return e.finally((()=>this._unlock())),e._lib=!0,e}));var r=new je(((e,n)=>{var r=t(e,n,this);r&&r.then&&r.then(e,n)}));return r._lib=!0,r}_root(){return this.parent?this.parent._root():this}waitFor(e){var t=this._root();const n=je.resolve(e);if(t._waitingFor)t._waitingFor=t._waitingFor.then((()=>n));else{t._waitingFor=n,t._waitingQueue=[];var r=t.idbtrans.objectStore(t.storeNames[0]);!function e(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(r.get(-1/0).onsuccess=e)}()}var s=t._waitingFor;return new je(((e,r)=>{n.then((n=>t._waitingQueue.push(Ye(e.bind(null,n)))),(e=>t._waitingQueue.push(Ye(r.bind(null,e))))).finally((()=>{t._waitingFor===s&&(t._waitingFor=null)}))}))}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new X.Abort))}table(e){const t=this._memoizedTables||(this._memoizedTables={});if(o(t,e))return t[e];const n=this.schema[e];if(!n)throw new X.NotFound(\"Table \"+e+\" not part of transaction\");const r=new this.db.Table(e,n,this);return r.core=this.db.core.table(e),t[e]=r,r}}function un(e,t,n,r,s,i,o){return{name:e,keyPath:t,unique:n,multi:r,auto:s,compound:i,src:(n&&!o?\"&\":\"\")+(r?\"*\":\"\")+(s?\"++\":\"\")+ln(t)}}function ln(e){return\"string\"==typeof e?e:e?\"[\"+[].join.call(e,\"+\")+\"]\":\"\"}function cn(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:g(n,(e=>[e.name,e]))}}let hn=e=>{try{return e.only([[]]),hn=()=>[[]],[[]]}catch(e){return hn=()=>mt,mt}};function dn(e){return null==e?()=>{}:\"string\"==typeof e?function(e){const t=e.split(\".\");return 1===t.length?t=>t[e]:t=>b(t,e)}(e):t=>b(t,e)}function fn(e){return[].slice.call(e)}let pn=0;function yn(e){return null==e?\":id\":\"string\"==typeof e?e:`[${e.join(\"+\")}]`}function mn(e,t,r){function s(e){if(3===e.type)return null;if(4===e.type)throw new Error(\"Cannot convert never type to IDBKeyRange\");const{lower:n,upper:r,lowerOpen:s,upperOpen:i}=e;return void 0===n?void 0===r?null:t.upperBound(r,!!i):void 0===r?t.lowerBound(n,!!s):t.bound(n,r,!!s,!!i)}const{schema:i,hasGetAll:o}=function(e,t){const r=fn(e.objectStoreNames);return{schema:{name:e.name,tables:r.map((e=>t.objectStore(e))).map((e=>{const{keyPath:t,autoIncrement:r}=e,s=n(t),i=null==t,o={},a={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:i,compound:s,keyPath:t,autoIncrement:r,unique:!0,extractKey:dn(t)},indexes:fn(e.indexNames).map((t=>e.index(t))).map((e=>{const{name:t,unique:r,multiEntry:s,keyPath:i}=e,a={name:t,compound:n(i),keyPath:i,unique:r,multiEntry:s,extractKey:dn(i)};return o[yn(i)]=a,a})),getIndexByKeyPath:e=>o[yn(e)]};return o[\":id\"]=a.primaryKey,null!=t&&(o[yn(t)]=a.primaryKey),a}))},hasGetAll:r.length>0&&\"getAll\"in t.objectStore(r[0])&&!(\"undefined\"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\\/|Edge\\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1]<604)}}(e,r),a=i.tables.map((e=>function(e){const t=e.name;return{name:t,schema:e,mutate:function({trans:e,type:n,keys:r,values:i,range:o}){return new Promise(((a,u)=>{a=Ye(a);const l=e.objectStore(t),c=null==l.keyPath,h=\"put\"===n||\"add\"===n;if(!h&&\"delete\"!==n&&\"deleteRange\"!==n)throw new Error(\"Invalid operation type: \"+n);const{length:d}=r||i||{length:1};if(r&&i&&r.length!==i.length)throw new Error(\"Given keys array must have same length as given values array.\");if(0===d)return a({numFailures:0,failures:{},results:[],lastResult:void 0});let f;const p=[],y=[];let m=0;const v=e=>{++m,nn(e)};if(\"deleteRange\"===n){if(4===o.type)return a({numFailures:m,failures:y,results:[],lastResult:void 0});3===o.type?p.push(f=l.clear()):p.push(f=l.delete(s(o)))}else{const[e,t]=h?c?[i,r]:[i,null]:[r,null];if(h)for(let r=0;r<d;++r)p.push(f=t&&void 0!==t[r]?l[n](e[r],t[r]):l[n](e[r])),f.onerror=v;else for(let t=0;t<d;++t)p.push(f=l[n](e[t])),f.onerror=v}const g=e=>{const t=e.target.result;p.forEach(((e,t)=>null!=e.error&&(y[t]=e.error))),a({numFailures:m,failures:y,results:\"delete\"===n?r:p.map((e=>e.result)),lastResult:t})};f.onerror=e=>{v(e),g(e)},f.onsuccess=g}))},getMany:({trans:e,keys:n})=>new Promise(((r,s)=>{r=Ye(r);const i=e.objectStore(t),o=n.length,a=new Array(o);let u,l=0,c=0;const h=e=>{const t=e.target;a[t._pos]=t.result,++c===l&&r(a)},d=tn(s);for(let e=0;e<o;++e)null!=n[e]&&(u=i.get(n[e]),u._pos=e,u.onsuccess=h,u.onerror=d,++l);0===l&&r(a)})),get:({trans:e,key:n})=>new Promise(((r,s)=>{r=Ye(r);const i=e.objectStore(t).get(n);i.onsuccess=e=>r(e.target.result),i.onerror=tn(s)})),query:function(e){return n=>new Promise(((r,i)=>{r=Ye(r);const{trans:o,values:a,limit:u,query:l}=n,c=u===1/0?void 0:u,{index:h,range:d}=l,f=o.objectStore(t),p=h.isPrimaryKey?f:f.index(h.name),y=s(d);if(0===u)return r({result:[]});if(e){const e=a?p.getAll(y,c):p.getAllKeys(y,c);e.onsuccess=e=>r({result:e.target.result}),e.onerror=tn(i)}else{let e=0;const t=a||!(\"openKeyCursor\"in p)?p.openCursor(y):p.openKeyCursor(y),n=[];t.onsuccess=s=>{const i=t.result;return i?(n.push(a?i.value:i.primaryKey),++e===u?r({result:n}):void i.continue()):r({result:n})},t.onerror=tn(i)}}))}(o),openCursor:function({trans:e,values:n,query:r,reverse:i,unique:o}){return new Promise(((a,u)=>{a=Ye(a);const{index:l,range:c}=r,h=e.objectStore(t),d=l.isPrimaryKey?h:h.index(l.name),f=i?o?\"prevunique\":\"prev\":o?\"nextunique\":\"next\",p=n||!(\"openKeyCursor\"in d)?d.openCursor(s(c),f):d.openKeyCursor(s(c),f);p.onerror=tn(u),p.onsuccess=Ye((t=>{const n=p.result;if(!n)return void a(null);n.___id=++pn,n.done=!1;const r=n.continue.bind(n);let s=n.continuePrimaryKey;s&&(s=s.bind(n));const i=n.advance.bind(n),o=()=>{throw new Error(\"Cursor not stopped\")};n.trans=e,n.stop=n.continue=n.continuePrimaryKey=n.advance=()=>{throw new Error(\"Cursor not started\")},n.fail=Ye(u),n.next=function(){let e=1;return this.start((()=>e--?this.continue():this.stop())).then((()=>this))},n.start=e=>{const t=new Promise(((e,t)=>{e=Ye(e),p.onerror=tn(t),n.fail=t,n.stop=t=>{n.stop=n.continue=n.continuePrimaryKey=n.advance=o,e(t)}})),a=()=>{if(p.result)try{e()}catch(e){n.fail(e)}else n.done=!0,n.start=()=>{throw new Error(\"Cursor behind last entry\")},n.stop()};return p.onsuccess=Ye((e=>{p.onsuccess=a,a()})),n.continue=r,n.continuePrimaryKey=s,n.advance=i,a(),t},a(n)}),u)}))},count({query:e,trans:n}){const{index:r,range:i}=e;return new Promise(((e,o)=>{const a=n.objectStore(t),u=r.isPrimaryKey?a:a.index(r.name),l=s(i),c=l?u.count(l):u.count();c.onsuccess=Ye((t=>e(t.target.result))),c.onerror=tn(o)}))}}}(e))),u={};return a.forEach((e=>u[e.name]=e)),{stack:\"dbcore\",transaction:e.transaction.bind(e),table(e){if(!u[e])throw new Error(`Table '${e}' not found`);return u[e]},MIN_KEY:-1/0,MAX_KEY:hn(t),schema:i}}function vn({_novip:e},t){const n=t.db,r=function(e,t,{IDBKeyRange:n,indexedDB:r},s){const i=function(e,t){return t.reduce(((e,{create:t})=>({...e,...t(e)})),e)}(mn(t,n,s),e.dbcore);return{dbcore:i}}(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach((t=>{const n=t.name;e.core.schema.tables.some((e=>e.name===n))&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))}))}function gn({_novip:e},t,n,r){n.forEach((n=>{const s=r[n];t.forEach((t=>{const r=d(t,n);(!r||\"value\"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?l(t,n,{get(){return this.table(n)},set(e){u(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,s))}))}))}function bn({_novip:e},t){t.forEach((t=>{for(let n in t)t[n]instanceof e.Table&&delete t[n]}))}function _n(e,t){return e._cfg.version-t._cfg.version}function wn(e,n,r,s){const i=e._dbSchema,o=e._createTransaction(\"readwrite\",e._storeNames,i);o.create(r),o._completion.catch(s);const a=o._reject.bind(o),u=Oe.transless||Oe;Ze((()=>{Oe.trans=o,Oe.transless=u,0===n?(t(i).forEach((e=>{kn(r,e,i[e].primKey,i[e].indexes)})),vn(e,r),je.follow((()=>e.on.populate.fire(o))).catch(a)):function({_novip:e},n,r,s){const i=[],o=e._versions;let a=e._dbSchema=Pn(e,e.idbdb,s),u=!1;const l=o.filter((e=>e._cfg.version>=n));function c(){return i.length?je.resolve(i.shift()(r.idbtrans)).then(c):je.resolve()}return l.forEach((o=>{i.push((()=>{const i=a,l=o._cfg.dbschema;Kn(e,i,s),Kn(e,l,s),a=e._dbSchema=l;const c=xn(i,l);c.add.forEach((e=>{kn(s,e[0],e[1].primKey,e[1].indexes)})),c.change.forEach((e=>{if(e.recreate)throw new X.Upgrade(\"Not yet support for changing primary key\");{const t=s.objectStore(e.name);e.add.forEach((e=>En(t,e))),e.change.forEach((e=>{t.deleteIndex(e.name),En(t,e)})),e.del.forEach((e=>t.deleteIndex(e)))}}));const h=o._cfg.contentUpgrade;if(h&&o._cfg.version>n){vn(e,s),r._memoizedTables={},u=!0;let n=w(l);c.del.forEach((e=>{n[e]=i[e]})),bn(e,[e.Transaction.prototype]),gn(e,[e.Transaction.prototype],t(n),n),r.schema=n;const o=T(h);let a;o&&et();const d=je.follow((()=>{if(a=h(r),a&&o){var e=tt.bind(null,null);a.then(e,e)}}));return a&&\"function\"==typeof a.then?je.resolve(a):d.then((()=>a))}})),i.push((t=>{if(!u||!xt){!function(e,t){[].slice.call(t.db.objectStoreNames).forEach((n=>null==e[n]&&t.db.deleteObjectStore(n)))}(o._cfg.dbschema,t)}bn(e,[e.Transaction.prototype]),gn(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),r.schema=e._dbSchema}))})),c().then((()=>{var e,n;n=s,t(e=a).forEach((t=>{n.db.objectStoreNames.contains(t)||kn(n,t,e[t].primKey,e[t].indexes)}))}))}(e,n,o,r).catch(a)}))}function xn(e,t){const n={del:[],add:[],change:[]};let r;for(r in e)t[r]||n.del.push(r);for(r in t){const s=e[r],i=t[r];if(s){const e={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(\"\"+(s.primKey.keyPath||\"\")!=\"\"+(i.primKey.keyPath||\"\")||s.primKey.auto!==i.primKey.auto&&!wt)e.recreate=!0,n.change.push(e);else{const t=s.idxByName,r=i.idxByName;let o;for(o in t)r[o]||e.del.push(o);for(o in r){const n=t[o],s=r[o];n?n.src!==s.src&&e.change.push(s):e.add.push(s)}(e.del.length>0||e.add.length>0||e.change.length>0)&&n.change.push(e)}}else n.add.push([r,i])}return n}function kn(e,t,n,r){const s=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach((e=>En(s,e))),s}function En(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Pn(e,t,n){const r={};return p(t.objectStoreNames,0).forEach((e=>{const t=n.objectStore(e);let s=t.keyPath;const i=un(ln(s),s||\"\",!1,!1,!!t.autoIncrement,s&&\"string\"!=typeof s,!0),o=[];for(let e=0;e<t.indexNames.length;++e){const n=t.index(t.indexNames[e]);s=n.keyPath;var a=un(n.name,s,!!n.unique,!!n.multiEntry,!1,s&&\"string\"!=typeof s,!1);o.push(a)}r[e]=cn(e,i,o)})),r}function Kn({_novip:t},n,r){const s=r.db.objectStoreNames;for(let e=0;e<s.length;++e){const i=s[e],o=r.objectStore(i);t._hasGetAll=\"getAll\"in o;for(let e=0;e<o.indexNames.length;++e){const t=o.indexNames[e],r=o.index(t).keyPath,s=\"string\"==typeof r?r:\"[\"+p(r).join(\"+\")+\"]\";if(n[i]){const e=n[i].idxByName[s];e&&(e.name=t,delete n[i].idxByName[s],n[i].idxByName[t]=e)}}}\"undefined\"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\\/|Edge\\/)/.test(navigator.userAgent)&&e.WorkerGlobalScope&&e instanceof e.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1]<604&&(t._hasGetAll=!1)}class On{_parseStoresSpec(e,r){t(e).forEach((t=>{if(null!==e[t]){var s=e[t].split(\",\").map(((e,t)=>{const r=(e=e.trim()).replace(/([&*]|\\+\\+)/g,\"\"),s=/^\\[/.test(r)?r.match(/^\\[(.*)\\]$/)[1].split(\"+\"):r;return un(r,s||null,/\\&/.test(e),/\\*/.test(e),/\\+\\+/.test(e),n(s),0===t)})),i=s.shift();if(i.multi)throw new X.Schema(\"Primary key cannot be multi-valued\");s.forEach((e=>{if(e.auto)throw new X.Schema(\"Only primary key can be marked as autoIncrement (++)\");if(!e.keyPath)throw new X.Schema(\"Index must have a name and cannot be an empty string\")})),r[t]=cn(t,i,s)}}))}stores(e){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?r(this._cfg.storesSource,e):e;const s=n._versions,i={};let o={};return s.forEach((e=>{r(i,e._cfg.storesSource),o=e._cfg.dbschema={},e._parseStoresSpec(i,o)})),n._dbSchema=o,bn(n,[n._allTables,n,n.Transaction.prototype]),gn(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],t(o),o),n._storeNames=t(o),this}upgrade(e){return this._cfg.contentUpgrade=ue(this._cfg.contentUpgrade||ee,e),this}}function Sn(e,t){let n=e._dbNamesDB;return n||(n=e._dbNamesDB=new Xn(Pt,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:\"name\"})),n.table(\"dbnames\")}function An(e){return e&&\"function\"==typeof e.databases}function Cn(e){return Ze((function(){return Oe.letThrough=!0,e()}))}function jn(){var e;return!navigator.userAgentData&&/Safari\\//.test(navigator.userAgent)&&!/Chrom(e|ium)\\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(t){var n=function(){return indexedDB.databases().finally(t)};e=setInterval(n,100),n()})).finally((function(){return clearInterval(e)})):Promise.resolve()}function Dn(e){const n=e._state,{indexedDB:r}=e._deps;if(n.isBeingOpened||e.idbdb)return n.dbReadyPromise.then((()=>n.dbOpenError?ft(n.dbOpenError):e));R&&(n.openCanceller._stackHolder=q()),n.isBeingOpened=!0,n.dbOpenError=null,n.openComplete=!1;const s=n.openCanceller;function i(){if(n.openCanceller!==s)throw new X.DatabaseClosed(\"db.open() was cancelled\")}let o=n.dbReadyResolve,a=null,u=!1;return je.race([s,(\"undefined\"==typeof navigator?je.resolve():jn()).then((()=>new je(((s,o)=>{if(i(),!r)throw new X.MissingAPI;const l=e.name,c=n.autoSchema?r.open(l):r.open(l,Math.round(10*e.verno));if(!c)throw new X.MissingAPI;c.onerror=tn(o),c.onblocked=Ye(e._fireOnBlocked),c.onupgradeneeded=Ye((t=>{if(a=c.transaction,n.autoSchema&&!e._options.allowEmptyDB){c.onerror=nn,a.abort(),c.result.close();const e=r.deleteDatabase(l);e.onsuccess=e.onerror=Ye((()=>{o(new X.NoSuchDatabase(`Database ${l} doesnt exist`))}))}else{a.onerror=tn(o);var s=t.oldVersion>Math.pow(2,62)?0:t.oldVersion;u=s<1,e._novip.idbdb=c.result,wn(e,s/10,a,o)}}),o),c.onsuccess=Ye((()=>{a=null;const r=e._novip.idbdb=c.result,i=p(r.objectStoreNames);if(i.length>0)try{const s=r.transaction(1===(o=i).length?o[0]:o,\"readonly\");n.autoSchema?function({_novip:e},n,r){e.verno=n.version/10;const s=e._dbSchema=Pn(0,n,r);e._storeNames=p(n.objectStoreNames,0),gn(e,[e._allTables],t(s),s)}(e,r,s):(Kn(e,e._dbSchema,s),function(e,t){const n=xn(Pn(0,e.idbdb,t),e._dbSchema);return!(n.add.length||n.change.some((e=>e.add.length||e.change.length)))}(e,s)||console.warn(\"Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.\")),vn(e,s)}catch(e){}var o;_t.push(e),r.onversionchange=Ye((t=>{n.vcFired=!0,e.on(\"versionchange\").fire(t)})),r.onclose=Ye((t=>{e.on(\"close\").fire(t)})),u&&function({indexedDB:e,IDBKeyRange:t},n){!An(e)&&n!==Pt&&Sn(e,t).put({name:n}).catch(ee)}(e._deps,l),s()}),o)}))))]).then((()=>(i(),n.onReadyBeingFired=[],je.resolve(Cn((()=>e.on.ready.fire(e.vip)))).then((function t(){if(n.onReadyBeingFired.length>0){let r=n.onReadyBeingFired.reduce(ue,ee);return n.onReadyBeingFired=[],je.resolve(Cn((()=>r(e.vip)))).then(t)}}))))).finally((()=>{n.onReadyBeingFired=null,n.isBeingOpened=!1})).then((()=>e)).catch((t=>{n.dbOpenError=t;try{a&&a.abort()}catch(e){}return s===n.openCanceller&&e._close(),ft(t)})).finally((()=>{n.openComplete=!0,o()}))}function In(e){var t=t=>e.next(t),r=i(t),s=i((t=>e.throw(t)));function i(e){return t=>{var i=e(t),o=i.value;return i.done?o:o&&\"function\"==typeof o.then?o.then(r,s):n(o)?Promise.all(o).then(r,s):r(o)}}return i(t)()}function Bn(e,t,n){var r=arguments.length;if(r<2)throw new X.InvalidArgument(\"Too few arguments\");for(var s=new Array(r-1);--r;)s[r-1]=arguments[r];return n=s.pop(),[e,k(s),n]}function Tn(e,t,n,r,s){return je.resolve().then((()=>{const i=Oe.transless||Oe,o=e._createTransaction(t,n,e._dbSchema,r),a={trans:o,transless:i};if(r)o.idbtrans=r.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(r){return r.name===H.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn(\"Dexie: Need to reopen db\"),e._close(),e.open().then((()=>Tn(e,t,n,null,s)))):ft(r)}const u=T(s);let l;u&&et();const c=je.follow((()=>{if(l=s.call(o,o),l)if(u){var e=tt.bind(null,null);l.then(e,e)}else\"function\"==typeof l.next&&\"function\"==typeof l.throw&&(l=In(l))}),a);return(l&&\"function\"==typeof l.then?je.resolve(l).then((e=>o.active?e:ft(new X.PrematureCommit(\"Transaction committed too early. See http://bit.ly/2kdckMn\")))):c.then((()=>l))).then((e=>(r&&o._resolve(),o._completion.then((()=>e))))).catch((e=>(o._reject(e),ft(e))))}))}function Rn(e,t,r){const s=n(e)?e.slice():[e];for(let e=0;e<r;++e)s.push(t);return s}const Fn={stack:\"dbcore\",name:\"VirtualIndexMiddleware\",level:1,create:function(e){return{...e,table(t){const n=e.table(t),{schema:r}=n,s={},i=[];function o(e,t,n){const r=yn(e),a=s[r]=s[r]||[],u=null==e?0:\"string\"==typeof e?1:e.length,l=t>0,c={...n,isVirtual:l,keyTail:t,keyLength:u,extractKey:dn(e),unique:!l&&n.unique};if(a.push(c),c.isPrimaryKey||i.push(c),u>1){o(2===u?e[0]:e.slice(0,u-1),t+1,n)}return a.sort(((e,t)=>e.keyTail-t.keyTail)),c}const a=o(r.primaryKey.keyPath,0,r.primaryKey);s[\":id\"]=[a];for(const e of r.indexes)o(e.keyPath,0,e);function u(t){const n=t.query.index;return n.isVirtual?{...t,query:{index:n,range:(r=t.query.range,s=n.keyTail,{type:1===r.type?2:r.type,lower:Rn(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,s),lowerOpen:!0,upper:Rn(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,s),upperOpen:!0})}}:t;var r,s}const l={...n,schema:{...r,primaryKey:a,indexes:i,getIndexByKeyPath:function(e){const t=s[yn(e)];return t&&t[0]}},count:e=>n.count(u(e)),query:e=>n.query(u(e)),openCursor(t){const{keyTail:r,isVirtual:s,keyLength:i}=t.query.index;if(!s)return n.openCursor(t);return n.openCursor(u(t)).then((n=>n&&function(n){const s=Object.create(n,{continue:{value:function(s){null!=s?n.continue(Rn(s,t.reverse?e.MAX_KEY:e.MIN_KEY,r)):t.unique?n.continue(n.key.slice(0,i).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,r)):n.continue()}},continuePrimaryKey:{value(t,s){n.continuePrimaryKey(Rn(t,e.MAX_KEY,r),s)}},primaryKey:{get:()=>n.primaryKey},key:{get(){const e=n.key;return 1===i?e[0]:e.slice(0,i)}},value:{get:()=>n.value}});return s}(n)))}};return l}}}};function Mn(e,n,r,s){return r=r||{},s=s||\"\",t(e).forEach((t=>{if(o(n,t)){var i=e[t],a=n[t];if(\"object\"==typeof i&&\"object\"==typeof a&&i&&a){const e=C(i);e!==C(a)?r[s+t]=n[t]:\"Object\"===e?Mn(i,a,r,s+t+\".\"):i!==a&&(r[s+t]=n[t])}else i!==a&&(r[s+t]=n[t])}else r[s+t]=void 0})),t(n).forEach((t=>{o(e,t)||(r[s+t]=n[t])})),r}const Nn={stack:\"dbcore\",name:\"HooksMiddleware\",level:2,create:e=>({...e,table(t){const n=e.table(t),{primaryKey:r}=n.schema,s={...n,mutate(e){const s=Oe.trans,{deleting:i,creating:a,updating:u}=s.table(t).hook;switch(e.type){case\"add\":if(a.fire===ee)break;return s._promise(\"readwrite\",(()=>l(e)),!0);case\"put\":if(a.fire===ee&&u.fire===ee)break;return s._promise(\"readwrite\",(()=>l(e)),!0);case\"delete\":if(i.fire===ee)break;return s._promise(\"readwrite\",(()=>l(e)),!0);case\"deleteRange\":if(i.fire===ee)break;return s._promise(\"readwrite\",(()=>function(e){return c(e.trans,e.range,1e4)}(e)),!0)}return n.mutate(e);function l(e){const t=Oe.trans,s=e.keys||function(e,t){return\"delete\"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}(r,e);if(!s)throw new Error(\"Keys missing\");return\"delete\"!==(e=\"add\"===e.type||\"put\"===e.type?{...e,keys:s}:{...e}).type&&(e.values=[...e.values]),e.keys&&(e.keys=[...e.keys]),function(e,t,n){return\"add\"===t.type?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:\"immutable\"})}(n,e,s).then((l=>{const c=s.map(((n,s)=>{const c=l[s],h={onerror:null,onsuccess:null};if(\"delete\"===e.type)i.fire.call(h,n,c,t);else if(\"add\"===e.type||void 0===c){const i=a.fire.call(h,n,e.values[s],t);null==n&&null!=i&&(n=i,e.keys[s]=n,r.outbound||_(e.values[s],r.keyPath,n))}else{const r=Mn(c,e.values[s]),i=u.fire.call(h,r,n,c,t);if(i){const t=e.values[s];Object.keys(i).forEach((e=>{o(t,e)?t[e]=i[e]:_(t,e,i[e])}))}}return h}));return n.mutate(e).then((({failures:t,results:n,numFailures:r,lastResult:i})=>{for(let r=0;r<s.length;++r){const i=n?n[r]:s[r],o=c[r];null==i?o.onerror&&o.onerror(t[r]):o.onsuccess&&o.onsuccess(\"put\"===e.type&&l[r]?e.values[r]:i)}return{failures:t,results:n,numFailures:r,lastResult:i}})).catch((e=>(c.forEach((t=>t.onerror&&t.onerror(e))),Promise.reject(e))))}))}function c(e,t,s){return n.query({trans:e,values:!1,query:{index:r,range:t},limit:s}).then((({result:n})=>l({type:\"delete\",keys:n,trans:e}).then((r=>r.numFailures>0?Promise.reject(r.failures[0]):n.length<s?{failures:[],numFailures:0,lastResult:void 0}:c(e,{...t,lower:n[n.length-1],lowerOpen:!0},s)))))}}};return s}})};function qn(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;const r=[];for(let s=0,i=0;s<t.keys.length&&i<e.length;++s)0===$t(t.keys[s],e[i])&&(r.push(n?O(t.values[s]):t.values[s]),++i);return r.length===e.length?r:null}catch(e){return null}}const $n={stack:\"dbcore\",level:-1,create:e=>({table:t=>{const n=e.table(t);return{...n,getMany:e=>{if(!e.cache)return n.getMany(e);const t=qn(e.keys,e.trans._cache,\"clone\"===e.cache);return t?je.resolve(t):n.getMany(e).then((t=>(e.trans._cache={keys:e.keys,values:\"clone\"===e.cache?O(t):t},t)))},mutate:e=>(\"add\"!==e.type&&(e.trans._cache=null),n.mutate(e))}}})};function Un(e){return!(\"from\"in e)}const Ln=function(e,t){if(!this){const t=new Ln;return e&&\"d\"in e&&r(t,e),t}r(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0})};function Vn(e,t,n){const s=$t(t,n);if(isNaN(s))return;if(s>0)throw RangeError();if(Un(e))return r(e,{from:t,to:n,d:1});const i=e.l,o=e.r;if($t(n,e.from)<0)return i?Vn(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},Gn(e);if($t(t,e.to)>0)return o?Vn(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},Gn(e);$t(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),$t(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);const a=!e.r;i&&!e.l&&Wn(e,i),o&&a&&Wn(e,o)}function Wn(e,t){Un(t)||function e(t,{from:n,to:r,l:s,r:i}){Vn(t,n,r),s&&e(t,s),i&&e(t,i)}(e,t)}function Yn(e,t){const n=zn(t);let r=n.next();if(r.done)return!1;let s=r.value;const i=zn(e);let o=i.next(s.from),a=o.value;for(;!r.done&&!o.done;){if($t(a.from,s.to)<=0&&$t(a.to,s.from)>=0)return!0;$t(s.from,a.from)<0?s=(r=n.next(a.from)).value:a=(o=i.next(s.from)).value}return!1}function zn(e){let t=Un(e)?null:{s:0,n:e};return{next(e){const n=arguments.length>0;for(;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&$t(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||$t(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Gn(e){var t,n;const r=((null===(t=e.r)||void 0===t?void 0:t.d)||0)-((null===(n=e.l)||void 0===n?void 0:n.d)||0),s=r>1?\"r\":r<-1?\"l\":\"\";if(s){const t=\"r\"===s?\"l\":\"r\",n={...e},r=e[s];e.from=r.from,e.to=r.to,e[s]=r[s],n[s]=r[t],e[t]=n,n.d=Hn(n)}e.d=Hn(e)}function Hn({r:e,l:t}){return(e?t?Math.max(e.d,t.d):e.d:t?t.d:0)+1}a(Ln.prototype,{add(e){return Wn(this,e),this},addKey(e){return Vn(this,e,e),this},addKeys(e){return e.forEach((e=>Vn(this,e,e))),this},[j](){return zn(this)}});const Qn={stack:\"dbcore\",level:0,create:e=>{const r=e.schema.name,s=new Ln(e.MIN_KEY,e.MAX_KEY);return{...e,table:i=>{const o=e.table(i),{schema:a}=o,{primaryKey:u}=a,{extractKey:l,outbound:c}=u,h={...o,mutate:e=>{const t=e.trans,u=t.mutatedParts||(t.mutatedParts={}),l=e=>{const t=`idb://${r}/${i}/${e}`;return u[t]||(u[t]=new Ln)},c=l(\"\"),h=l(\":dels\"),{type:d}=e;let[f,p]=\"deleteRange\"===e.type?[e.range]:\"delete\"===e.type?[e.keys]:e.values.length<50?[[],e.values]:[];const y=e.trans._cache;return o.mutate(e).then((e=>{if(n(f)){\"delete\"!==d&&(f=e.results),c.addKeys(f);const t=qn(f,y);t||\"add\"===d||h.addKeys(f),(t||p)&&function(e,t,r,s){function i(t){const i=e(t.name||\"\");function o(e){return null!=e?t.extractKey(e):null}const a=e=>t.multiEntry&&n(e)?e.forEach((e=>i.addKey(e))):i.addKey(e);(r||s).forEach(((e,t)=>{const n=r&&o(r[t]),i=s&&o(s[t]);0!==$t(n,i)&&(null!=n&&a(n),null!=i&&a(i))}))}t.indexes.forEach(i)}(l,a,t,p)}else if(f){const e={from:f.lower,to:f.upper};h.add(e),c.add(e)}else c.add(s),h.add(s),a.indexes.forEach((e=>l(e.name).add(s)));return e}))}},d=({query:{index:t,range:n}})=>{var r,s;return[t,new Ln(null!==(r=n.lower)&&void 0!==r?r:e.MIN_KEY,null!==(s=n.upper)&&void 0!==s?s:e.MAX_KEY)]},f={get:e=>[u,new Ln(e.key)],getMany:e=>[u,(new Ln).addKeys(e.keys)],count:d,query:d,openCursor:d};return t(f).forEach((e=>{h[e]=function(t){const{subscr:n}=Oe;if(n){const a=e=>{const t=`idb://${r}/${i}/${e}`;return n[t]||(n[t]=new Ln)},u=a(\"\"),h=a(\":dels\"),[d,p]=f[e](t);if(a(d.name||\"\").add(p),!d.isPrimaryKey){if(\"count\"!==e){const n=\"query\"===e&&c&&t.values&&o.query({...t,values:!1});return o[e].apply(this,arguments).then((r=>{if(\"query\"===e){if(c&&t.values)return n.then((({result:e})=>(u.addKeys(e),r)));const e=t.values?r.result.map(l):r.result;t.values?u.addKeys(e):h.addKeys(e)}else if(\"openCursor\"===e){const e=r,n=t.values;return e&&Object.create(e,{key:{get:()=>(h.addKey(e.primaryKey),e.key)},primaryKey:{get(){const t=e.primaryKey;return h.addKey(t),t}},value:{get:()=>(n&&u.addKey(e.primaryKey),e.value)}})}return r}))}h.add(s)}}return o[e].apply(this,arguments)}})),h}}}};class Xn{constructor(e,t){this._middlewares={},this.verno=0;const n=Xn.dependencies;this._options=t={addons:Xn.addons,autoOpen:!0,indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange,...t},this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};const{addons:r}=t;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ee,dbReadyPromise:null,cancelOpen:ee,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var i;s.dbReadyPromise=new je((e=>{s.dbReadyResolve=e})),s.openCanceller=new je(((e,t)=>{s.cancelOpen=t})),this._state=s,this.name=e,this.on=Dt(this,\"populate\",\"blocked\",\"versionchange\",\"close\",{ready:[ue,ee]}),this.on.ready.subscribe=y(this.on.ready.subscribe,(e=>(t,n)=>{Xn.vip((()=>{const r=this._state;if(r.openComplete)r.dbOpenError||je.resolve().then(t),n&&e(t);else if(r.onReadyBeingFired)r.onReadyBeingFired.push(t),n&&e(t);else{e(t);const r=this;n||e((function e(){r.on.ready.unsubscribe(t),r.on.ready.unsubscribe(e)}))}}))})),this.Collection=(i=this,It(Vt.prototype,(function(e,t){this.db=i;let n=At,r=null;if(t)try{n=t()}catch(e){r=e}const s=e._ctx,o=s.table,a=o.hook.reading.fire;this._ctx={table:o,index:s.index,isPrimKey:!s.index||o.schema.primKey.keyPath&&s.index===o.schema.primKey.name,range:n,keysOnly:!1,dir:\"next\",unique:\"\",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:s.or,valueMapper:a!==te?a:null}}))),this.Table=function(e){return It(jt.prototype,(function(t,n,r){this.db=e,this._tx=r,this.name=t,this.schema=n,this.hook=e._allTables[t]?e._allTables[t].hook:Dt(null,{creating:[se,ee],reading:[ne,te],updating:[oe,ee],deleting:[ie,ee]})}))}(this),this.Transaction=function(e){return It(an.prototype,(function(t,n,r,s,i){this.db=e,this.mode=t,this.storeNames=n,this.schema=r,this.chromeTransactionDurability=s,this.idbtrans=null,this.on=Dt(this,\"complete\",\"error\",\"abort\"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new je(((e,t)=>{this._resolve=e,this._reject=t})),this._completion.then((()=>{this.active=!1,this.on.complete.fire()}),(e=>{var t=this.active;return this.active=!1,this.on.error.fire(e),this.parent?this.parent._reject(e):t&&this.idbtrans&&this.idbtrans.abort(),ft(e)}))}))}(this),this.Version=function(e){return It(On.prototype,(function(t){this.db=e,this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}}))}(this),this.WhereClause=function(e){return It(en.prototype,(function(t,n,r){this.db=e,this._ctx={table:t,index:\":id\"===n?null:n,or:r};const s=e._deps.indexedDB;if(!s)throw new X.MissingAPI;this._cmp=this._ascending=s.cmp.bind(s),this._descending=(e,t)=>s.cmp(t,e),this._max=(e,t)=>s.cmp(e,t)>0?e:t,this._min=(e,t)=>s.cmp(e,t)<0?e:t,this._IDBKeyRange=e._deps.IDBKeyRange}))}(this),this.on(\"versionchange\",(e=>{e.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()})),this.on(\"blocked\",(e=>{!e.newVersion||e.newVersion<e.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${e.oldVersion/10}`)})),this._maxKey=hn(t.IDBKeyRange),this._createTransaction=(e,t,n,r)=>new this.Transaction(e,t,n,this._options.chromeTransactionDurability,r),this._fireOnBlocked=e=>{this.on(\"blocked\").fire(e),_t.filter((e=>e.name===this.name&&e!==this&&!e._state.vcFired)).map((t=>t.on(\"versionchange\").fire(e)))},this.use(Fn),this.use(Nn),this.use(Qn),this.use($n),this.vip=Object.create(this,{_vip:{value:!0}}),r.forEach((e=>e(this)))}version(e){if(isNaN(e)||e<.1)throw new X.Type(\"Given version is not a positive number\");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new X.Schema(\"Cannot add version when database is open\");this.verno=Math.max(this.verno,e);const t=this._versions;var n=t.filter((t=>t._cfg.version===e))[0];return n||(n=new this.Version(e),t.push(n),t.sort(_n),n.stores({}),this._state.autoSchema=!1,n)}_whenReady(e){return this.idbdb&&(this._state.openComplete||Oe.letThrough||this._vip)?e():new je(((e,t)=>{if(this._state.openComplete)return t(new X.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void t(new X.DatabaseClosed);this.open().catch(ee)}this._state.dbReadyPromise.then(e,t)})).then(e)}use({stack:e,create:t,level:n,name:r}){r&&this.unuse({stack:e,name:r});const s=this._middlewares[e]||(this._middlewares[e]=[]);return s.push({stack:e,create:t,level:null==n?10:n,name:r}),s.sort(((e,t)=>e.level-t.level)),this}unuse({stack:e,name:t,create:n}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter((e=>n?e.create!==n:!!t&&e.name!==t))),this}open(){return Dn(this)}_close(){const e=this._state,t=_t.indexOf(this);if(t>=0&&_t.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(e){}this._novip.idbdb=null}e.dbReadyPromise=new je((t=>{e.dbReadyResolve=t})),e.openCanceller=new je(((t,n)=>{e.cancelOpen=n}))}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new X.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,t=this._state;return new je(((n,r)=>{const s=()=>{this.close();var e=this._deps.indexedDB.deleteDatabase(this.name);e.onsuccess=Ye((()=>{!function({indexedDB:e,IDBKeyRange:t},n){!An(e)&&n!==Pt&&Sn(e,t).delete(n).catch(ee)}(this._deps,this.name),n()})),e.onerror=tn(r),e.onblocked=this._fireOnBlocked};if(e)throw new X.InvalidArgument(\"Arguments not allowed in db.delete()\");t.isBeingOpened?t.dbReadyPromise.then(s):s()}))}backendDB(){return this.idbdb}isOpen(){return null!==this.idbdb}hasBeenClosed(){const e=this._state.dbOpenError;return e&&\"DatabaseClosed\"===e.name}hasFailed(){return null!==this._state.dbOpenError}dynamicallyOpened(){return this._state.autoSchema}get tables(){return t(this._allTables).map((e=>this._allTables[e]))}transaction(){const e=Bn.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,t,n){let r=Oe.trans;r&&r.db===this&&-1===e.indexOf(\"!\")||(r=null);const s=-1!==e.indexOf(\"?\");let i,o;e=e.replace(\"!\",\"\").replace(\"?\",\"\");try{if(o=t.map((e=>{var t=e instanceof this.Table?e.name:e;if(\"string\"!=typeof t)throw new TypeError(\"Invalid table argument to Dexie.transaction(). Only Table or String are allowed\");return t})),\"r\"==e||e===Kt)i=Kt;else{if(\"rw\"!=e&&e!=Ot)throw new X.InvalidArgument(\"Invalid transaction mode: \"+e);i=Ot}if(r){if(r.mode===Kt&&i===Ot){if(!s)throw new X.SubTransaction(\"Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY\");r=null}r&&o.forEach((e=>{if(r&&-1===r.storeNames.indexOf(e)){if(!s)throw new X.SubTransaction(\"Table \"+e+\" not included in parent transaction.\");r=null}})),s&&r&&!r.active&&(r=null)}}catch(e){return r?r._promise(null,((t,n)=>{n(e)})):ft(e)}const a=Tn.bind(null,this,i,o,r,n);return r?r._promise(i,a,\"lock\"):Oe.trans?at(Oe.transless,(()=>this._whenReady(a))):this._whenReady(a)}table(e){if(!o(this._allTables,e))throw new X.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const Jn=\"undefined\"!=typeof Symbol&&\"observable\"in Symbol?Symbol.observable:\"@@observable\";class Zn{constructor(e){this._subscribe=e}subscribe(e,t,n){return this._subscribe(e&&\"function\"!=typeof e?e:{next:e,error:t,complete:n})}[Jn](){return this}}function er(e,n){return t(n).forEach((t=>{Wn(e[t]||(e[t]=new Ln),n[t])})),e}function tr(e){let n,r=!1;const s=new Zn((s=>{const i=T(e);let o=!1,a={},u={};const l={get closed(){return o},unsubscribe:()=>{o=!0,on.storagemutated.unsubscribe(f)}};s.start&&s.start(l);let c=!1,h=!1;function d(){return t(u).some((e=>a[e]&&Yn(a[e],u[e])))}const f=e=>{er(a,e),d()&&p()},p=()=>{if(c||o)return;a={};const t={},y=function(t){i&&et();const n=()=>Ze(e,{subscr:t,trans:null}),r=Oe.trans?at(Oe.transless,n):n();return i&&r.then(tt,tt),r}(t);h||(on(rn,f),h=!0),c=!0,Promise.resolve(y).then((e=>{r=!0,n=e,c=!1,o||(d()?p():(a={},u=t,s.next&&s.next(e)))}),(e=>{c=!1,r=!1,s.error&&s.error(e),l.unsubscribe()}))};return p(),l}));return s.hasValue=()=>r,s.getValue=()=>n,s}let nr;try{nr={indexedDB:e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,IDBKeyRange:e.IDBKeyRange||e.webkitIDBKeyRange}}catch(e){nr={indexedDB:null,IDBKeyRange:null}}const rr=Xn;function sr(e){let t=ir;try{ir=!0,on.storagemutated.fire(e)}finally{ir=t}}a(rr,{...Z,delete:e=>new rr(e,{addons:[]}).delete(),exists:e=>new rr(e,{addons:[]}).open().then((e=>(e.close(),!0))).catch(\"NoSuchDatabaseError\",(()=>!1)),getDatabaseNames(e){try{return function({indexedDB:e,IDBKeyRange:t}){return An(e)?Promise.resolve(e.databases()).then((e=>e.map((e=>e.name)).filter((e=>e!==Pt)))):Sn(e,t).toCollection().primaryKeys()}(rr.dependencies).then(e)}catch(e){return ft(new X.MissingAPI)}},defineClass:()=>function(e){r(this,e)},ignoreTransaction:e=>Oe.trans?at(Oe.transless,e):e(),vip:Cn,async:function(e){return function(){try{var t=In(e.apply(this,arguments));return t&&\"function\"==typeof t.then?t:je.resolve(t)}catch(e){return ft(e)}}},spawn:function(e,t,n){try{var r=In(e.apply(n,t||[]));return r&&\"function\"==typeof r.then?r:je.resolve(r)}catch(e){return ft(e)}},currentTransaction:{get:()=>Oe.trans||null},waitFor:function(e,t){const n=je.resolve(\"function\"==typeof e?rr.ignoreTransaction(e):e).timeout(t||6e4);return Oe.trans?Oe.trans.waitFor(n):n},Promise:je,debug:{get:()=>R,set:e=>{F(e,\"dexie\"===e?()=>!0:Et)}},derive:c,extend:r,props:a,override:y,Events:Dt,on:on,liveQuery:tr,extendObservabilitySet:er,getByKeyPath:b,setByKeyPath:_,delByKeyPath:function(e,t){\"string\"==typeof t?_(e,t,void 0):\"length\"in t&&[].map.call(t,(function(t){_(e,t,void 0)}))},shallowClone:w,deepClone:O,getObjectDiff:Mn,cmp:$t,asap:v,minKey:vt,addons:[],connections:_t,errnames:H,dependencies:nr,semVer:yt,version:yt.split(\".\").map((e=>parseInt(e))).reduce(((e,t,n)=>e+t/Math.pow(10,2*n)))}),rr.maxKey=hn(rr.dependencies.IDBKeyRange),\"undefined\"!=typeof dispatchEvent&&\"undefined\"!=typeof addEventListener&&(on(rn,(e=>{if(!ir){let t;wt?(t=document.createEvent(\"CustomEvent\"),t.initCustomEvent(sn,!0,!0,e)):t=new CustomEvent(sn,{detail:e}),ir=!0,dispatchEvent(t),ir=!1}})),addEventListener(sn,(({detail:e})=>{ir||sr(e)})));let ir=!1;if(\"undefined\"!=typeof BroadcastChannel){const e=new BroadcastChannel(sn);\"function\"==typeof e.unref&&e.unref(),on(rn,(t=>{ir||e.postMessage(t)})),e.onmessage=e=>{e.data&&sr(e.data)}}else if(\"undefined\"!=typeof self&&\"undefined\"!=typeof navigator){on(rn,(e=>{try{ir||(\"undefined\"!=typeof localStorage&&localStorage.setItem(sn,JSON.stringify({trig:Math.random(),changedParts:e})),\"object\"==typeof self.clients&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach((t=>t.postMessage({type:sn,changedParts:e}))))}catch(e){}})),\"undefined\"!=typeof addEventListener&&addEventListener(\"storage\",(e=>{if(e.key===sn){const t=JSON.parse(e.newValue);t&&sr(t.changedParts)}}));const e=self.document&&navigator.serviceWorker;e&&e.addEventListener(\"message\",(function({data:e}){e&&e.type===sn&&sr(e.changedParts)}))}je.rejectionMapper=function(e,t){if(!e||e instanceof W||e instanceof TypeError||e instanceof SyntaxError||!e.name||!J[e.name])return e;var n=new J[e.name](t||e.message,e);return\"stack\"in e&&l(n,\"stack\",{get:function(){return this.inner.stack}}),n},F(R,Et);export{Xn as Dexie,Ln as RangeSet,Xn as default,tr as liveQuery,Wn as mergeRanges,Yn as rangesOverlap};\n//# sourceMappingURL=dexie.min.mjs.map","import Dexie from 'dexie';\nimport { emitter } from '../utils/emitter';\nimport { getList } from '../_provider/listFactory';\n\nconst UPDATE_INTERVAL = 7 * 24 * 60 * 60 * 1000;\n\nconst logger = con.m('Database');\nconst db = new Dexie('malsync');\n\nasync function updateEntry(data) {\n  con.log('update', data);\n  if (data.id && data.state.onList) {\n    addEntry({\n      uid: data.id,\n      type: data.type,\n      title: data.meta.title,\n      malId: data.meta.malId,\n      cacheKey: data.cacheKey,\n      image: data.meta.image,\n      score: data.state.score,\n      status: data.state.status,\n      watchedEp: data.state.episode,\n      totalEp: data.meta.totalEp,\n      url: data.meta.url,\n    });\n  }\n}\n\nexport async function initDatabase() {\n  logger.log('Starting');\n  db.version(1).stores({\n    anime: '&uid, malId, cacheKey, title',\n    manga: '&uid, malId, cacheKey, title',\n    storage: '&key, value',\n  });\n\n  emitter.on('update.*', async data => updateEntry(data), { objectify: true });\n  emitter.on('state.*', async data => updateEntry(data), { objectify: true });\n\n  emitter.on(\n    'delete.*',\n    async data => {\n      con.log('delete', data);\n      removeEntry(data.type, data.id);\n    },\n    { objectify: true },\n  );\n\n  await indexUpdate();\n  logger.log('Ready');\n}\n\nexport async function indexUpdate() {\n  const types = ['anime', 'manga'];\n  const globalMode = await api.settings.getAsync('syncMode');\n  for (let i = 0; i < types.length; i++) {\n    const type = types[i] as 'anime' | 'manga';\n    const state = (await getKey(`update_${type}`)) as number;\n    const mode = await getKey(`update_mode_${type}`);\n\n    if (!state || state < Date.now() - UPDATE_INTERVAL || mode !== globalMode) {\n      await importList(type);\n    }\n  }\n}\n\nexport async function getKey(key: string): Promise<string | number | undefined> {\n  return db\n    .table('storage')\n    .get(key)\n    .then(res => {\n      if (typeof res === 'undefined') return res;\n      return res.value;\n    });\n}\n\nexport async function setKey(key: string, value: string | number) {\n  return db.table('storage').put({\n    key,\n    value,\n  });\n}\n\nconst blocked = {\n  anime: false,\n  manga: false,\n};\n\nasync function importList(type: 'anime' | 'manga'): Promise<void> {\n  if (blocked[type]) {\n    logger.log('Import already running');\n    return;\n  }\n  blocked[type] = true;\n  logger.log(`Import ${type} database`);\n  try {\n    await api.settings.init();\n    const listProvider = await getList(7, type);\n    const list = await listProvider.getCompleteList();\n    await importEntries(\n      type,\n      list.map(el => ({\n        uid: el.uid,\n        type: el.type,\n        title: el.title,\n        malId: el.malId,\n        cacheKey: el.cacheKey,\n        image: el.image,\n        score: el.score,\n        status: el.status,\n        watchedEp: el.watchedEp,\n        totalEp: el.totalEp,\n        url: el.url,\n      })),\n    ).then(() => {\n      blocked[type] = false;\n      setKey(`update_${type}`, Date.now());\n      setKey(`update_mode_${type}`, api.settings.get('syncMode'));\n    });\n  } catch (e) {\n    blocked[type] = false;\n    throw e;\n  }\n}\n\nexport interface Entry {\n  uid: number | string;\n  type: 'anime' | 'manga';\n  title: string;\n  malId: number;\n  cacheKey: number | string;\n  image: string;\n  score: number;\n  status: number;\n  watchedEp: number;\n  totalEp: number;\n  url: string;\n}\n\nexport async function addEntry(entry: Entry) {\n  const table = entry.type === 'anime' ? db.table('anime') : db.table('manga');\n  return table.put(entry);\n}\n\nexport async function getEntry(\n  type: 'anime' | 'manga',\n  uid: number | string,\n): Promise<undefined | Entry> {\n  const table = type === 'anime' ? db.table('anime') : db.table('manga');\n  return table.get(uid);\n}\n\nexport async function getEntryByMalId(\n  type: 'anime' | 'manga',\n  malId: number,\n): Promise<undefined | Entry> {\n  const table = type === 'anime' ? db.table('anime') : db.table('manga');\n  return table.get({ malId });\n}\n\nexport async function removeEntry(type: 'anime' | 'manga', uid: number | string) {\n  const table = type === 'anime' ? db.table('anime') : db.table('manga');\n  return table.where('uid').equals(uid).delete();\n}\n\nasync function importEntries(type: 'anime' | 'manga', entries: Entry[]) {\n  const table = type === 'anime' ? db.table('anime') : db.table('manga');\n  await table.clear();\n  return table.bulkPut(entries);\n}\n\nexport async function databaseRequest(call: string, param: any) {\n  switch (call) {\n    case 'entry':\n      indexUpdate();\n      return getEntry(param.type, param.id);\n    case 'entryByMalId':\n      indexUpdate();\n      return getEntryByMalId(param.type, param.id);\n    default:\n      throw `Unknown call \"${call}\"`;\n  }\n}\n","import { xhrResponseI, sendMessageI, responseMessageI } from './api/messageInterface';\nimport { listSyncInit } from './background/listSync';\nimport { initSyncTags } from './background/syncTags';\nimport { initProgressScheduler } from './background/releaseProgress';\nimport { initCustomDomain, cleanupCustomDomains } from './background/customDomain';\nimport { sendNotification } from './background/notifications';\nimport { upgradewWizzards } from './background/upgradeWizzards';\nimport { initDatabase, databaseRequest } from './background/database';\n\ntry {\n  initSyncTags();\n} catch (e) {\n  con.error(e);\n}\n\ntry {\n  initCustomDomain();\n} catch (e) {\n  con.error(e);\n}\n\ntry {\n  initDatabase();\n} catch (e) {\n  con.error(e);\n}\n\napi.request.sendMessage = function (message: sendMessageI) {\n  return new Promise((resolve, reject) => {\n    messageHandler(message, null, function (response: responseMessageI) {\n      resolve(response);\n    });\n  });\n};\n\nchrome.runtime.onInstalled.addListener(async function (details) {\n  if (details.reason === 'install') {\n    chrome.tabs.create({ url: chrome.extension.getURL('install.html') }, function (tab) {\n      con.info('Open installPage');\n    });\n  } else if (details.reason === 'update') {\n    await upgradewWizzards(details.previousVersion);\n    cleanupCustomDomains();\n  }\n  chrome.alarms.clearAll();\n});\n\nchrome.runtime.onMessage.addListener((message: sendMessageI, sender, sendResponse) => {\n  return messageHandler(message, sender, sendResponse);\n});\n\nfunction messageHandler(message: sendMessageI, sender, sendResponse, retry = 0) {\n  switch (message.name) {\n    case 'xhr': {\n      const xhr = new XMLHttpRequest();\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n          console.log(xhr);\n          if (xhr.status === 429 && retry < 4 && !utils.rateLimitExclude.test(xhr.responseURL)) {\n            con.error('RATE LIMIT');\n            setTimeout(() => {\n              messageHandler(message, sender, sendResponse, retry + 1);\n              api.storage.set('rateLimit', false);\n            }, 30000);\n            api.storage.set('rateLimit', true);\n            return;\n          }\n          const responseObj: xhrResponseI = {\n            finalUrl: xhr.responseURL,\n            responseText: xhr.responseText,\n            status: xhr.status,\n          };\n          sendResponse(responseObj);\n        }\n      };\n      if (typeof message.url === 'object') {\n        xhr.open(message.method, message.url.url, true);\n        for (const key in message.url.headers) {\n          xhr.setRequestHeader(key, message.url.headers[key]);\n        }\n        if (message.url.url.includes('malsync.moe')) {\n          xhr.setRequestHeader('version', api.storage.version());\n          xhr.setRequestHeader('type', 'addon');\n        }\n        xhr.send(message.url.data);\n      } else {\n        xhr.open(message.method, message.url, true);\n        if (message.url.includes('malsync.moe')) {\n          xhr.setRequestHeader('version', api.storage.version());\n          xhr.setRequestHeader('type', 'addon');\n        }\n        xhr.send();\n      }\n      return true;\n    }\n    case 'videoTime': {\n      // @ts-ignore\n      chrome.tabs.sendMessage(sender.tab.id, {\n        action: 'videoTime',\n        item: message.item,\n        sender,\n      });\n      return undefined;\n    }\n    case 'content': {\n      // @ts-ignore\n      chrome.tabs.sendMessage(sender.tab.id, {\n        action: 'content',\n        item: message.item,\n        sender,\n      });\n      return undefined;\n    }\n    case 'videoTimeSet': {\n      if (!message.sender?.tab?.id) return undefined;\n\n      chrome.tabs.sendMessage(\n        message.sender.tab.id,\n        {\n          action: 'videoTimeSet',\n          time: message.time,\n          timeAdd: message.timeAdd,\n        },\n        { frameId: message.sender.frameId },\n      );\n\n      return undefined;\n    }\n    case 'minimalWindow': {\n      api.storage.get('windowId').then(winId => {\n        if (typeof winId === 'undefined') winId = 22;\n        if (chrome.windows && chrome.windows.update && chrome.windows.create) {\n          chrome.windows.update(winId, { focused: true }, function () {\n            if (chrome.runtime.lastError) {\n              const config: any = {\n                url: chrome.runtime.getURL('window.html'),\n                type: 'popup',\n              };\n\n              if (message.width) {\n                config.width = message.width;\n              }\n              if (message.height) {\n                config.height = message.height;\n              }\n              if (message.left) {\n                config.left = message.left;\n              }\n\n              chrome.windows.create(config, function (win) {\n                api.storage.set('windowId', win!.id);\n                sendResponse();\n              });\n            } else {\n              sendResponse();\n            }\n          });\n        } else {\n          chrome.tabs.update(winId, { active: true }, function () {\n            if (chrome.runtime.lastError) {\n              const config: any = {\n                url: chrome.runtime.getURL('window.html'),\n                active: true,\n              };\n\n              chrome.tabs.create(config, function (win) {\n                api.storage.set('windowId', win!.id);\n                sendResponse();\n              });\n            }\n          });\n        }\n      });\n      return true;\n    }\n    case 'emitter': {\n      chrome.runtime.sendMessage(message);\n      chrome.tabs.query({}, tabs => {\n        tabs.forEach(tab => {\n          // @ts-ignore\n          chrome.tabs.sendMessage(tab.id, message);\n        });\n      });\n      return undefined;\n    }\n    case 'notification': {\n      sendNotification(message.options);\n      return undefined;\n    }\n    case 'database': {\n      databaseRequest(message.options.call, message.options.param).then(res => sendResponse(res));\n      return true;\n    }\n    default:\n  }\n  return undefined;\n}\n\nlistSyncInit();\ninitProgressScheduler();\n\nchrome.webRequest.onBeforeSendHeaders.addListener(\n  function (info) {\n    const headers = info.requestHeaders;\n    headers!.forEach(function (header, i) {\n      if (header.name.toLowerCase() === 'user-agent') {\n        header.value =\n          'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36';\n      }\n    });\n    return { requestHeaders: headers };\n  },\n  {\n    urls: ['https://myanimelist.net/*'],\n    types: ['xmlhttprequest'],\n  },\n  ['blocking', 'requestHeaders'],\n);\n\nchrome.notifications.onClicked.addListener(function (notificationId) {\n  chrome.tabs.create({ url: notificationId });\n});\n\nchrome.runtime.onMessageExternal.addListener(function (request, sender, sendResponse) {\n  chrome.tabs.sendMessage(\n    request.tab,\n    { action: 'presence', data: request.info },\n    function (response) {\n      sendResponse(response);\n    },\n  );\n  return true;\n});\n","// eslint-disable-next-line import/no-extraneous-dependencies\nimport semverGt from 'semver/functions/gt';\n\nexport async function upgradewWizzards(lastVersion) {\n  if (!lastVersion) throw 'No last Version';\n  const logger = con.m('Wizzard');\n  logger.log('Last version', lastVersion);\n\n  const wizards = [\n    {\n      version: '0.7.8',\n      name: 'Set existing users to tags on',\n      action: () => {\n        return api.storage.get('settings/malTags').then(res => {\n          if (typeof res === 'undefined') {\n            api.storage.set('settings/malTags', true);\n          }\n        });\n      },\n    },\n    {\n      version: '0.8.7',\n      name: 'Disable updateCheck',\n      action: () => {\n        return api.storage.set('updateCheckTime', 0);\n      },\n    },\n    {\n      version: '0.8.8',\n      name: 'Reset to normal Mal api',\n      action: () => {\n        return api.storage.get('settings/syncMode').then(res => {\n          if (res === 'MALAPI') {\n            api.storage.set('settings/syncMode', 'MAL');\n          }\n        });\n      },\n    },\n    {\n      version: '0.8.9',\n      name: 'Disable updateCheck',\n      action: () => {\n        return api.storage.set('updateCheckTime', 0);\n      },\n    },\n    {\n      version: '0.8.12',\n      name: 'Clean up sync storage',\n      action: () => {\n        return api.storage.list('sync').then(elements => {\n          const garbage = Object.keys(elements).filter(el => !utils.syncRegex.test(el));\n          logger.log('Delete', garbage);\n          if (garbage.length) {\n            chrome.storage.sync.remove(garbage);\n          }\n        });\n      },\n    },\n    {\n      version: '0.8.19',\n      name: 'Split notification options',\n      action: () => {\n        return api.storage.get('settings/progressNotifications').then(res => {\n          let mode = true;\n          if (typeof res !== 'undefined' && res === false) mode = false;\n          api.storage.set('settings/progressNotificationsAnime', mode);\n          api.storage.set('settings/progressNotificationsManga', mode);\n        });\n      },\n    },\n    {\n      version: '0.9.0',\n      name: 'Migrate serial theme',\n      action: () => {\n        return api.storage.get('settings/theme').then(res => {\n          if (typeof res !== 'undefined' && res === 'serial')\n            api.storage.set('settings/theme', 'auto');\n        });\n      },\n    },\n    {\n      version: '*',\n      name: 'Remove auto domain permissions',\n      action: () => {\n        return api.settings.getAsync('customDomains').then(perms => {\n          const filteredDomains = perms.filter(customDomain => !customDomain.auto);\n          return api.settings.set('customDomains', filteredDomains);\n        });\n      },\n    },\n  ];\n\n  for (let i = 0; i < wizards.length; i++) {\n    const wizard = wizards[i];\n    if (wizard.version === '*' || semverGt(wizard.version, lastVersion)) {\n      logger.m(wizard.version).log(wizard.name);\n\n      try {\n        await wizard.action();\n      } catch (error) {\n        logger.m(wizard.name).error(error);\n      }\n    }\n  }\n}\n","import * as Sync from '../utils/syncHandler';\n\nexport function listSyncInit() {\n  chrome.alarms.get('listSync', async function (a) {\n    const listSyncLast = await api.storage.get('listSyncLast');\n    const syncInterval = 23 * 60;\n\n    if (typeof a !== 'undefined' && Date.now() - listSyncLast < syncInterval * 60 * 1000) {\n      con.log('listSync already set and on time', listSyncLast, a);\n      return;\n    }\n\n    if (a) chrome.alarms.clear('listSync');\n\n    con.log('Create listSync Alarm', syncInterval, listSyncLast);\n    chrome.alarms.create('listSync', {\n      periodInMinutes: syncInterval,\n      when: Date.now() + 1000,\n    });\n  });\n\n  chrome.alarms.onAlarm.addListener(function (alarm) {\n    if (alarm.name === 'listSync') {\n      api.storage.set('listSyncLast', Date.now());\n      api.settings.init().then(async () => {\n        console.groupCollapsed('listSync');\n        await Sync.background.sync();\n        console.groupEnd();\n      });\n    }\n  });\n}\n"],"names":["module","exports","entries","setPrototypeOf","isFrozen","getPrototypeOf","getOwnPropertyDescriptor","Object","freeze","seal","create","apply","construct","Reflect","fun","thisValue","args","x","Func","arrayForEach","unapply","Array","prototype","forEach","arrayPop","pop","arrayPush","push","stringToLowerCase","String","toLowerCase","stringToString","toString","stringMatch","match","stringReplace","replace","stringIndexOf","indexOf","stringTrim","trim","regExpTest","RegExp","test","typeErrorCreate","func","TypeError","_len2","arguments","length","_key2","thisArg","_len","_key","addToSet","set","array","transformCaseFunc","_transformCaseFunc","l","element","lcElement","clone","object","newObject","property","value","lookupGetter","prop","desc","get","console","warn","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","text","html","svg","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","EXPRESSIONS","__proto__","getGlobal","window","createDOMPurify","undefined","DOMPurify","root","version","removed","document","nodeType","isSupported","originalDocument","currentScript","DocumentFragment","HTMLTemplateElement","Node","Element","NodeFilter","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","trustedTypes","ElementPrototype","cloneNode","getNextSibling","getChildNodes","getParentNode","template","createElement","content","ownerDocument","trustedTypesPolicy","emptyHTML","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","hooks","createHTMLDocument","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","writable","configurable","enumerable","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","PARSER_MEDIA_TYPE","SUPPORTED_PARSER_MEDIA_TYPES","CONFIG","formElement","isRegexOrFunction","testValue","Function","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","table","tbody","TRUSTED_TYPES_POLICY","createHTML","createScriptURL","purifyHostElement","createPolicy","suffix","ATTR_NAME","hasAttribute","getAttribute","policyName","scriptUrl","_","_createTrustedTypesPolicy","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_forceRemove","node","parentNode","removeChild","remove","_removeAttribute","name","attribute","getAttributeNode","from","removeAttribute","setAttribute","_initDocument","dirty","doc","leadingWhitespace","matches","dirtyPayload","parseFromString","documentElement","createDocument","innerHTML","body","insertBefore","createTextNode","childNodes","call","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isNode","nodeName","_executeHook","entryPoint","currentNode","data","hook","_sanitizeElements","elm","textContent","attributes","namespaceURI","hasChildNodes","tagName","allowedTags","firstElementChild","_basicCustomElementTest","i","parent","parentTagName","Boolean","_checkValidNamespace","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","attr","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","forceKeepAttr","getAttributeType","setAttributeNS","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","sanitize","importedNode","returnNode","appendChild","firstChild","nodeIterator","shadowroot","shadowrootmod","serializedHTML","outerHTML","doctype","setConfig","clearConfig","isValidAttribute","tag","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","factory","hasOwnProperty","isArray","obj","nextTickSupported","process","nextTick","symbolsSupported","Symbol","reflectSupported","_setImmediate","setImmediate","setTimeout","ownKeys","arr","getOwnPropertyNames","getOwnPropertySymbols","keys","init","this","_events","_conf","configure","conf","delimiter","maxListeners","_maxListeners","wildcard","newListener","_newListener","removeListener","_removeListener","verboseMemoryLeak","ignoreErrors","listenerTree","logPossibleMemoryLeak","count","eventName","errorMsg","emitWarning","e","Error","emitter","error","trace","toArray","a","b","c","n","toObject","values","len","valuesCount","TargetObserver","target","options","on","off","_emitter","_target","_listeners","_listenersCount","addEventListener","removeEventListener","addListener","_on","_off","_observers","resolveOptions","schema","reducers","allowUnknown","computedOptions","assign","option","reducer","reject","reason","constructorReducer","makeTypeReducer","types","message","join","firstType","secondType","v","kind","subscribe","event","localEvent","observer","listeners","handler","eventObj","original","emit","concat","_onNewListener","_event","_onRemoveListener","hasListeners","unsubscribe","events","clearRefs","index","findTargetIndex","splice","functionReducer","objectFunctionReducer","makeCancelablePromise","Promise","executor","isCancelable","callbacks","subscriptionClosed","timer","promise","resolve","onCancel","cleanup","clearTimeout","timeout","overload","Number","isFinite","cancel","_resolve","_reject","err","cb","code","observers","searchListenerTree","handlers","type","tree","typeLength","ns","j","dl","slice","branch","xTree","xxTree","isolatedBranch","endReached","branches","currentType","nextType","growListenerTree","listener","prepend","unshift","warned","collectTreeEvents","asArray","branchName","path","isArrayPath","recursivelyGarbageCollect","key","flag","Listener","setupListener","promisify","async","objectify","_listener","_origin","constructor","context","then","_async","EventEmitter","EventEmitter2","listenTo","listen","isSingleReducer","split","stopListeningTo","matched","setMaxListeners","getMaxListeners","once","fn","_once","prependOnceListener","_many","many","ttl","prependMany","self","_all","containsSymbol","al","emitAsync","promises","all","prependListener","onAny","_onAny","prependAny","temp","returnValue","leafs","iLeaf","leaf","position","offAny","fns","removeAllListeners","allListeners","eventNames","nsAsArray","listenerCount","listenersAny","waitFor","filter","handleError","defineProperties","defaultMaxListeners","isNaN","errorListener","eventListener","debug","MAX_LENGTH","MAX_SAFE_INTEGER","safeRe","re","t","parseOptions","compareIdentifiers","SemVer","loose","includePrerelease","m","LOOSE","FULL","raw","major","minor","patch","prerelease","map","id","num","build","format","compare","other","compareMain","comparePre","compareBuild","inc","release","identifier","identifierBase","base","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","RELEASE_TYPES","SEMVER_SPEC_VERSION","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","env","NODE_DEBUG","numeric","anum","bnum","rcompareIdentifiers","looseOption","emptyOpts","src","R","LETTERDASHNUMBER","safeRegexReplacements","createToken","isGlobal","safe","token","max","makeSafeRegex","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCE","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","webextension","getStorage","chrome","runtime","lastError","results","list","storage","local","sync","addStyle","css","style","head","log","getManifest","lang","selector","api","settings","i18n","argIndex","getMessage","assetUrl","filename","extension","getURL","injectCssResource","res","alert","injectjsResource","s","onload","updateDom","storageOnChanged","onChanged","utils","syncRegex","requestApi","xhr","method","url","sendMessage","status","response","notification","database","param","makeMap","str","expectsLowerCase","val","hasOwn","isMap","toTypeString","isSymbol","objectToString","isIntegerKey","parseInt","cacheStringFunction","cache","camelizeRE","hyphenateRE","toUpperCase","capitalize","charAt","hasChanged","oldValue","is","createDep","effects","dep","Set","w","wasTracked","trackOpBit","newTracked","targetMap","WeakMap","effectTrackDepth","maxMarkerBits","activeEffect","ITERATE_KEY","MAP_KEY_ITERATE_KEY","shouldTrack","trackStack","track","depsMap","Map","trackEffects","debuggerEventExtraInfo","shouldTrack2","has","add","deps","trigger","newValue","oldTarget","newLength","key2","triggerEffects","effect2","computed","triggerEffect","allowRecurse","scheduler","run","isNonTrackableKeys","builtInSymbols","get$1","createGetter","readonlyGet","arrayInstrumentations","createArrayInstrumentations","instrumentations","toRaw","last","resetTracking","isReadonly2","shallow","receiver","shallowReadonlyMap","readonlyMap","shallowReactiveMap","reactiveMap","targetIsArray","isRef","readonly","reactive","createSetter","isReadonly","isShallow","hadKey","result","mutableHandlers","deleteProperty","readonlyHandlers","toShallow","getProto","rawTarget","rawKey","has2","wrap","toReadonly","toReactive","size","get2","deleteEntry","delete","clear","hadItems","createForEach","callback","observed","createIterableMethod","targetIsMap","isPair","iterator","isKeyOnly","innerIterator","next","done","createReadonlyMethod","createInstrumentations","mutableInstrumentations2","shallowInstrumentations2","readonlyInstrumentations2","shallowReadonlyInstrumentations2","mutableInstrumentations","readonlyInstrumentations","shallowInstrumentations","shallowReadonlyInstrumentations","createInstrumentationGetter","mutableCollectionHandlers","readonlyCollectionHandlers","createReactiveObject","baseHandlers","collectionHandlers","proxyMap","existingProxy","targetType","isExtensible","rawType","targetTypeMap","getTargetType","proxy","Proxy","r","__v_isRef","RefImpl","__v_isShallow","_rawValue","_value","ref2","newVal","useDirectValue","triggerRefValue","settingsObj","autoTrackingModeanime","readerTracking","autoTrackingModemanga","enablePages","forceEn","rpc","presenceLargeImage","presenceShowButtons","presenceShowMalsync","userscriptModeButton","syncMode","syncModeSimkl","localSync","delay","videoDuration","malTags","malContinue","malResume","usedPage","epPredictions","theme","themeSidebars","themeColor","themeOpacity","themeImage","minimalWindow","posLeft","miniMALonMal","floatButtonStealth","minimizeBigPopup","floatButtonCorrection","floatButtonHide","autoCloseMinimal","outWay","miniMalWidth","miniMalHeight","malThumbnail","friendScore","loadPTWForProgress","quicklinks","quicklinksPosition","autofull","autoresume","autoNextEp","highlightAllEp","checkForFiller","crashReport","introSkip","introSkipFwd","introSkipBwd","nextEpShort","correctionShort","syncShort","progressInterval","progressIntervalDefaultAnime","progressIntervalDefaultManga","progressNotificationsAnime","progressNotificationsManga","bookMarksList","customDomains","anilistUpdateUi","anilistToken","anilistOptions","displayAdultContent","scoreFormat","kitsuToken","kitsuOptions","titleLanguagePreference","sfwFilter","ratingSystem","simklToken","malToken","malRefresh","shikiToken","shikiOptions","locale","debounceArray","isInit","rawValue","ref","tempSettings","store","rateDebounce","con","changes","namespace","storageChange","info","rateLimit","$","flashm","permanent","setDebounce","getAsync","request","bind","color","blocks","fontColor","hash","charCodeAt","colour","substr","stringToColour","name2","color2","moduleText","reduce","sum","el","moduleStyle","urlPart","part","urlParts","urlStrip","urlParam","exec","decodeURI","getBaseText","children","each","generateUniqueID","arraySize","Uint32Array","crypto","getRandomValues","favicon","domain","watching","planTo","episode","rateLimitExclude","getselect","absoluteLink","startsWith","parseHtml","urlChangeDetect","currentPage","location","href","setInterval","fullUrlChangeDetect","strip","intervalId","changeDetect","immediate","waitUntilTrue","condition","interval","clearInterval","getAsyncWaitUntilTrue","rejectThis","reset","asyncWaitUntilTrue","doubleId","Math","random","checkDoubleExecution","after","getUrlFromTags","tags","atobURL","encoded","atob","setUrlInTags","addition","btoa","setResumeWaching","ep","getResumeWaching","setContinueWaching","getContinueWaching","setEntrySettings","tempOptions","JSON","stringify","find","getEntrySettings","u","p","tagString","parse","continueUrlObj","resumeUrlObj","handleMalImages","getTooltip","direction","rNumber","floor","timeDiffToText","delta","diffYears","diffDays","diffHours","diffMinutes","canHideTabs","browser","tabs","hide","statusTag","anime","class","title","manga","tempInfo","getStatusText","state","notifications","iconUrl","messageObj","history","shift","timestamp","Date","now","timeCache","dataFunction","getTime","extraClass","initflashm","colorF","flashdiv","messClass","tempClass","removeClass","fadeOut","duration","queue","complete","flashmEl","mess","hoverInfo","addClass","appendTo","minimized","slideDown","slideUp","flashConfirm","yesCall","cancelCall","yesNo","yesText","noText","flasmessage","click","evt","parentsUntil","lazyloaded","lazyimages","lazyload","scrollElement","loadImage","hasClass","img","Image","replaceChild","query","processScroll","elementInViewport","scroll","horizontalOffset","rect","getBoundingClientRect","top","left","innerHeight","clientHeight","wait","ms","pageUrl","page","returnYYYYMMDD","numFromToday","d","setDate","getDate","month","getMonth","day","getFullYear","htmlDecode","isFirefox","waitForPageToBeVisible","visibilityState","awaitUi","makeDomainCompatible","clearCache","cacheArray","deleted","sortAlphabetically","isDomainMatching","urlObj","URL","host","endsWith","upperCaseFirstLetter","string","jQuery","htmlContent","SAFE_FOR_JQUERY","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","o","defineProperty","g","globalThis","toStringTag","score","localStorage","getItem","checkLocalStorageIsAvailable","setItem","removeItem","localStore","refetchTtl","containsValue","valueValid","ttlValid","refetchTtlValid","hasValue","hasValueAndIsNotEmpty","fullState","isValid","refetch","getValue","setValue","save","clearValue","getSyncMode","mode","scriptId","globalEmit","params","item","onMessage","sender","sendResponse","NotAutenticatedError","super","UrlNotSupportedError","ServerOfflineError","NotFoundError","UnexpectedResponseError","json","errorMessage","authenticationUrl","ListAbstract","listType","sort","loading","firstLoaded","seperateRewatching","modes","frontend","sortAiring","initProgress","cached","username","offset","templist","cacheObj","logger","setTemplist","getTemplist","setSort","isDone","isLoading","isFirstLoaded","getCompleteList","getNext","sortAiringList","getCache","getNextPage","retList","getPart","getCached","cachelist","watchedEp","initFrontendMode","updateListener","cacheKey","destroy","getUsername","getUserObject","user","getSortingOptions","simple","icon","_getSortingOptions","asc","flashmError","streamurl","continueUrlTemp","continueUrl","curEp","Progress","progress","listP","sortUnread","normalItems","preItems","watchedItems","sortItems","valA","getPredictionTimestamp","valB","prediction","isAiring","getCurrentEpisode","reverse","tempA","tempB","apiCall","fields","includes","headers","Authorization","dataObj","formBody","encodedKey","encodeURIComponent","encodedValue","responseText","checkIfBanned","rToken","refresh_token","access_token","refreshToken","animeStatus","mangaStatus","UserList","limit","picture","deauth","getOrder","order","sorting","curSt","paging","prepareData","newData","uid","malId","apiCacheKey","list_status","num_episodes_watched","totalEp","num_episodes","image","main_picture","medium","imageLarge","large","airingState","anime_airing_status","num_chapters_read","num_chapters","translateList","aniStatus","malStatus","CURRENT","PLANNING","COMPLETED","DROPPED","PAUSED","REPEATING","statusTranslate","getCacheKey","kitsuId","variables","requiresAuthentication","Accept","errors","imgCheck","compact","Viewer","mediaListOptions","opt","avatar","accessToken","userName","Page","mediaList","pageInfo","hasNextPage","tempData","media","idMal","userPreferred","siteUrl","episodes","round","coverImage","extraLarge","imageBanner","bannerImage","notes","chapters","prepareCompact","malid","current","planned","completed","dropped","on_hold","getTitle","titles","canonicalTitle","en","en_jp","ja_jp","authentication","detail","userRequest","slug","getUserId","userId","pre","userid","statusPart","meta","included","NaN","k","mapping","externalSite","relationships","externalId","kitsuSlug","episodeCount","ratingTwenty","posterImage","small","chapterCount","simklStatus","plantowatch","notinteresting","hold","simklId","getEpisode","episodePart","cacheList","syncList","lazy","lastCheck","activity","removed_from_list","checkRemoveList","newCacheList","show","ids","simkl","dateFrom","rated_at","rated","getSingle","mal","listVal","sData","asParameter","login","URLSearchParams","errorHandling","account","st","curep","last_watched","total_episodes_count","user_rating","poster","private_memo","authUrl","auth","parameter","client_id","client_secret","redirect_uri","grant_type","authRequest","catch","rus","eng","headline","tempList","nickname","x80","user_id","target_type","target_id","metadata","keyedMetadata","entry","keyedIds","diffArr","diffMetadata","russian","getSyncList","getRegex","sUrl","getList","localListEl","getListObj","listUpdateWithPOST","remoteUpdateList","asyncForEach","releaseItem","finished","xhrArray","malDATA","malDATAID","returnArray","tempArray","Request","malids","acc","predictionXhrPOST","elRef","progressValue","getProgress","notificationCheck","multiple","predictionXhrGET","config","mainId","fallback","fallbackPrediction","mainTemp","predicition","lastEp","predTemp","predTime","total","abs","probability","predSoon","cProgress","nProgress","noti","single","sticky","getImage","getStreamingUrl","getUrl","setBadgeText","browserAction","timestampToShortTime","tm","ago","curTime","diff","future","short","output","y","h","timeToString","milliseconds","hour","minute","seconds","year","msToTime","initReleaseProgress","liveData","force","progressMode","progressIsOld","getProgressCurrentEpisode","isProgressFinished","getProgressPrediction","getProgressLastTimestamp","live","isFinished","getPrediction","getPredictionText","getLastTimestamp","getLast","getLastText","getAuto","preT","getAutoText","getColor","getBars","predEp","totalWidth","epWidth","predWidth","ceil","SafeError","point10","ui","getOptions","label","valueToOptionValue","optionValueToValue","optionValue","SingleAbstract","rewatchingSupport","ani","kitsu","updateProgress","_onList","_authenticated","handleUrl","getType","supportsRewatching","getApiCacheKey","getKey","getRulesCacheKey","setStatus","_setStatus","getStatus","isOnList","_getStatus","NoState","getScoreMode","setScore","_setScore","getScore","_getScore","setAbsoluteScore","_setAbsoluteScore","getAbsoluteScore","_getAbsoluteScore","setEpisode","getTotalEpisodes","_setEpisode","_getEpisode","setVolume","volume","_setVolume","getVolume","_getVolume","setStreamingUrl","streamingUrl","cleanTags","getProgressMode","progressXhr","getProgressFormated","op","languageNames","Intl","DisplayNames","of","getProgressOptions","getProgressCompleted","setProgressMode","_getTags","getProgressKey","getPageRelations","shortName","link","fillRelations","update","_update","persistanceState","getStateEl","registerEvent","emitUpdate","_setTags","_sync","undoState","action","getPageId","getMalId","_delete","globalUpdateEvent","updateEvent","isDirty","setStateEl","undo","onList","_getTitle","eps","_getTotalEpisodes","getTotalVolumes","_getTotalVolumes","isAuthenticated","getDisplayUrl","_getDisplayUrl","getMalUrl","getIds","_getImage","getRating","_getRating","rating","setResumeWatching","getResumeWatching","setContinueWatching","getContinueWatching","increaseRewatchCount","absoluteScore","getStateDiff","persistance","checkSync","curEpisode","curStatus","curVolume","Completed","startRewatchingMessage","Rewatching","finishRewatchingMessage","finishWatchingMessage","Watching","startWatchingMessage","currentScore","getScoreCheckboxValue","checkHtml","getScoreCheckbox","handleScoreCheckbox","getDisplayScoreCheckbox","curScore","labelEl","getStatusCheckbox","statusEs","handleStatusCheckbox","getStatusCheckboxValue","allowed","forceMal","getLastError","getLastErrorMessage","displayUrl","pending","animeInfo","my_list_status","getRewatching","setRewatching","num_times_reread","num_times_rewatched","num_watched_episodes","num_volumes_read","is_rereading","is_rewatching","num_volumes","mean","start_date","finish_date","sentData","exists","da","Media","malToAnilist","point100","pattern","resArr","smiley3","stars5","point100decimal","toFixed","mediaListEntry","progressVolumes","volumes","averageScore","selectId","selectQuery","repeat","mediaId","scoreRaw","SaveMediaListEntry","point20decimal","smiley4","point10decimal","listI","animeI","reconsuming","ratingHundred","_getTwentyScore","volumesOwned","volumeCount","averageRating","kitsuSlugRes","kitsuSlugtoKitsu","kitsuRes","malToKitsu","tempAnimeInfo","reconsumeCount","tType","updateUrl","post","episodeUpdate","statusUpdate","ratingUpdate","minWatchedEp","curWatchedEp","de","extended","last_watched_at","next_to_watch","not_aired_episodes_count","watched_episodes_count","shows","to","number","seasons","mapToArray","provierList","resultList","masterM","master","slaves","changeCheck","slave","missingCheck","missing","tempTypes","syncType","syncListItem","syncItem","syncMissing","pageType","singleClass","Prov","listProvider","background","isEnabled","disable","enable","syncLists","providerList","providerType","providerSettings","providerSettingList","anilist","listOptions","getListF","typeArray","tempMode","masterMode","pi","retriveLists","masterList","slaveLists","generateSync","thisMissing","miss","stopped","saveInList","importList","curDate","patternValidationRegex","navigator","userAgent","allStarsRegex","allUrlsRegex","setListener","webNavigation","domains","listenerArray","onCompleted","domainConfig","frameId","executeScript","tabId","file","fixDomain","originAndPathMatches","singleListener","cleanupCustomDomains","pageScripts","content_scripts","content_script","js","some","pageOrigins","origin","getComparableDomains","customDomain","iframeScript","matchPatterns","matchPattern","protocol","pathname","getRawRegex","isIframeUrl","domainOrigin","scriptDomain","defaultImg","sendNotification","imgBlob","getImageBlob","messageArray","contextMessage","requireInteraction","eventTime","XMLHttpRequest","open","responseType","blob","createObjectURL","onerror","send","global","extend","f","E","P","K","O","S","A","C","D","I","B","T","F","M","N","stack","q","U","L","V","VersionChanged","DatabaseClosed","Abort","TransactionInactive","MissingAPI","W","_e","Y","z","failures","failedKeys","successCount","G","failuresByPos","_stack","H","Q","X","inner","Syntax","SyntaxError","Type","Range","RangeError","J","Z","ee","te","ne","se","onsuccess","ie","oe","ae","ue","ModifyError","DexieError","BulkError","le","ce","he","fe","subtle","digest","Uint8Array","pe","ye","me","ve","ge","$e","MutationObserver","observe","be","Se","we","xe","ke","Ee","Pe","Ke","unhandleds","onunhandled","dt","pgp","finalize","Oe","Ae","Ce","je","onuncatched","_lib","_PSD","_stackHolder","_prev","_numPrev","_state","Te","Be","De","Xe","tt","Fe","Ie","lt","qe","onFulfilled","onRejected","psd","Ue","_then","Re","Le","_promise","Ve","Me","Ne","We","Ye","it","finally","Timeout","ot","nt","race","PSD","totalEchoes","newPSD","Ze","usePSD","at","rejectionMapper","follow","allSettled","any","AggregateError","ze","awaits","echoes","Ge","He","Qe","Je","PromiseProp","nthen","ct","gthen","et","ft","rt","ut","ht","createEvent","initEvent","CustomEvent","dispatchEvent","PromiseRejectionEvent","onunhandledrejection","defaultPrevented","pt","idbdb","openComplete","letThrough","_vip","_createTransaction","_dbSchema","PR1398_maxLoop","InvalidState","isOpen","_close","trans","_completion","dbOpenError","isBeingOpened","_options","autoOpen","dbReadyPromise","yt","mt","fromCharCode","vt","bt","_t","wt","xt","kt","Et","Pt","Kt","Ot","St","At","lower","lowerOpen","upper","upperOpen","Ct","jt","_trans","_tx","NotFound","idbtrans","db","transless","where","first","core","reading","fire","WhereClause","equals","indexes","primKey","compound","every","keyPath","_maxKey","idxByName","_deps","indexedDB","cmp","multi","toCollection","and","Collection","orderBy","mapToClass","mappedClass","readHook","defineClass","auto","mutate","numFailures","lastResult","modify","InvalidArgument","put","range","bulkGet","getMany","bulkAdd","allKeys","wantResults","bulkPut","bulkDelete","Dt","addEventType","subscribers","It","Bt","algorithm","or","justLimit","replayFilter","Tt","Rt","Ft","isPrimKey","primaryKey","getIndexByKeyPath","Schema","Mt","openCursor","keysOnly","dir","unique","Nt","stop","fail","_iterate","qt","valueMapper","start","continue","$t","Ut","Lt","ArrayBuffer","isView","buffer","byteOffset","byteLength","Vt","_read","_ctx","_write","_addAlgorithm","min","sortBy","advance","until","isMatch","_ondirectionchange","eachKey","eachUniqueKey","eachPrimaryKey","primaryKeys","uniqueKeys","firstKey","lastKey","distinct","outbound","extractKey","modifyChunkSize","Wt","criteria","changeSpec","Yt","zt","Gt","Ht","Zt","Qt","Xt","Jt","between","_cmp","above","aboveOrEqual","below","belowOrEqual","startsWithIgnoreCase","equalsIgnoreCase","anyOfIgnoreCase","startsWithAnyOfIgnoreCase","anyOf","_ascending","_descending","notEqual","inAnyRange","includeLowers","includeUppers","noneOf","_min","_max","startsWithAnyOf","tn","nn","stopPropagation","preventDefault","rn","sn","an","_lock","_reculock","lockOwnerFor","_unlock","_blockedFuncs","_locked","OpenFailed","active","transaction","storeNames","durability","chromeTransactionDurability","onabort","oncomplete","storagemutated","mutatedParts","ReadOnly","_root","_waitingFor","_waitingQueue","objectStore","_spinCount","abort","_memoizedTables","Table","un","ln","cn","hn","only","dn","pn","yn","mn","upperBound","lowerBound","bound","hasGetAll","objectStoreNames","tables","autoIncrement","isPrimaryKey","indexNames","multiEntry","_pos","getAll","getAllKeys","openKeyCursor","___id","continuePrimaryKey","MIN_KEY","MAX_KEY","vn","_novip","IDBKeyRange","dbcore","_middlewares","gn","Transaction","bn","_n","_cfg","wn","_storeNames","kn","populate","_versions","Pn","dbschema","Kn","xn","change","recreate","Upgrade","En","deleteIndex","del","contentUpgrade","deleteObjectStore","contains","def","createObjectStore","createIndex","_hasGetAll","WorkerGlobalScope","On","_parseStoresSpec","stores","storesSource","_allTables","upgrade","Sn","_dbNamesDB","Xn","addons","dbnames","An","databases","Cn","jn","userAgentData","In","throw","Bn","Tn","PrematureCommit","Rn","Fn","level","isVirtual","keyTail","keyLength","Mn","Nn","deleting","creating","updating","qn","$n","_cache","Un","Ln","Vn","Gn","Wn","zn","up","Hn","addKey","addKeys","Qn","subscr","verno","dependencies","onReadyBeingFired","dbReadyResolve","cancelOpen","openCanceller","autoSchema","ready","vip","Version","_IDBKeyRange","newVersion","close","oldVersion","_fireOnBlocked","vcFired","use","_whenReady","unuse","onblocked","onupgradeneeded","allowEmptyDB","deleteDatabase","NoSuchDatabase","pow","onversionchange","onclose","Dn","backendDB","hasBeenClosed","hasFailed","dynamicallyOpened","_transaction","SubTransaction","InvalidTable","Jn","observable","Zn","_subscribe","er","nr","mozIndexedDB","webkitIndexedDB","msIndexedDB","webkitIDBKeyRange","rr","sr","ir","getDatabaseNames","ignoreTransaction","spawn","currentTransaction","derive","props","override","Events","liveQuery","closed","Yn","extendObservabilitySet","getByKeyPath","setByKeyPath","delByKeyPath","shallowClone","deepClone","getObjectDiff","asap","minKey","connections","errnames","semVer","maxKey","initCustomEvent","BroadcastChannel","unref","postMessage","onmessage","trig","changedParts","clients","matchAll","includeUncontrolled","serviceWorker","UPDATE_INTERVAL","updateEntry","addEntry","indexUpdate","globalMode","setKey","blocked","importEntries","permissions","onAdded","onRemoved","initCustomDomain","removeEntry","initDatabase","messageHandler","retry","onreadystatechange","readyState","responseURL","responseObj","finalUrl","setRequestHeader","tab","time","timeAdd","winId","windows","focused","width","height","win","getEntry","getEntryByMalId","databaseRequest","onInstalled","details","lastVersion","wizards","elements","garbage","perms","filteredDomains","wizard","upgradewWizzards","previousVersion","alarms","clearAll","listSyncLast","syncInterval","periodInMinutes","when","onAlarm","alarm","groupCollapsed","groupEnd","progressSyncLast","main","initProgressScheduler","webRequest","onBeforeSendHeaders","requestHeaders","header","urls","onClicked","notificationId","onMessageExternal"],"sourceRoot":""}